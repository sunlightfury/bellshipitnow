jQuery(document).ready(function($){$(this).find(".so-widget-search-parcel-tracking-widget").each(function(){openLink=$(this).find(".target-open-tab").val(),$(this).find(".icon-for-search-parcel-tracking").click(function(event){event.preventDefault();var input_id=$(this).siblings("input").data("id"),keyword=$("input#"+input_id).val(),search=$(this).attr("value")+keyword;window.open(search,openLink).focus()})}),$(this).find(".so-widget-search-parcel-tracking-widget input").on("keypress",function(e){if(13===e.which){var span_e=$(this).closest(".so-widget-search-parcel-tracking-widget").find("span:visible");if(span_e.length>1)return void span_e.eq(1).click();span_e.eq(0).click()}})});
jQuery(document).ready(function($){$(".carousel").on("touchstart",function(event){var xClick=event.originalEvent.touches[0].pageX;$(this).one("touchmove",function(event){var xMove=event.originalEvent.touches[0].pageX;Math.floor(xClick-xMove)>5?$(this).carousel("next"):Math.floor(xClick-xMove)<-5&&$(this).carousel("prev")}),$(".carousel").on("touchend",function(){$(this).off("touchmove")})})});
jQuery(document).ready(function($){$("#search-support").click(function(event){event.preventDefault();var keyword=$("input#sp-search").val();$("#search-form").submit(),window.open(search,"_blank").focus()})});
jQuery(document).ready(function($){var $$=$(".so-widget-dpd-text-teaser-psfinder-widget");$$.find("input").focus(function(){$(this).css("color","#414042"),$(this).val()==$(this).attr("placeholder")&&$(this).val("")}),$$.find("input").blur(function(){""===$(this).val()&&($(this).val($(this).attr("placeholder")),$(this).css("color",$(this).data("placeholder-color")))}),$$.find("i").click(function(event){event.preventDefault();var keyword=$(this).parent().find("input").val();keyword==$(this).parent().find("input").attr("placeholder")&&(keyword="");var url=$(this).data("url")+keyword,target=$(this).data("target");window.open(url,target).focus()}),$$.find("input").on("keypress",function(e){if(13===e.which){var keyword=$(this).val();keyword==$(this).attr("placeholder")&&(keyword="");var url=$(this).data("url")+keyword,target=$(this).data("target");window.open(url,target).focus()}})});
jQuery(document).ready(function($){$(this).find(".so-widget-search-parcel-tracking-embedded-widget").each(function(){openLink=$(this).find(".target-open-tab").val(),$(this).find(".icon-for-search-parcel-tracking").click(function(event){event.preventDefault();var input_id=$(this).siblings("input").data("id"),keyword=$("input#"+input_id).val(),search=$(this).attr("value")+keyword;window.open(search,openLink).focus()})}),$(this).find(".so-widget-search-parcel-tracking-embedded-widget input").on("keypress",function(e){if(13===e.which){var span_e=$(this).closest(".so-widget-search-parcel-tracking-embedded-widget").find("span:visible");if(span_e.length>1)return void span_e.eq(1).click();span_e.eq(0).click()}})});
/*!
 * clipboard.js v2.0.0
 * https://zenorocha.github.io/clipboard.js
 * 
 * Licensed MIT Â© Zeno Rocha
 */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.ClipboardJS=e():t.ClipboardJS=e()}(this,function(){return function(t){function e(o){if(n[o])return n[o].exports;var r=n[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var n={};return e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,o){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:o})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=3)}([function(t,e,n){var o,r,i;!function(a,c){r=[t,n(7)],o=c,void 0!==(i="function"==typeof o?o.apply(e,r):o)&&(t.exports=i)}(0,function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=function(t){return t&&t.__esModule?t:{default:t}}(e),r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),a=function(){function t(e){n(this,t),this.resolveOptions(e),this.initSelection()}return i(t,[{key:"resolveOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action=t.action,this.container=t.container,this.emitter=t.emitter,this.target=t.target,this.text=t.text,this.trigger=t.trigger,this.selectedText=""}},{key:"initSelection",value:function(){this.text?this.selectFake():this.target&&this.selectTarget()}},{key:"selectFake",value:function(){var t=this,e="rtl"==document.documentElement.getAttribute("dir");this.removeFake(),this.fakeHandlerCallback=function(){return t.removeFake()},this.fakeHandler=this.container.addEventListener("click",this.fakeHandlerCallback)||!0,this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[e?"right":"left"]="-9999px";var n=window.pageYOffset||document.documentElement.scrollTop;this.fakeElem.style.top=n+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,this.container.appendChild(this.fakeElem),this.selectedText=(0,o.default)(this.fakeElem),this.copyText()}},{key:"removeFake",value:function(){this.fakeHandler&&(this.container.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(this.container.removeChild(this.fakeElem),this.fakeElem=null)}},{key:"selectTarget",value:function(){this.selectedText=(0,o.default)(this.target),this.copyText()}},{key:"copyText",value:function(){var t=void 0;try{t=document.execCommand(this.action)}catch(e){t=!1}this.handleResult(t)}},{key:"handleResult",value:function(t){this.emitter.emit(t?"success":"error",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})}},{key:"clearSelection",value:function(){this.trigger&&this.trigger.focus(),window.getSelection().removeAllRanges()}},{key:"destroy",value:function(){this.removeFake()}},{key:"action",set:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"copy";if(this._action=t,"copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(t){if(void 0!==t){if(!t||"object"!==(void 0===t?"undefined":r(t))||1!==t.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&t.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(t.hasAttribute("readonly")||t.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=t}},get:function(){return this._target}}]),t}();t.exports=a})},function(t,e,n){function o(t,e,n){if(!t&&!e&&!n)throw new Error("Missing required arguments");if(!c.string(e))throw new TypeError("Second argument must be a String");if(!c.fn(n))throw new TypeError("Third argument must be a Function");if(c.node(t))return r(t,e,n);if(c.nodeList(t))return i(t,e,n);if(c.string(t))return a(t,e,n);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}function r(t,e,n){return t.addEventListener(e,n),{destroy:function(){t.removeEventListener(e,n)}}}function i(t,e,n){return Array.prototype.forEach.call(t,function(t){t.addEventListener(e,n)}),{destroy:function(){Array.prototype.forEach.call(t,function(t){t.removeEventListener(e,n)})}}}function a(t,e,n){return u(document.body,t,e,n)}var c=n(6),u=n(5);t.exports=o},function(t,e){function n(){}n.prototype={on:function(t,e,n){var o=this.e||(this.e={});return(o[t]||(o[t]=[])).push({fn:e,ctx:n}),this},once:function(t,e,n){function o(){r.off(t,o),e.apply(n,arguments)}var r=this;return o._=e,this.on(t,o,n)},emit:function(t){var e=[].slice.call(arguments,1),n=((this.e||(this.e={}))[t]||[]).slice(),o=0,r=n.length;for(o;o<r;o++)n[o].fn.apply(n[o].ctx,e);return this},off:function(t,e){var n=this.e||(this.e={}),o=n[t],r=[];if(o&&e)for(var i=0,a=o.length;i<a;i++)o[i].fn!==e&&o[i].fn._!==e&&r.push(o[i]);return r.length?n[t]=r:delete n[t],this}},t.exports=n},function(t,e,n){var o,r,i;!function(a,c){r=[t,n(0),n(2),n(1)],o=c,void 0!==(i="function"==typeof o?o.apply(e,r):o)&&(t.exports=i)}(0,function(t,e,n,o){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function u(t,e){var n="data-clipboard-"+t;if(e.hasAttribute(n))return e.getAttribute(n)}var l=r(e),s=r(n),f=r(o),d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},h=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),p=function(t){function e(t,n){i(this,e);var o=a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return o.resolveOptions(n),o.listenClick(t),o}return c(e,t),h(e,[{key:"resolveOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action="function"==typeof t.action?t.action:this.defaultAction,this.target="function"==typeof t.target?t.target:this.defaultTarget,this.text="function"==typeof t.text?t.text:this.defaultText,this.container="object"===d(t.container)?t.container:document.body}},{key:"listenClick",value:function(t){var e=this;this.listener=(0,f.default)(t,"click",function(t){return e.onClick(t)})}},{key:"onClick",value:function(t){var e=t.delegateTarget||t.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new l.default({action:this.action(e),target:this.target(e),text:this.text(e),container:this.container,trigger:e,emitter:this})}},{key:"defaultAction",value:function(t){return u("action",t)}},{key:"defaultTarget",value:function(t){var e=u("target",t);if(e)return document.querySelector(e)}},{key:"defaultText",value:function(t){return u("text",t)}},{key:"destroy",value:function(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)}}],[{key:"isSupported",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["copy","cut"],e="string"==typeof t?[t]:t,n=!!document.queryCommandSupported;return e.forEach(function(t){n=n&&!!document.queryCommandSupported(t)}),n}}]),e}(s.default);t.exports=p})},function(t,e){function n(t,e){for(;t&&t.nodeType!==o;){if("function"==typeof t.matches&&t.matches(e))return t;t=t.parentNode}}var o=9;if("undefined"!=typeof Element&&!Element.prototype.matches){var r=Element.prototype;r.matches=r.matchesSelector||r.mozMatchesSelector||r.msMatchesSelector||r.oMatchesSelector||r.webkitMatchesSelector}t.exports=n},function(t,e,n){function o(t,e,n,o,r){var a=i.apply(this,arguments);return t.addEventListener(n,a,r),{destroy:function(){t.removeEventListener(n,a,r)}}}function r(t,e,n,r,i){return"function"==typeof t.addEventListener?o.apply(null,arguments):"function"==typeof n?o.bind(null,document).apply(null,arguments):("string"==typeof t&&(t=document.querySelectorAll(t)),Array.prototype.map.call(t,function(t){return o(t,e,n,r,i)}))}function i(t,e,n,o){return function(n){n.delegateTarget=a(n.target,e),n.delegateTarget&&o.call(t,n)}}var a=n(4);t.exports=r},function(t,e){e.node=function(t){return void 0!==t&&t instanceof HTMLElement&&1===t.nodeType},e.nodeList=function(t){var n=Object.prototype.toString.call(t);return void 0!==t&&("[object NodeList]"===n||"[object HTMLCollection]"===n)&&"length"in t&&(0===t.length||e.node(t[0]))},e.string=function(t){return"string"==typeof t||t instanceof String},e.fn=function(t){return"[object Function]"===Object.prototype.toString.call(t)}},function(t,e){function n(t){var e;if("SELECT"===t.nodeName)t.focus(),e=t.value;else if("INPUT"===t.nodeName||"TEXTAREA"===t.nodeName){var n=t.hasAttribute("readonly");n||t.setAttribute("readonly",""),t.select(),t.setSelectionRange(0,t.value.length),n||t.removeAttribute("readonly"),e=t.value}else{t.hasAttribute("contenteditable")&&t.focus();var o=window.getSelection(),r=document.createRange();r.selectNodeContents(t),o.removeAllRanges(),o.addRange(r),e=o.toString()}return e}t.exports=n}])});
jQuery(document).ready(function($){if($(".share-action").length){var options={trigger:"manual",template:'<div class="tooltip copied" role="tooltip"><div class="arrow"></div><div class="tooltip-inner"></div></div>'};$(".clipboard-copy").tooltip(options),$(this).find(".social-share").on("click",function(e){var share_service=$(this).data("service"),share_title=encodeURI($(this).data("text")),share_url=encodeURI($(this).data("url"));switch(share_service){case"facebook":e.preventDefault();var facebookWindow=window.open("https://www.facebook.com/sharer/sharer.php?u="+share_url,"facebook-popup","height=350,width=600");facebookWindow.focus&&facebookWindow.focus();break;case"twitter":var twitter_url="https://twitter.com/intent/tweet?text="+share_title+"&url="+share_url;window.open(twitter_url,"","left=0,top=0,width=550,height=450,personalbar=0,toolbar=0,scrollbars=0,resizable=0");break;case"email":var mailto_link="mailto:?subject="+share_title+"&body="+share_url;location.href=mailto_link;break;default:var clipboard;new ClipboardJS(".clipboard-copy").on("success",function(e){$(".clipboard-copy").tooltip("show"),setTimeout(function(){$(".clipboard-copy").tooltip("hide")},2e3),e.clearSelection()})}})}function loadNewsListing(url,data,page,element_append){$.ajax({type:"POST",url:url,data:data,success:function(posts){page++,$("#currentPage").val(page),$("#loadingNews").hide(),void 0!==element_append?(element_append.html(posts),loadMore()):($("#newsContents").append(posts),loadMore())}})}function loadMore(){$("#newsContents").find("#isHaveNextPage").length?($("#more_posts").show(),$("#more_posts").attr("disabled",!1)):($("#more_posts").attr("disabled",!0),$("#more_posts").hide())}$(".select-filter .select-option").on("click",function(e){var selectedValue=$(this).data("value");$(this).parent().find("input").val(selectedValue),$("#newsContents").html(""),$("#more_posts").attr("disabled",!0),$("#more_posts").hide(),$("#isHaveNextPage").remove(),$("#loadingNews").show(),page=0,$("#currentPage").val(page);var cat=$("#newsCats").val();cat=JSON.parse(cat);var filter_room=$("#filterByRoom").val(),filter_date=$("#filterByDate").val(),ppp=$("#newsPerPage").val(),ajaxUrl=$("#ajaxUrl").val(),readMore=$("#readMoreText").val(),data;loadNewsListing(ajaxUrl,{action:"more_post_ajax",offset:page*ppp,ppp:ppp,page:page,cat:cat,room:$("#filterByRoom").val(),date:$("#filterByDate").val(),read_more:readMore},page,$("#newsContents"))}),$(".news-filter-mobile .apply-filter").on("click",function(e){var $filterDiv=$(this).closest(".news-filter-mobile");$("#newsContents").html(""),$("#more_posts").attr("disabled",!0),$("#more_posts").hide(),$("#isHaveNextPage").remove(),$("#loadingNews").show(),page=0,$("#currentPage").val(page);var cat=$("#newsCats").val();cat=JSON.parse(cat);var filter_room=$filterDiv.find(".filter-by-room").data("value");filter_room=filter_room||0;var filter_date=$filterDiv.find(".filter-by-date").data("value");filter_date=filter_date||0;var ppp=$("#newsPerPage").val(),ajaxUrl=$("#ajaxUrl").val(),readMore=$("#readMoreText").val(),data;$("#filterByRoom").val(filter_room),$("#filterByDate").val(filter_date),loadNewsListing(ajaxUrl,{action:"more_post_ajax",offset:page*ppp,ppp:ppp,page:page,cat:cat,room:$("#filterByRoom").val(),date:$("#filterByDate").val(),read_more:readMore},page,$("#newsContents")),$filterDiv.find(".filter-close-sm").trigger("click")}),$("#more_posts").on("click",function(){$("#more_posts").attr("disabled",!0),$("#more_posts").hide(),$("#isHaveNextPage").remove(),$("#loadingNews").show();var cat=$("#newsCats").val();cat=JSON.parse(cat);var filter_room=$("#filterByRoom").val(),filter_date=$("#filterByDate").val(),ppp=$("#newsPerPage").val(),ajaxUrl=$("#ajaxUrl").val(),page=$("#currentPage").val(),readMore=$("#readMoreText").val(),data;loadNewsListing(ajaxUrl,{action:"more_post_ajax",offset:page*ppp,page:page,ppp:ppp,cat:cat,room:$("#filterByRoom").val(),date:$("#filterByDate").val(),read_more:readMore},page)}),$("body").delegate(".filter-close, .filter-close-sm","click",function(){$(this).closest(".news-filter-mobile").fadeOut(),$(".filter-icon").fadeIn()})});
var datepicker=$.fn.datepicker.noConflict();$.fn.bootstrapDP=datepicker,function(){if(navigator.userAgent){var versionMatch,versionMatch;if(navigator.userAgent.indexOf("Safari")>-1)(versionMatch=navigator.userAgent.match(/Version[\/\s](\d+)/i))&&versionMatch[1]&&parseInt(versionMatch[1])<9&&document.body.classList.add("opera");if(window.opera||navigator.userAgent.indexOf("Opera")>-1||navigator.userAgent.indexOf("OPR")>-1)(versionMatch=navigator.userAgent.match(/(Version|OPR|Opera)[\/\s](\d+)/i))&&versionMatch[2]&&parseInt(versionMatch[2])<17&&document.body.classList.add("opera");(navigator.userAgent.indexOf("MSIE")>-1||navigator.userAgent.indexOf("Edge/15")>-1||navigator.userAgent.indexOf("Edge/14")>-1||navigator.userAgent.indexOf("Trident/")>-1)&&document.body.classList.add("internet-explorer"),navigator.userAgent.indexOf("Edge/16")>-1&&document.body.classList.add("ms-edge")}}();var idxHash=window.location.toString().indexOf("#_=_");function getCurrentURL_ID(){var id=null,get_full_url=window.location.href;if(get_full_url.match(/['#']/i)){var tag_id=get_full_url.substring(get_full_url.lastIndexOf("#")+1);if(void 0!==tag_id&&""!=tag_id){id=tag_id;try{var detectVaild=$("#"+id)}catch(e){id=null}}}return id}function jump_to_anchor_link(){var get_current_url_id=getCurrentURL_ID();if(null!=get_current_url_id&&void 0!==get_current_url_id&&""!=get_current_url_id){var find_tag=$("#"+get_current_url_id);if(find_tag.length)return $("html, body").animate({scrollTop:$(find_tag).offset().top-150},100),!0}return!1}function dpd_getCookie(cname){for(var name=cname+"=",decodedCookie,ca=decodeURIComponent(document.cookie).split(";"),i=0;i<ca.length;i++){for(var c=ca[i];" "==c.charAt(0);)c=c.substring(1);if(0==c.indexOf(name))return c.substring(name.length,c.length)}return""}function dpd_getHostname(url){var hostname;return hostname=(hostname=(hostname=url.indexOf("//")>-1?url.split("/")[2]:url.split("/")[0]).split(":")[0]).split("?")[0]}function htmlspecialchars_decode(string,quoteStyle){var optTemp=0,i=0,noquotes=!1;void 0===quoteStyle&&(quoteStyle=2),string=string.toString().replace(/&lt;/g,"<").replace(/&gt;/g,">");var OPTS={ENT_NOQUOTES:0,ENT_HTML_QUOTE_SINGLE:1,ENT_HTML_QUOTE_DOUBLE:2,ENT_COMPAT:2,ENT_QUOTES:3,ENT_IGNORE:4};if(0===quoteStyle&&(noquotes=!0),"number"!=typeof quoteStyle){for(quoteStyle=[].concat(quoteStyle),i=0;i<quoteStyle.length;i++)0===OPTS[quoteStyle[i]]?noquotes=!0:OPTS[quoteStyle[i]]&&(optTemp|=OPTS[quoteStyle[i]]);quoteStyle=optTemp}return quoteStyle&OPTS.ENT_HTML_QUOTE_SINGLE&&(string=string.replace(/&#0*39;/g,"'")),noquotes||(string=string.replace(/&quot;/g,'"')),string=string.replace(/&amp;/g,"&")}function validateInput(e){-1!==$.inArray(e.keyCode,[46,8,9,27,13,110,190])||65==e.keyCode&&(!0===e.ctrlKey||!0===e.metaKey)||67==e.keyCode&&(!0===e.ctrlKey||!0===e.metaKey)||86==e.keyCode&&(!0===e.ctrlKey||!0===e.metaKey)||88==e.keyCode&&(!0===e.ctrlKey||!0===e.metaKey)||e.keyCode>=35&&e.keyCode<=39||((e.shiftKey||e.keyCode<48||e.keyCode>57)&&(e.keyCode<96||e.keyCode>105)&&e.preventDefault(),$(this).bind("paste",function(e){var clipboardData,pastedData;(e.clipboardData||e.originalEvent.clipboardData||window.clipboardData).getData("text").match(/^[0-9_]+$/)||e.preventDefault()}),13!=e.keyCode&&($(".dimension-h-div").filter(".validation-failed").removeClass("validation-failed"),$(".dimension-h-span").filter(".validation-error").removeClass("validation-error"),$(".dimension-w-div").filter(".validation-failed").removeClass("validation-failed"),$(".dimension-w-span").filter(".validation-error").removeClass("validation-error"),$(".dimension-l-div").filter(".validation-failed").removeClass("validation-failed"),$(".dimension-l-span").filter(".validation-error").removeClass("validation-error"),$("#error-box-calculator-175").attr("style","display:none"),$("#error-box-input").attr("style","display:none"),$("#error-box-input-not-less-1").attr("style","display:none")))}function isMobileDevice(){return void 0!==window.orientation||-1!==navigator.userAgent.indexOf("IEMobile")}idxHash>0&&(window.location=window.location.toString().substring(0,idxHash)),$(document).ready(function(){function detectIE(){var ua=window.navigator.userAgent,msie,trident;if(ua.indexOf("MSIE ")>0)return!0;if(ua.indexOf("Trident/")>0){var rv=ua.indexOf("rv:");return!0}var edge=ua.indexOf("Edge/");return!1}function reinitSliderOF(elementContent){var _content=$(elementContent);_content.is(":visible")&&_content.find("[type=type_slider] .dragdealer").each(function(){if(!0!==$(this).data("has-initialized")){var _dragdealerID=$(this).attr("id");_dragdealerID&&void 0!==window[_dragdealerID]&&(window[_dragdealerID].init(),$(this).data("has-initialized",!0))}})}var version_ie;jump_to_anchor_link(),jQuery("body").hasClass("site-loading")&&setTimeout(function(){jQuery("body").removeClass("site-loading")},500),detectIE()&&($("body").addClass("internet-explorer"),$(".img-container").each(function(){var $container=$(this),imgUrl=$container.find("img").prop("src");imgUrl&&$container.css("backgroundImage","url("+imgUrl+")").addClass("custom-object-fit")})),jQuery("body").hasClass("internet-explorer")&&setTimeout(function(){var header_height=$("header.sticky-top").height(),cookie_notice_height;($("body.internet-explorer header.row-fix-margin").css({"margin-left":"-8px","margin-right":"-8px"}),$("body.internet-explorer").css("padding-top",header_height+"px"),$("#cookie-notice").length)?(header_height-=$("#cookie-notice").height(),$("body.internet-explorer .holder-menu").css("margin-top","-"+header_height+"px")):$("body.internet-explorer .holder-menu").css("margin-top","-"+header_height+"px")},500),$.each($(".text-box"),function(key,value){var $this=$(this);""!=$this.val()&&($this.next(".placeholder").addClass("focus").addClass("small-text"),$this.parent().addClass("focus"))}),$.each($(".input-box .text-box"),function(key,value){var $this=$(this);$this.hasClass("text-search-box")||($this.parents(".footer-sitemap").length?$this.parent().append('<span class="input-clear input-clear-subscribe dashicons dashicons-no-alt"></span>'):$this.parent().append('<span class="input-clear dashicons dashicons-no-alt"></span>'),$this.on("blur",function(){var $this;$(this).parent().find(".input-clear").css("visibility","hidden")}))}),$.each($(".placeholder"),function(key,value){var $this=$(this),placeholder_content;""==$this.text().trim()&&$this.parent().addClass("no-placeholder")}),$(".input-clear").mouseover(function(){$(".input-box .text-box").off("blur")}).mouseleave(function(){$(".input-box .text-box").on("blur",function(){""==$(this).val()&&($(this).next(".placeholder").removeClass("focus").removeClass("small-text"),$(this).parent().removeClass("focus")),$(this).parent().find(".input-clear").css("visibility","hidden"),$(this).attr("placeholder","")})}),$(".input-clear").on("click",function(e){var $this=$(this);$this.parent().find(".text-box").val(""),$this.parent().find(".input-clear").css("visibility","hidden"),$this.parent().find(".datepicker").length>0&&$this.parent().find(".datepicker").trigger("click"),$this.parent().find(".timepicker").length>0&&$this.parent().find(".timepicker").trigger("change")}),$(".wdform-element-section-js").on("click",function(e){e.stopImmediatePropagation(),$(this).children(".input-box").children(".tooltip-open").length>0?$(this).children(".input-box").children(".timepicker").siblings(".tooltip-open").trigger("click"):$(this).find(".text-box").focus()}),$(".input-box .placeholder").on("click",function(e){e.stopImmediatePropagation(),$(this).prev(".text-box").trigger("focus")}),$(".input-box .text-box").on("focus change",function(){var $this=$(this);$this.hasClass("hi-shipping-date")||($this.parent().hasClass("readonly")||($this.parent().addClass("focus"),$this.next(".placeholder").addClass("focus").addClass("small-text")),""!==$this.val()&&$this.parent().find(".input-clear").css("visibility","visible"))}),$(".input-box .text-box").on("keypress",function(){var $this=$(this);$this.hasClass("hi-shipping-date")||$this.parent().find(".input-clear").css("visibility","visible")}),$(".input-box .text-box").on("keyup",function(){var $this=$(this);$this.hasClass("hi-shipping-date")||(""!=$this.val()?$this.parent().find(".input-clear").css("visibility","visible"):$this.parent().find(".input-clear").css("visibility","hidden"))}),$(".tooltip-open").on("click",function(e){e.stopImmediatePropagation(),$(this).next(".tooltip-info").is(":visible")?$(this).next(".tooltip-info").fadeOut():$(this).next(".tooltip-info").fadeIn()}),$(".clock-time").not(".clock-time.disabled").on("click",function(){$(this).hasClass("active")?($(this).removeClass("active"),$(this).parent().siblings(".timepicker").val("")):($(".clock-time").removeClass("active"),$(this).addClass("active"),$(this).parent().siblings(".text-box").trigger("focus"),$(this).parent().siblings(".text-box").val($(this).text()).trigger("change"))}),$(".select-box").on("click",function(e){if(e.stopImmediatePropagation(),$(this).find(".select-option-wrap").is(":visible"))$(this).find(".select-option-wrap").hide(),$(this).find(".select-expand").removeClass("show");else{$(".select-box").find(".select-option-wrap").hide(),$(".select-box").find(".select-expand").removeClass("show");var heightOfSelectBox=$(this).height(),distanceTop=$(this).offset().top,distanceButton=$(document).height()-distanceTop-heightOfSelectBox,heightOfDropdown=$(this).find(".select-option-wrap").height(),heightOfHeader;heightOfDropdown+$("header").height()<distanceTop&&heightOfDropdown+heightOfSelectBox>distanceButton?$(this).find(".select-option-wrap").addClass("select-option-wrap-up"):$(this).find(".select-option-wrap").removeClass("select-option-wrap-up"),$(this).find(".select-option-wrap").show(),$(this).find(".select-expand").addClass("show")}}),$(".select-option-wrap .select-option").on("click",function(){$(this).parent().parent().addClass("selected").removeClass("validation-failed"),$(this).parent().parent().find("span").first().hasClass("ia-telephone-code-span")||$(this).parent().parent().find("span").first().hasClass("da-telephone-code-span")||$(this).parent().parent().find("span").first().hasClass("as-telephone-code-span")?$(this).parent().prev(".placeholder").html($(this).html().trim()):$(this).parent().prev(".placeholder").text($(this).text()),$(this).parent().prev(".placeholder").closest(".select-box.selected").attr("title",$(this).text()),$(this).parent().parent().next("select").val($(this).data("value")).trigger("change")}),$(".radio-box").on("click",function(){$(this).hasClass("selected")||($(this).parents(".radio-group").find(".radio-box").removeClass("selected"),$(this).addClass("selected"),$(this).siblings("input").prop("checked",!0))}),$(".radio-value").on("click",function(){$(this).prev(".radio-box").trigger("click")}),$(".check-box").on("click",function(){$(this).find(".check-box-checked").hasClass("d-none")?($(this).find(".check-box-checked").removeClass("d-none"),$(this).siblings("input").prop("checked",!0)):($(this).find(".check-box-checked").addClass("d-none"),$(this).siblings("input").prop("checked",!1))}),$(".search-box").on("click",function(){var hasShow=$(this).hasClass("show");if($(this).addClass("show"),$(this).find(".btn-form-search").trigger("search:on"),!hasShow){var textbox=$(this).find(".text-search-box");setTimeout(function(){textbox.focus()},50)}$(this).hasClass("mobile-search")&&$(".sticky-header").trigger("sticky_kit:detach")}),$(".header-search .input-icon").on("click",function(){$(this).parent().hasClass("show")&&$("#search-desktop").submit()}),$("body").mouseup(function(e){var container=$(".search-box");container.is(e.target)||0!==container.has(e.target).length||container.removeClass("show")}),$(".text-search-box").on("focus",function(){if($(this).siblings(".search-term-wrap").length>0){var $obj=$(this);setTimeout(function(){$obj.siblings(".search-term-wrap").show()},300)}}),$("#search-desktop .text-search-box").on("focus",function(){isMobileDevice()&&($(window).scrollTop(0),$(".sticky-header").trigger("sticky_kit:detach"))}),$("#search-desktop .text-search-box").on("blur",function(){$(".sticky-header").stick_in_parent()}),$(".search-close").on("click",function(e){if(e.stopImmediatePropagation(),$(this).next(".search-term-wrap").hide(),$(this).siblings(".text-box").val(""),$(this).siblings(".text-search-box").val(""),($(this).hasClass("mobile-search-close")||isMobileDevice())&&$(".sticky-header").stick_in_parent(),$(this).hasClass("mobile-search-close")){var _self=this;setTimeout(function(){$(_self).parent().removeClass("show")},250)}else $(this).parent().removeClass("show");$(this).closest("form").find(".btn-form-search").trigger("search:off")}),$(".header-4, .content-slider").carousel({interval:5e3}),$(".item-slider").slick({infinite:!0,slidesToShow:3,slidesToScroll:1,nextArrow:'<button type="button" class="slick-next"><span class="slick-slide-arrow slick-slide-arrow-right"></span></button>',prevArrow:'<button type="button" class="slick-prev"><span class="slick-slide-arrow slick-slide-arrow-left"></span></button>',responsive:[{breakpoint:767,settings:{slidesToShow:1,slidesToScroll:1}}]}),$(".table-slider").slick({infinite:!0,slidesToShow:1,slidesToScroll:1,nextArrow:'<button type="button" class="slick-next"><span class="slick-slide-arrow slick-slide-arrow-right"></span></button>',prevArrow:'<button type="button" class="slick-prev"><span class="slick-slide-arrow slick-slide-arrow-left"></span></button>',responsive:[{breakpoint:767,settings:{slidesToShow:1,slidesToScroll:1}}]}),$("body").on("click",function(e){$(".select-option-wrap, .search-term-wrap").hide(),$(".select-expand").removeClass("show"),$(".timepicker-panel").fadeOut()}),$(".navbar .dropdown").mouseenter(function(){$(".nav-bg-hover").stop().fadeIn(100)}),$(".mainnavbar ul.navbar-nav > li.nav-item.current-menu-item").not(".current-menu-parent").find(".dropdown-menu").clone().appendTo(".holder-menu"),$(".mainnavbar ul.navbar-nav > li.nav-item.current-menu-parent").not(".current-menu-item").find(".dropdown-menu").clone().appendTo(".holder-menu"),$(".mainnavbar ul.navbar-nav > li.nav-item.current-menu-item.current-menu-parent").find(".dropdown-menu").clone().appendTo(".holder-menu"),function(){var burgerCurrentItems=[];if($(".offcanvas-content ul.burger-menu-desktop > li.has-sub.current-menu-parent, .offcanvas-content ul.burger-menu-desktop > li.has-sub.current-menu-item").first().find("ul.sub li").each(function(){var _menuItem=$(this).find("> a").first();_menuItem.length&&burgerCurrentItems.push($('<div class="col-lg-4"/>').append($("<a />").attr("class","dropdown-item"+_menuItem.attr("class")||"dropdown-item").attr("href",_menuItem.attr("href")||"").append($("<span/>").text(_menuItem.text()))))}),0==$(".mainnavbar ul.navbar-nav").find("> li.nav-item.current-menu-item, > li.nav-item.current-menu-parent").length){burgerCurrentItems.length&&($(".holder-menu").append($('<div class="dropdown-menu row"/>').append($('<div class="col-12"/>').append($('<div class="row font-light sub-burger-item"/>')))),burgerCurrentItems.forEach(function(item){$(".holder-menu > .dropdown-menu.row .row.sub-burger-item").append(item)}));var _itemAncestor=$(".offcanvas-content ul.burger-menu-desktop > li.current-menu-parent, .offcanvas-content ul.burger-menu-desktop > li.current-menu-item").first(),_menuItemAncestor=_itemAncestor.find("> a").first();_itemAncestor.length&&_menuItemAncestor.length&&$(".mainnavbar ul.navbar-nav").append($('<li class="nav-item dropdown current-menu-parent current-menu-item" />').append($('<a class="nav-link dropdown-toggle" />').attr("href",_menuItemAncestor.attr("href")||"").append($("<span />").text(_menuItemAncestor.text()))))}}();var logo_width,holder_width=$(".navbar .navbar-brand").width()+75;function stopEventOnce(event){var $canvasMenu=$(event.target).closest(".offcanvas-menu.show");if(("mousewheel"==event.type||"DOMMouseScroll"==event.type)&&$canvasMenu.length>0){if(event.hasOwnProperty("originalEvent")&&("mousewheel"==event.type&&event.originalEvent.wheelDelta>0||"DOMMouseScroll"==event.type&&event.originalEvent.detail<0)){if(0==$canvasMenu.prop("scrollTop"))return event.preventDefault(),$(this).unbind("click",stopEventOnce),!1}else if($canvasMenu.prop("offsetHeight")+$canvasMenu.prop("scrollTop")==$canvasMenu.prop("scrollHeight"))return event.preventDefault(),$(this).unbind("click",stopEventOnce),!1}else if(0==$canvasMenu.length)return event.preventDefault(),$(this).unbind("click",stopEventOnce),!1;return!0}$(".holder-menu").is(":empty")?$(".holder-menu").css({top:"-9999px",position:"absolute"}):($(".holder-menu").css({"padding-left":holder_width+"px"}),$(".holder-menu").addClass("active")),$(".navbar .dropdown-menu, .navbar .dropdown").mouseleave(function(){$(".nav-bg-hover").stop().fadeOut(100)}),$(".nav-bg-hover").on("click",function(){$(this).stop().fadeOut(100)}),$(".offcanvas-menu").on("click",function(e){e.stopImmediatePropagation()}),$(".content-image").each(function(i,el){$(el).css("min-height",$(el).find(".image-inline").height()+30)}),$(document).scroll(function(){$(".scroll-effect").each(function(i,el){$(el).is(":appeared")&&setTimeout(function(){$(el).addClass("fly-in").removeClass("scroll-effect")},200)})}),$("#noti-icon").click(function(){$("#content-noti").toggle()}),$("#user-icon").click(function(){$("#content-user").toggle()}),$("#section-header-chat").click(function(){$("#chat-content").toggle()}),$(".dpot-finder-form").on("submit",function(e){e.preventDefault(),$(".depot-result").slideDown()}),$(".offmenu-toggle").on("click",function(){$(window).width()<992?$("body").css({overflow:"hidden",position:"fixed",width:"100%"}):$("body").css({overflow:"",position:""}),$(".offcanvas-wrap").show(),setTimeout(function(){$(".offcanvas-menu").addClass("show")},50),$("body").on("scroll touchmove mousewheel DOMMouseScroll",stopEventOnce)}),$(".offcanvas-content .has-sub > .sub-expand").on("click",function(e){e.preventDefault(),e.stopImmediatePropagation(),$(this).hasClass("active")?($(this).removeClass("active"),$(this).next(".sub").stop().slideUp()):($(this).addClass("active"),$(this).next(".sub").stop().slideDown())}),$(".offcanvas-wrap, .offcanvas-close").on("click",function(){$("body").css({overflow:"",position:""}),$(".offcanvas-wrap").fadeOut(),$("body").off("scroll touchmove mousewheel DOMMouseScroll",stopEventOnce),$(".offcanvas-menu").removeClass("show")}),$(window).resize(function(){$(".offcanvas-wrap .offcanvas-menu").is(":visible")&&$(window).width()<992?$("body").css({overflow:"hidden",position:"fixed",width:"100%"}):$("body").css({overflow:"",position:""}),$(".content-image").each(function(i,el){$(el).css("min-height",$(el).find(".image-inline").height()+30)}),$(".news-box").each(function(i,el){$(window).width()<=767?$(el).find(".news-box-part").css("height",$(el).find(".news-thumbnail").height()):$(el).find(".news-box-part").removeAttr("style")})}),$(".news-box").each(function(i,el){$(window).width()<=767?$(el).find(".news-box-part").css("height",$(el).find(".news-thumbnail").height()):$(el).find(".news-box-part").removeAttr("style")}),$(document).on("click",".q-a-section .question",function(){$(this).next(".answer").stop().slideToggle("slow",function(){calculatorHeightModule022()}),$(this).parent().toggleClass("show"),$(".size-item, .item-slider").length>0&&$(".size-item, .item-slider").slick("setPosition");try{reinitSliderOF($(this).next(".answer"))}catch(e){}}),$(".collapsible-toggle").on("click",function(){$(this).next(".collapsible-content").stop().slideToggle("slow",function(){calculatorHeightModule022()}),$(this).toggleClass("show"),$(".size-item, .item-slider").length>0&&$(".size-item, .item-slider").slick("setPosition");try{reinitSliderOF($(this).next(".collapsible-content"))}catch(e){}}),$(".mb-collapsible-toggle").on("click",function(){$(".mb-collapsible-content").stop().slideToggle(),$(this).toggleClass("show");try{reinitSliderOF($(this).next(".collapsible-content"))}catch(e){}}),$(".text-toggle").on("click",function(){$(this).hasClass("show")?($(this).prev("div").find("p").css("height",60),$(this).prev("div").find("p").removeClass("show"),$(this).removeClass("show")):($(this).prev("div").find("p").css("height",90),$(this).prev("div").find("p").addClass("show"),$(this).addClass("show"))}),$(".footer-sub-expand").on("click",function(){$(this).next(".footer-link-content").stop().slideToggle(),$(this).toggleClass("show")}),$(".filter-close, .filter-close-sm").on("click",function(){$(this).closest(".news-filter, .news-filter-mobile").fadeOut(),$(".filter-icon").fadeIn()}),$(".filter-icon").on("click",function(){$(".news-filter").fadeIn(),$(this).fadeOut()}),$(".cookie-close").on("click",function(){$(this).parent().fadeOut()}),$(".filter-icon-sm").on("click",function(){$("body").css("overflow","hidden"),$(".news-filter-mobile").fadeIn()}),$(".filter-close-sm").on("click",function(){$("body").css("overflow","auto"),$(".news-filter-mobile").fadeOut()}),$(".filter-content-sm .has-sub > div.row > div[class*=col] .sub-expand").on("click",function(e){e.preventDefault(),e.stopImmediatePropagation(),$(this).hasClass("active")?($(this).removeClass("active"),$(this).closest(".has-sub").find("div.row > div[class*=col] ul.sub").stop().slideUp()):($(this).addClass("active"),$(this).closest(".has-sub").find("div.row > div[class*=col] ul.sub").stop().slideDown())}),$(".filter-content-sm .sub li").on("click",function(){$(this).parent().find("li").not($(this)).removeClass("primary-color"),$(this).toggleClass("primary-color"),$(this).parent().find(".primary-color").length>0?$(this).closest(".has-sub").find(".filter-psedo").addClass("primary-color").text($(this).text()).data("value",$(this).data("value")):$(this).closest(".has-sub").find(".filter-psedo").removeClass("primary-color").text($(this).closest(".has-sub").find(".filter-psedo").attr("title")).data("value",0),$(this).closest(".has-sub").find("> div.row > div[class*=col] .sub-expand").trigger("click"),$(".filter-content-sm").find("li.primary-color").length>0?$(".apply-filter .btn").removeClass("btn-inactive").addClass("btn-primary"):$(".apply-filter .btn").addClass("btn-inactive").removeClass("btn-primary")}),$(".filter-psedo").on("click",function(){$(this).closest(".has-sub").find("> div.row > div[class*=col] .sub-expand").trigger("click")}),$('.panel-row-style[data-stretch-type="full-stretched"], .panel-row-style[data-stretch-type="full"]').each(function(i,el){$(el).parent(".panel-grid").css({"max-width":"100%"})}),$(".panel-grid .panel-grid-cell").has("> .widget_dpd-text-teaser-widget,> .widget_dpd-text-teaser-psfinder-widget,> .panel-cell-style >.widget_dpd-text-teaser-widget,> .panel-cell-style > .widget_dpd-text-teaser-psfinder-widget").each(function(){var $teaserItems=$(this).find("> .widget_dpd-text-teaser-widget,> .widget_dpd-text-teaser-psfinder-widget,> .panel-cell-style > .widget_dpd-text-teaser-widget,> .panel-cell-style > .widget_dpd-text-teaser-psfinder-widget");$teaserItems.length>2&&($teaserItems.closest(".panel-grid.panel-no-style, .panel-grid.panel-has-style").css({alignItems:"inherit",maxWidth:$(window).width()>=1200?"1124px":"1200px",marginLeft:"auto",marginRight:"auto"}),$teaserItems.closest(".panel-grid.panel-no-style, .panel-grid.panel-has-style").addClass("change-teaser-position"),$teaserItems.parent().addClass("teaser-container row row-spacing row-fix-margin row-sm-fix-margin"),$teaserItems.addClass("col-lg-4 col-6"),$teaserItems.closest('[id*="pg-"]').removeClass("panel-grid").removeClass("panel-grid-cell").find(".so-panel").removeClass("so-panel"),$teaserItems.closest('[id*="pgc-"]').removeAttr("id").removeClass("panel-grid").removeClass("panel-grid-cell").find(".so-panel").removeClass("so-panel"),$teaserItems.length%3==1&&$teaserItems.last().removeClass("col-lg-4").addClass("col-lg-12"),$teaserItems.length%3==2&&($teaserItems.last().removeClass("col-lg-4").addClass("col-lg-6"),$($teaserItems.get($teaserItems.length-2)).removeClass("col-lg-4").addClass("col-lg-6")),$teaserItems.length%2==1&&$teaserItems.last().removeClass("col-6").addClass("col-12"),$teaserItems.each(function(i,teaser){i%2==0?$(teaser).addClass("teaser-item-odd"):$(teaser).addClass("teaser-item-even")}),$(window).resize(function(e){$teaserItems.closest(".panel-grid.panel-no-style, .panel-grid.panel-has-style").css({maxWidth:$(window).width()>=1200?"1170px":"1200px"})}))}),$(".panel-grid .panel-grid-cell").has(".so-widget-dpd-button-widget").each(function(){var button=$(this).find(".widget_dpd-button-widget");button.addClass("margin-bottom-button"),button.last().removeClass("margin-bottom-button"),button.closest(".panel-grid-cell").addClass("row align-button"),button.addClass("col-lg-3 col-md-4 col-12 mb-lg-0 py-lg-2 mb-md-3"),$(this).find(".widget_dpd-button-widget").length>1&&$(this).find(".widget_dpd-button-widget").length<4&&button.addClass("col-lg-3 col-md-4 col-12 mb-md-0 py-md-2 mb-md-3"),$(".so-widget-dpd-accordion-content-widget").has(".widget_dpd-button-widget").each(function(){$(".so-widget-dpd-accordion-content-widget").find(".widget_dpd-button-widget").closest(".panel-grid-cell").closest(".panel-layout").addClass("padding-button-004")}),$(".panel-layout .panel-grid").has(".so-widget-dpd-header-modules-theme-pages-widget .widget_dpd-button-widget").each(function(){var button2=$(this).find(".panel-grid-cell");button2.removeClass("row align-button"),button2.find(".widget_dpd-header-modules-theme-pages-widget").removeClass("col-lg-3 col-md-4 col-12 py-lg-2 py-md-2 mb-md-3"),button2.find(".widget_dpd-header-modules-theme-pages-widget .widget_dpd-button-widget").removeClass("col-lg-3 col-md-4 col-12 py-lg-2 py-md-2 mb-md-3")})}),$(".panel-grid .panel-grid-cell").has(".so-widget-dpd-button-widget").find(".so-widget-dpd-header-modules-theme-pages-widget .button-position-019").each(function(){var _buttonOnHeaderModule;$(this).find(".widget_dpd-button-widget").last().addClass("margin-bottom-button-end")}),$(".panel-grid .panel-row-style").has(".widget_dpd-job-ad-boxes-022-widget").each(function(){$(this).find(".content-wrap-030-031").length||$(this).find(".content-wrap-005").length||$(this).find(".content-wrap-004").length||$(this).addClass("row wrap-module-022")}),$(".panel-grid.panel-no-style").has(".widget_dpd-job-ad-boxes-022-widget").each(function(){$(this).find(".panel-grid-cell").length>1&&$(this).find(".panel-grid-cell").length<=$(this).find(".widget_dpd-job-ad-boxes-022-widget").length?($(".panel-grid.panel-no-style").css("flex-direction","row"),$(this).find(".content-wrap-030-031").length||$(this).find(".content-wrap-005").length||$(this).find(".content-wrap-004").length||$(this).find(".panel-grid-cell").wrapAll("<div class='col-12'><div class='row wrap-module-022'></div></div>")):1==$(this).find(".panel-grid-cell").length&&$(this).find(".module-022").addClass("col-12")});var calculatorHeightModule022=function(){$(document).find(".module-022").height("auto"),$(window).width()>768&&$(document).find(".wrap-module-022").each(function(){if($(this).find(".module-022").length>1){var h=0;$(this).find(".module-022").each(function(){$(this).height()>h&&(h=$(this).height())}),h>0&&$(this).find(".module-022").height(h)}})};calculatorHeightModule022(),$(window).resize(function(){calculatorHeightModule022()}),$(".wdform-page-and-images").removeAttr("style"),$("body").delegate(".holder-menu a.menu-item","mouseup",function(e){setTimeout(function(){var get_id=getCurrentURL_ID(),find_tag=$("#"+get_id);null!=get_id&&void 0!==get_id&&""!=get_id&&find_tag.length&&$("html, body").animate({scrollTop:$(find_tag).offset().top-150},100)},1)}),$(".navbar .navbar-nav > li > a.nav-link").on("mouseup",function(e){setTimeout(function(){var get_id=getCurrentURL_ID(),find_tag=$("#"+get_id);null!=get_id&&void 0!==get_id&&""!=get_id&&find_tag.length&&$("html, body").animate({scrollTop:$(find_tag).offset().top-150},100)},1)}),$(".input-box").bind("click",function(event){null!=event.target.firstElementChild&&event.target.firstElementChild.focus()}),$(".padding-dpd-news .panel-grid-cell div.seo-text").removeClass("offset-lg-2 col-lg-8"),$(".padding-dpd-news .panel-grid-cell div.inner-image").removeClass("offset-md-2 col-md-8"),$(".so-widget-dpd-accordion-content-widget .padding-element-004 .item span").click(function(){$(this).find("img").toggle(),$(this).closest(".question").siblings("answer").toggle()}),$(".benefits-1 ol li").each(function(){$(this).height()<20&&0!=$(this).height()&&($(this).css("line-height","25px"),$(this).css("height","25px"))}),$(".panel-grid").has(".widget_dpd-image-textbox-025c-widget").each(function(){$(this).find(".panel-grid-cell").length>1&&($(this).find(".module-025c").removeClass("row-fix-margin-auto"),$(this).find(".module-025c .wrap").removeClass("col-12").removeClass("wrap"))});var get_cookie=dpd_getCookie("german_sso"),get_cookie_sso_landing_page=dpd_getCookie("german_sso_landing_page");if(get_cookie){get_cookie=atob(get_cookie),get_cookie=JSON.parse(get_cookie);var ssi_token="",current_domain=window.location.hostname;current_domain=current_domain.toLowerCase(),$("body a").on("click",function(e){var get_link=$(this).attr("href"),get_target=$(this).attr("target");if(-1==get_link.indexOf("logout.aspx?action=2")&&0!=get_link.indexOf("#")){var targetLink=$(this).attr("href"),target_domain=dpd_getHostname(targetLink=targetLink.toLowerCase());if(target_domain!=current_domain){var getDPDToken=!1;for(i=0;i<externalUrl.length;i++)target_domain==dpd_getHostname(externalUrl[i])&&(getDPDToken=!0);getDPDToken&&($.ajax({url:myAjax.ajax_url,method:"POST",async:!1,data:{action:"regeneration_ssi_token_by_ajax"},success:function(res){try{ssi_token=void 0!==res.success&&!0===res.success?res.data:""}catch(e){ssi_token=""}},error:function(jqXHR,textStatus,errorThrown){ssi_token=""}}),""!=ssi_token&&(e.preventDefault(),e.stopPropagation(),-1!=get_link.indexOf("?")?get_link+="&dpd_token="+ssi_token:get_link+="?dpd_token="+ssi_token,"_blank"===get_target?window.open(get_link,"_blank"):window.location.href=get_link))}}})}$(".sticky-header").stick_in_parent(),""==$(".cookie-notice-container span").text()&&$("#cookie-notice").hide(),$(".w-stage-home, .so-widget-dpd-header-modules-theme-pages-widget").find("div[id^=landing-slider]").on("slid.bs.carousel",function(){var edgeVersion=window.navigator.userAgent.match(/Edge\/(\d{2})\./),edgePartialSupport=!!edgeVersion&&parseInt(edgeVersion[1],10)>=16;("objectFit"in document.documentElement.style==!1||edgePartialSupport)&&$(this).find("video[data-need-wrap-object-fit]:visible").each(function(){var isAutoplay;if(($(this).parent().hasClass("w-object-fit-wrap-for-video")||$(this).wrap($("<div/>").addClass("w-object-fit-wrap-for-video")).css({position:"relative",overflow:"hidden",height:"",width:"100%"}),$(this).data("wrap-class")&&$(this).parent().addClass($(this).data("wrap-class")),"function"==typeof objectFitPolyfill)&&(objectFitPolyfill(this),void 0!==$(this).attr("autoplay"))){var videoDOM=$(this).get(0);void 0!==videoDOM&&videoDOM.play()}})}),$(".clear-text").on("click",function(){$(".text-search-box").val(""),$(".clear-text").css("display","none")}),$('.nav-tabs .nav-item a[data-toggle="tab"]').on("shown.bs.tab",function(e){try{var _targetContentID=$(this).attr("href");void 0!==_targetContentID&&reinitSliderOF($(_targetContentID))}catch(e){}}),$(".guarantee-service input[type=text]").keydown(function(e){if(13==e.keyCode)return $(this).closest(".guarantee-service").find(".guarantee-service-submit").trigger("click"),!1}),$(".dpd-commercial-invoice .step1 input[type=text]").keydown(function(e){if(13==e.keyCode)return $(this).closest(".dpd-commercial-invoice .step1").find(".step1_2").trigger("click"),!1}),$(".dpd-commercial-invoice .step2 input[type=text]").keydown(function(e){if(13==e.keyCode)return $(this).closest(".dpd-commercial-invoice .step2").find(".step2_3").trigger("click"),!1}),$(".dpd-commercial-invoice .step3 input[type=text]").keydown(function(e){if(13==e.keyCode)return $(this).closest(".dpd-commercial-invoice .step3").find(".step3_4").trigger("click"),!1}),$(".dpd-commercial-invoice .step4 input[type=text]").keydown(function(e){if(13==e.keyCode)return $(this).closest(".dpd-commercial-invoice .step4").find(".commercial_invoice_submit").trigger("click"),!1}),$(".depot-finder input[type=text]").keydown(function(e){if(13==e.keyCode)return $(this).closest(".depot-finder").find(".depot-finder-submit").trigger("click"),!1}),$(".girth-calculator input[type=text]").keydown(function(e){if(13==e.keyCode)return $(this).closest(".girth-calculator").find(".girth-calculator-submit").trigger("click"),!1})}),$(":input").keypress(function(e){13===e.which&&($(this).closest("form").find("div.js_formStep").length||$(this).closest("form").find("button.btn-primary").click())}),$("#navbarNav ul li.has-sub a.dropdown-toggle").doubleTapToGo(),$(document).ready(function(){$(".panel-grid-cell > .widget_search-parcel-tracking-widget").find(".search-box-regular").css("border","1px solid #414042")}),$(function(){var loadVideoDesktop=function(){$(".load-video-desktop:not(.video-loaded)").each(function(){if($(window).width()>=768){var data=$(this).data(),video='<video data-auto="'+data.auto+'" data-need-wrap-object-fit="true" id="'+data.id+'" width="'+data.width+'" '+data.attr+' class="'+data.class+'" '+($(this).data("wrap-class")?' data-wrap-class="'+$(this).data("wrap-class")+'" ':"")+' ><source src="'+data.source+'" type="video/mp4"></video>';$(this).after(video),$(this).addClass("video-loaded")}}),$(".load-iframe-desktop:not(.iframe-loaded)").each(function(){if($(window).width()>=768){var data=$(this).data(),iframeVideo='<iframe data-auto="'+data.auto+'" data-video="'+data.video+'" src="'+data.source+'" frameborder="'+data.frameborder+'" allow="'+data.allow+'" '+data.attr+' class="'+data.class+'" id="'+data.id+'"></iframe>';$(this).after(iframeVideo),$(this).addClass("iframe-loaded"),"dailymotion"==data.video&&1==data.auto&&$(document).find("iframe[data-video=dailymotion][id="+data.id+"]").on("load",function(){$(this).get(0).contentWindow.postMessage(JSON.stringify({command:"play",parameters:[]}),"*")}),"youtube"==data.video&&1==data.auto&&$(document).find("iframe[data-video=youtube][id="+data.id+"]").on("load",function(){$(this).get(0).contentWindow.postMessage(JSON.stringify({event:"command",func:"playVideo"}),"*")})}})};loadVideoDesktop();var timeoutLoadVideo=null;$(window).resize(function(){clearTimeout(timeoutLoadVideo),timeoutLoadVideo=setTimeout(function(){loadVideoDesktop()},100)});var fnWDPDObjectFitVideo=function(){var edgeVersion=window.navigator.userAgent.match(/Edge\/(\d{2})\./),edgePartialSupport=!!edgeVersion&&parseInt(edgeVersion[1],10)>=16;("objectFit"in document.documentElement.style==!1||edgePartialSupport)&&$(".w-stage-home video[data-need-wrap-object-fit]:visible, .so-widget-dpd-header-modules-theme-pages-widget video[data-need-wrap-object-fit]:visible").each(function(){var isAutoplay;if(($(this).parent().hasClass("w-object-fit-wrap-for-video")||$(this).wrap($("<div/>").addClass("w-object-fit-wrap-for-video")).css({position:"relative",overflow:"hidden",height:"",width:"100%"}),$(this).data("wrap-class")&&$(this).parent().addClass($(this).data("wrap-class")),"function"==typeof objectFitPolyfill)&&(objectFitPolyfill(this),void 0!==$(this).attr("autoplay"))){var videoDOM=$(this).get(0);void 0!==videoDOM&&videoDOM.play()}})};window.addEventListener("resize",fnWDPDObjectFitVideo),document.addEventListener("DOMContentLoaded",fnWDPDObjectFitVideo),$(document).ready(function(){function postMessageToPlayer(player,command){null!=player&&null!=command&&player.contentWindow.postMessage(JSON.stringify(command),"*")}$().vEllipsis({lines:3,responsive:!0,delay:10}),fnWDPDObjectFitVideo(),$(".topic-switch a").on("click",function(e){$(".module-007 .tab-pane").each(function(){var player=$(this).find("iframe").get(0),type;switch($(this).find("iframe").data("video")){case"youtube":postMessageToPlayer(player,{event:"command",func:"pauseVideo"});break;case"vimeo":postMessageToPlayer(player,{method:"pause",value:1});break;case"dailymotion":postMessageToPlayer(player,{command:"pause",parameters:[]},"*");break;default:video=$(this).find("video").get(0),null!=video&&video.pause()}});var topic_id=$(this).attr("href").replace("#",""),autoplay_frame=$("#"+topic_id).find("iframe").data("auto"),autoplay_video=$("#"+topic_id).find("video").data("auto");if(0!=autoplay_frame&&0!=autoplay_video){var this_player=$("#"+topic_id).find("iframe").get(0),this_type;switch($("#"+topic_id).find("iframe").data("video")){case"youtube":postMessageToPlayer(this_player,{event:"command",func:"playVideo"});break;case"vimeo":postMessageToPlayer(this_player,{method:"play",value:1});break;case"dailymotion":postMessageToPlayer(this_player,{command:"play",parameters:[]},"*");break;default:video=$("#"+topic_id).find("video").get(0),null!=video&&video.play()}}}),$(".module-025c .nav-item a").on("click",function(e){$(".module-025c .media-div").each(function(){var player=$(this).find("iframe").get(0),type;switch($(this).find("iframe").data("video")){case"youtube":postMessageToPlayer(player,{event:"command",func:"pauseVideo"});break;case"vimeo":postMessageToPlayer(player,{method:"pause",value:1});break;case"dailymotion":postMessageToPlayer(player,{command:"pause",parameters:[]},"*");break;default:video=$(this).find("video").get(0),null!=video&&video.pause()}});var topic_id=$(this).attr("id").replace("tab","media-div"),autoplay_frame=$("#"+topic_id).find("iframe").data("auto"),autoplay_video=$("#"+topic_id).find("video").data("auto");if(0!=autoplay_frame&&0!=autoplay_video){var this_player=$("#"+topic_id).find("iframe").get(0),this_type;switch($("#"+topic_id).find("iframe").data("video")){case"youtube":postMessageToPlayer(this_player,{event:"command",func:"playVideo"});break;case"vimeo":postMessageToPlayer(this_player,{method:"play",value:1});break;case"dailymotion":postMessageToPlayer(this_player,{command:"play",parameters:[]},"*");break;default:video=$("#"+topic_id).find("video").get(0),null!=video&&video.play()}}}),$(".module-026b .nav-item a").on("click",function(e){$(".module-026b .media-div").each(function(){var player=$(this).find("iframe").get(0),type;switch($(this).find("iframe").data("video")){case"youtube":postMessageToPlayer(player,{event:"command",func:"pauseVideo"});break;case"vimeo":postMessageToPlayer(player,{method:"pause",value:1});break;case"dailymotion":postMessageToPlayer(player,{command:"pause",parameters:[]},"*");break;default:video=$(this).find("video").get(0),null!=video&&video.pause()}});var topic_id=$(this).attr("id").replace("tab","media-div"),autoplay_frame=$("#"+topic_id).find("iframe").data("auto"),autoplay_video=$("#"+topic_id).find("video").data("auto");if(0!=autoplay_frame&&0!=autoplay_video){var this_player=$("#"+topic_id).find("iframe").get(0),this_type;switch($("#"+topic_id).find("iframe").data("video")){case"youtube":postMessageToPlayer(this_player,{event:"command",func:"playVideo"});break;case"vimeo":postMessageToPlayer(this_player,{method:"play",value:1});break;case"dailymotion":postMessageToPlayer(this_player,{command:"play",parameters:[]},"*");break;default:video=$("#"+topic_id).find("video").get(0),null!=video&&video.play()}}})})}),function($){function playCarouselVideo($element){var video=$element.get(0);$element.is("video")&&video?video.currentTime=0:$element.is("iframe")&&video&&("youtube"==$element.data("video")?video.contentWindow.postMessage(JSON.stringify({event:"command",func:"seekTo",args:[0,!0]}),"*"):"vimeo"==$element.data("video")?(video.contentWindow.postMessage(JSON.stringify({method:"setCurrentTime",value:0}),"*"),video.contentWindow.postMessage(JSON.stringify({method:"play",value:1}),"*")):"dailymotion"==$element.data("video")&&video.contentWindow.postMessage(JSON.stringify({command:"seek",parameters:[0]}),"*"))}$(document).ready(function(){$(".w-stage-home, .header-theme-page-019-include").each(function(){var carousel=$(this).find("div[data-ride=carousel]").first();if(carousel){var carouselId=carousel.attr("id"),carouselTime=carousel.data("interval");if(carousel.find(".carousel-item").length>1){var processDelayTime=700,timeOut,timeSlide,isVideoFirst=carousel.find(".carousel-item.active").find(".load-video-desktop, .load-iframe-desktop").first();isVideoFirst&&isVideoFirst.siblings("video, iframe, .w-object-fit-wrap-for-video").first().is(":visible")&&(timeSlide=carousel.find(".carousel-item.active").data("interval")),timeSlide=timeSlide||carouselTime,$("#"+carouselId).carousel({interval:!1}),$("#"+carouselId).carousel("pause"),timeOut=setTimeout("jQuery('#"+carouselId+"').carousel('next');",timeSlide-700),carousel.on("slide.bs.carousel",function(e){clearTimeout(timeOut);var _target,duration,hasVideo=$(e.relatedTarget).find(".load-video-desktop, .load-iframe-desktop").first();hasVideo&&(hasVideo.siblings("video").length?playCarouselVideo(hasVideo.siblings("video").first()):hasVideo.siblings(".w-object-fit-wrap-for-video").find("video").length?playCarouselVideo(hasVideo.siblings(".w-object-fit-wrap-for-video").find("video").first()):hasVideo.siblings("iframe").length&&playCarouselVideo(hasVideo.siblings("iframe").first()))}),carousel.on("slid.bs.carousel",function(){var duration;clearTimeout(timeOut),$("#"+carouselId).carousel("pause");var hasVideo=$(this).find(".carousel-item.active").find(".load-video-desktop, .load-iframe-desktop").first();hasVideo&&hasVideo.siblings("video, iframe, .w-object-fit-wrap-for-video").first().is(":visible")&&(duration=$(this).find(".carousel-item.active").data("interval")),duration=duration||carouselTime,timeOut=setTimeout("jQuery('#"+carouselId+"').carousel('next');",duration-700)})}else{var hasVideo=carousel.find(".load-video-desktop, .load-iframe-desktop").first(),duration;if(hasVideo)hasVideo&&hasVideo.siblings("video, iframe, .w-object-fit-wrap-for-video").first().is(":visible")&&(duration=$(this).find(".carousel-item.active").data("interval")),duration=duration||carouselTime,hasVideo.siblings("video").length?setInterval(function(){playCarouselVideo(hasVideo.siblings("video").first().length?hasVideo.siblings("video").first():hasVideo.siblings(".w-object-fit-wrap-for-video").find("video").first())},duration):hasVideo.siblings(".w-object-fit-wrap-for-video").find("video").length?setInterval(function(){playCarouselVideo(hasVideo.siblings(".w-object-fit-wrap-for-video").find("video").first())},duration):hasVideo.siblings("iframe").length&&setInterval(function(){playCarouselVideo(hasVideo.siblings("iframe").first())},duration)}}})})}(jQuery);
!function(a,b){"use strict";function c(){if(!e){e=!0;var a,c,d,f,g=-1!==navigator.appVersion.indexOf("MSIE 10"),h=!!navigator.userAgent.match(/Trident.*rv:11\./),i=b.querySelectorAll("iframe.wp-embedded-content");for(c=0;c<i.length;c++){if(d=i[c],!d.getAttribute("data-secret"))f=Math.random().toString(36).substr(2,10),d.src+="#?secret="+f,d.setAttribute("data-secret",f);if(g||h)a=d.cloneNode(!0),a.removeAttribute("security"),d.parentNode.replaceChild(a,d)}}}var d=!1,e=!1;if(b.querySelector)if(a.addEventListener)d=!0;if(a.wp=a.wp||{},!a.wp.receiveEmbedMessage)if(a.wp.receiveEmbedMessage=function(c){var d=c.data;if(d.secret||d.message||d.value)if(!/[^a-zA-Z0-9]/.test(d.secret)){var e,f,g,h,i,j=b.querySelectorAll('iframe[data-secret="'+d.secret+'"]'),k=b.querySelectorAll('blockquote[data-secret="'+d.secret+'"]');for(e=0;e<k.length;e++)k[e].style.display="none";for(e=0;e<j.length;e++)if(f=j[e],c.source===f.contentWindow){if(f.removeAttribute("style"),"height"===d.message){if(g=parseInt(d.value,10),g>1e3)g=1e3;else if(~~g<200)g=200;f.height=g}if("link"===d.message)if(h=b.createElement("a"),i=b.createElement("a"),h.href=f.getAttribute("src"),i.href=d.value,i.host===h.host)if(b.activeElement===f)a.top.location.href=d.value}else;}},d)a.addEventListener("message",a.wp.receiveEmbedMessage,!1),b.addEventListener("DOMContentLoaded",c,!1),a.addEventListener("load",c,!1)}(window,document);
jQuery(document).ready(function($){$(".sub-headline").closest(".content-wrap-030-031").addClass("mix-headline"),$(".content-wrap-030-031").has(".w-031-tab").each(function(){$(this).hasClass("mix-headline")&&$(this).find(".nav-tabs").first().each(function(){$(this).find(".w-031-tab a h3").each(function(){$(this).hasClass("w-031-head-text")&&($(this).removeClass("w-031-head-text"),$(this).parent().append('<p style="margin-bottom: 26px"></p>'))})})}),$(".so-widget-dpd-tab-module-1a-widget").each(function(){var tabModule=$(this);tabModule.find(".tab-module ul li").each(function(){$(this).find("a").click(function(){var active_color=$(this).closest("li").data("active-color"),active_text_color=$(this).closest("li").data("active-text-color");$(this).find("h3").css("color",active_color),$(this).find("p").css("color",active_text_color),$(this).closest("li").siblings().each(function(){var inactive_color=$(this).data("inactive-color");$(this).find("h3").css("color",inactive_color),$(this).find("p").css("color",inactive_color)}),$(".size-item").length>0&&$(".size-item").each(function(){var $this=$(this);$this.slick("destroy");var prev=$("#m-table-head").data("prev"),next=$("#m-table-head").data("next");$this.slick({nextArrow:'<button type="button" class="slick-next"><img src="'+next+'" /></button>',prevArrow:'<button type="button" class="slick-prev"><img src="'+prev+'" /></button>'}),$this.on("afterChange",function(event,slick,currentSlide){var currentColum=currentSlide+2;$this.siblings().find("td").not(".col-0, .col-1").addClass("hide"),$this.siblings().find(".col-"+currentColum).removeClass("hide")}),$this.slick("setPosition")})}),$(this).find("a").mouseup(function(){var $href=$(this).attr("href"),tabContent=tabModule.find(".tab-content "+$href);setTimeout(function(){tabContent.find(".so-widget-dpd-customer-feedback-widget").length>0&&tabContent.find(".so-widget-dpd-customer-feedback-widget").each(function(){$(this).find(".w-customer-feedback .item-slider").slick("unslick").slick("reinit").slick({infinite:!0,slidesToShow:3,slidesToScroll:1,nextArrow:'<button type="button" class="slick-next"><span class="slick-slide-arrow slick-slide-arrow-right"></span></button>',prevArrow:'<button type="button" class="slick-prev"><span class="slick-slide-arrow slick-slide-arrow-left"></span></button>',responsive:[{breakpoint:767,settings:{slidesToShow:1,slidesToScroll:1}}]})})},400)})})})});
!function($){$(document).on("sowsetupform",function(){$('div[data-class="Download_Module_Widget"] input[name$="[upload_url]"]').change(function(){var dataFile=wp.media.attachment($(this).val()),extension="";if(dataFile.get("filename"))var extension=dataFile.get("filename").split(".")[dataFile.get("filename").split(".").length-1];var prefixField=$(this).attr("name").replace("[upload_url]","");try{var size;$('input[name="'+prefixField+'[name]"]').val(dataFile.get("name")),$('input[name="'+prefixField+'[extension]"]').val(extension.toString().toUpperCase());var filesize=dataFile.get("filesizeInBytes");parseInt(filesize)<1048576&&parseInt(filesize)>0?size="Small ("+parseInt(filesize/1024)+"kb)":parseInt(filesize)>=1048576&&parseInt(filesize)<5242880?size="Medium ("+parseInt(filesize/1024)+"kb)":parseInt(filesize)>=5242880&&(size="Big ("+parseInt(filesize/1024)+"kb)"),$('input[name="'+prefixField+'[sizetype]"]').val(size)}catch(e){console.log(e)}})}),$(document).on("click",".download-module-010",function(){var data=$(this).data(),xhr=new XMLHttpRequest;xhr.open("GET",data.url),xhr.responseType="blob",xhr.onload=function(){var _aclick=function(node){try{node.dispatchEvent(new MouseEvent("click"))}catch(e){var evt=document.createEvent("MouseEvents");evt.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),node.dispatchEvent(evt)}},_abom=function(blob,opts){return void 0===opts?opts={autoBom:!1}:"object"!=typeof opts&&(opts={autoBom:!opts}),opts.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(blob.type)?new Blob([String.fromCharCode(65279),blob],{type:blob.type}):blob},_asaveAs=function(blob,name,opts){if("msSaveOrOpenBlob"in navigator){var a;if(name=name||blob.name||"download","string"==typeof blob)(a=document.createElement("a")).href=blob,a.target="_blank",setTimeout(function(){_aclick(a)});else navigator.msSaveOrOpenBlob(_abom(blob,opts),name)}else{var URL=window.URL,a=document.createElement("a");name=name||blob.name||"download",a.download=name,a.rel="noopener","string"==typeof blob?(a.href=blob,a.origin!==location.origin?_aclick(a,a.target="_blank"):_aclick(a)):(a.href=URL.createObjectURL(blob),setTimeout(function(){URL.revokeObjectURL(a.href)},4e4),setTimeout(function(){_aclick(a)},0))}}(xhr.response,data.name,data.opts)},xhr.onerror=function(){console.error("could not download file")},xhr.send()})}(jQuery);
if(void 0===SDT_DATA)var SDT_DATA={};function classesRegexp(){return window.supsystic.Tables.getClassesRegexp()}function getAdminCellStylesElem(){return window.supsystic.Tables.getAdminCellStylesElem()}function toeInArray(needle,haystack){if("object"==typeof haystack){for(var k in haystack)if(haystack[k]==needle)return k}else if("array"==typeof haystack)return jQuery.inArray(needle,haystack);return-1}!function(vendor,$,window){var appName="Tables",dataTableInstances=[],ruleJSInstances=[];appName in vendor||(vendor.Tables={},vendor.Tables.getAppName=function(){return appName},vendor.Tables.getParameterByName=function(name){name=name.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var regex,results=new RegExp("[\\?&]"+name+"=([^&#]*)").exec(location.search);return null===results?"":decodeURIComponent(results[1].replace(/\+/g," "))},vendor.Tables.replaceParameterByName=function(url,paramName,paramValue){var pattern=new RegExp("\\b("+paramName+"=).*?(&|$)");return url.search(pattern)>=0?url.replace(pattern,"$1"+paramValue+"$2"):url+(url.indexOf("?")>0?"&":"?")+paramName+"="+paramValue},vendor.Tables.getAllTableInstances=function(){return dataTableInstances},vendor.Tables.removeAllTableInstances=function(){dataTableInstances=[]},vendor.Tables.setTableInstance=function(instance){dataTableInstances.push(instance)},vendor.Tables.getTableInstanceById=function(id){for(var allTables=this.getAllTableInstances(),i=0;i<allTables.length;i++)if(allTables[i].table_id==id)return allTables[i];return!1},vendor.Tables.getTableInstanceByViewId=function(viewId){for(var allTables=this.getAllTableInstances(),i=0;i<allTables.length;i++)if(allTables[i].table_view_id==viewId)return allTables[i];return!1},vendor.Tables.removeTableInstanceByViewId=function(viewId){for(var allTables=this.getAllTableInstances(),i=0;i<allTables.length;i++)if(allTables[i].table_view_id==viewId)return allTables.splice(i,1),!0;return!1},vendor.Tables.getAllRuleJSInstances=function(){return ruleJSInstances},vendor.Tables.setRuleJSInstance=function(table){var rootElem=table.closest(".supsystic-tables-wrap"),viewId=table.data("view-id");return ruleJSInstances[viewId]=new ruleJS(rootElem.attr("id")),ruleJSInstances[viewId]},vendor.Tables.getRuleJSInstance=function(table){var allRuleJS=this.getAllRuleJSInstances(),viewId=table.data("view-id");return allRuleJS[viewId]||this.setRuleJSInstance(table),allRuleJS[viewId]},vendor.Tables.request=function(route,data){if(!($.isPlainObject(route)&&"module"in route&&"action"in route))throw new Error("Request route is not specified.");if($.isPlainObject(data)||(data={}),"action"in data)throw new Error('Reserved field "action" used.');data.action="supsystic-tables";var url=window.ajaxurl?window.ajaxurl:ajax_obj.ajaxurl,deferred=$.Deferred();function retryAjax(def,url,route,data,curIter,maxIter){$.post(url,$.extend({},{route:route},data)).done(function(response,textStatus,jqXHR){if(response.success)def.resolve(response,textStatus,jqXHR);else{var message=void 0!==response.message?response.message:"There are errors during the request.";retryErrorHandler(def,url,route,data,curIter,maxIter,message,textStatus,jqXHR)}}).fail(function(jqXHR,textStatus,errorThrown){retryErrorHandler(def,url,route,data,curIter,maxIter,errorThrown,textStatus,jqXHR)})}function retryErrorHandler(def,url,route,data,curIter,maxIter,errorThrown,textStatus,jqXHR){++curIter<maxIter?retryAjax(def,url,route,data,curIter,maxIter):def.reject(errorThrown,textStatus,jqXHR)}return $.post(url,$.extend({},{route:route},data)).done(function(response,textStatus,jqXHR){if(response.success)deferred.resolve(response,textStatus,jqXHR);else if(data._maxIter)retryAjax(deferred,url,route,data,1,data._maxIter);else{var message=void 0!==response.message?response.message:"There are errors during the request.";deferred.reject(message,textStatus,jqXHR)}}).fail(function(jqXHR,textStatus,errorThrown){data._maxIter?retryAjax(deferred,url,route,data,1,data._maxIter):deferred.reject(errorThrown,textStatus,jqXHR)}),deferred.promise()},vendor.Tables.createSpinner=function(elem){if(!(elem=void 0!==elem&&elem))return $("<i/>",{class:"fa fa-spinner fa-spin"});var icon=elem.find(".fa");icon&&(icon.data("icon",icon.attr("class")),icon.attr("class","fa fa-spinner fa-spin"))},vendor.Tables.deleteSpinner=function(elem){var icon=elem.find(".fa");icon&&(icon.attr("class",icon.data("icon")),icon.data("icon",""))},vendor.Tables.initializeTable=function(table,callback,finalCallback,reinit,addInstance){reinit=void 0!==reinit?reinit:{},addInstance=void 0===addInstance||addInstance;var self=this,$table=table instanceof $?table:$(table),features=$table.data("features"),config={},responsiveMode=$table.data("responsive-mode"),searchingSettings=$table.data("searching-settings"),tableInstance={},defaultFeatures={autoWidth:!1,info:!1,ordering:!1,paging:!1,responsive:!1,searching:!1,stateSave:!1,api:!0,initComplete:callback,headerCallback:function(thead,data,start,end,display){$(thead).closest("thead").find("th").each(function(){self.setStylesToCell(this)})},footerCallback:function(tfoot,data,start,end,display){$(tfoot).closest("tfoot").find("th").each(function(){self.setStylesToCell(this)})}};if($table.data("head")||$table.find("thead th").each(function(iter,item){var th=$(this),itemIndex=iter+1,hidden=!0;$table.find("tbody td:nth-child("+itemIndex+")").each(function(){if(!$(this).hasClass("invisibleCell"))return hidden=!1,!1}),hidden&&th.addClass("invisibleCell")}),$table.find("tbody td[data-colspan], tbody td[data-rowspan]").each(function(index,item){var cell=$(item),cellData=cell.html();if(!cellData.toString().match(/<.*?id=['|"].*?['|"].*?>/g))for(var cellOrValue=cell.data("original-value"),cellFormula=cell.data("formula"),cellOrder=cell.data("order"),table=cell.parents("table:first"),colIndex=cell.index(),rowIndex=cell.parents("tr:first").index(),colspan=cell.data("colspan"),rowspan=cell.data("rowspan"),i=rowIndex+1;i<=rowIndex+rowspan;i++)for(var j=colIndex+1;j<=colIndex+colspan;j++){var hiddenCell=table.find("tbody tr:nth-child("+i+") td:nth-child("+j+")");hiddenCell.data("hide")&&(hiddenCell.html(cellData),hiddenCell.data("original-value",cellOrValue),hiddenCell.attr("data-original-value",cellOrValue),hiddenCell.data("order",cellOrder),hiddenCell.attr("data-order",cellOrder),cellFormula&&(hiddenCell.data("formula",cellFormula),hiddenCell.attr("data-formula",cellFormula)))}}),$.each(features,function(){var featureName=this.replace(/[-_]([a-z])/g,function(g){return g[1].toUpperCase()});config[featureName]=!0}),-1!=toeInArray("searching",features)&&searchingSettings&&(searchingSettings.minChars>0||searchingSettings.resultOnly||searchingSettings.strictMatching)&&($.fn.dataTable.ext.search.push(function(settings,data){var $searchInput,searchValue=$(settings.nTableWrapper).find(".dataTables_filter input").val();if(searchingSettings.resultOnly&&0===searchValue.length)return searchingSettings.showTable,!1;if(searchingSettings.strictMatching){searchValue=$.fn.dataTable.util.escapeRegex(searchValue);for(var regExp=new RegExp("^"+searchValue,"i"),i=0;i<data.length;i++)for(var words=data[i].replace(/\s\s+/g," ").split(" "),j=0;j<words.length;j++)if(words[j].match(regExp))return!0;return!1}return-1!==data.join(" ").toLowerCase().indexOf(searchValue.toLowerCase())}),$table.on("init.dt",function(event,settings){if(settings){var $tableWrapper,$tableSearchInput=$(settings.nTableWrapper).find(".dataTables_filter input"),$customInput=$tableSearchInput.clone();$tableSearchInput.replaceWith($customInput),$customInput.on("input change",function(){if(searchingSettings.showTable||(searchingSettings.resultOnly&&searchingSettings.minChars&&(this.value.length<searchingSettings.minChars||!this.value.length)?($table.hide(),$table.parent().find(".dataTables_paginate").hide()):($table.show(),$table.parent().find(".dataTables_paginate").show())),searchingSettings.minChars&&this.value.length<searchingSettings.minChars&&0!==this.value.length)return event.preventDefault(),!1;$table.api().draw()}),searchingSettings.resultOnly&&!searchingSettings.showTable&&($table.hide(),$table.parent().find(".dataTables_paginate").hide())}})),-1!=toeInArray("ordering",features)){var sortingEnable=["_all"],sortingDisable=[],aaSorting=[],multipleSorting=$table.data("multiple-sorting"),disableSorting=$table.data("disable-sorting");if($table.data("head")||(sortingDisable=["_all"]),disableSorting&&disableSorting.length&&(sortingDisable=disableSorting),multipleSorting&&multipleSorting.length)aaSorting=multipleSorting;else{var columnsCount=$table.find("tr:first th").length,sortColumn=$table.data("sort-column")||0,sortOrder=$table.data("sort-order")||"asc",columnNumber=sortColumn-1;columnNumber>=0&&columnNumber<columnsCount&&aaSorting.push([columnNumber,sortOrder])}config.aoColumnDefs=[{aType:"natural-nohtml-ci",aTargets:"_all"},{bSortable:!1,aTargets:sortingDisable},{bSortable:!0,aTargets:sortingEnable}],config.aaSorting=aaSorting}if($table.data("pagination-length")){var paginationLength=String($table.data("pagination-length"));config.aLengthMenu=[],config.aLengthMenu.push(paginationLength.replace("All",-1).split(",").map(Number)),config.aLengthMenu.push(paginationLength.split(","))}if($table.data("auto-index")&&"off"!==$table.data("auto-index")&&$table.on("draw.dt",function(){$table.api().column(0).nodes().each(function(cell,i){cell.innerHTML=i+1})}),0==responsiveMode){var labelStyles="<style>",id="#"+$table.attr("id");$table.find("thead th").each(function(index,el){labelStyles+=id+".oneColumnWithLabels td:nth-of-type("+(index+1)+'):before { content: "'+$(this).text()+'"; }'}),labelStyles+="</style>",$table.append(labelStyles),$(window).on("resize",$table,function(event){event.preventDefault(),clearTimeout($table.data("resizeTimer")),$table.data("resizeTimer",setTimeout(function(){var tableWidth,wrapperWidth;$table.removeClass("oneColumn oneColumnWithLabels"),$table.width()>$table.closest(".supsystic-tables-wrap").width()&&"on"==$table.data("head")&&$table.addClass("oneColumnWithLabels")},150))}).trigger("resize")}else 1===responsiveMode?(config.responsive={details:{renderer:function(api,rowIdx,columns){var $table=$(api.table().node()),$subTable=$("<table/>");return $.each(columns,function(i,col){if(col.hidden){var $cell=$(api.cell(col.rowIndex,col.columnIndex).node()).clone(),markup='<tr data-dt-row="'+col.rowIndex+'" data-dt-column="'+col.columnIndex+'">';if("on"==$table.data("head")){var $headerContent=$(api.table().header()).find("th").eq(col.columnIndex).html();markup+="<td>",$headerContent&&(markup+=$headerContent),markup+="</td>"}markup+="</tr>",$cell.after($("<td>").addClass("collapsed-cell-holder").attr("data-cell-row",col.rowIndex).attr("data-cell-column",col.columnIndex).hide()),$subTable.append($(markup).append($cell.addClass("collapsed").show()))}}),!$subTable.is(":empty")&&$subTable}}},$table.on("responsive-resize.dt",function(event,api,columns){if($table.width()>$table.parent().width())api.responsive.recalc();else for(var i=0,len=columns.length;i<len;i++)columns[i]&&$table.find('tr > td.collapsed-cell-holder[data-cell-column="'+i+'"]').each(function(index,el){var $this=$(this),$cell=$(api.cell($this.data("cell-row"),$this.data("cell-column")).node());$cell.hasClass("collapsed")&&($cell.removeClass("collapsed"),$this.replaceWith($cell))})})):2===responsiveMode&&(config.scrollX=!0);if(2===responsiveMode||3===responsiveMode){var fixedHead=$table.data("head")&&$table.data("fixed-head"),fixedFoot=$table.data("foot")&&$table.data("fixed-foot"),fixedLeft=$table.data("fixed-left"),fixedRight=$table.data("fixed-right");(fixedHead||fixedFoot)&&(config.scrollY=$table.data("fixed-height"),config.scrollCollapse=!0),$table.data("fixed-cols")&&(config.fixedColumns={leftColumns:fixedLeft?parseInt(fixedLeft):0,rightColumns:fixedRight?parseInt(fixedRight):0},config.scrollX=!0)}var langData,translation=("undefined"!=typeof g_stbTblLangData?JSON.parse(g_stbTblLangData):$table.data("translation"))||{},override=$table.data("override");return"object"!=typeof translation&&(translation={}),$.each(override,function(key,value){value.length&&(translation[key]=value,translation["s"+key.charAt(0).toUpperCase()+key.substr(1)]=value)}),config.language=translation,$table.trigger("beforeInitializeTable",$table),(tableInstance=$table.dataTable($.extend({},defaultFeatures,config,reinit))).table_id=$table.data("id"),tableInstance.table_view_id=$table.data("view-id"),tableInstance.fnFakeRowspan(),self._checkOnClickPopups($table),addInstance&&this.setTableInstance(tableInstance),"function"==typeof finalCallback?finalCallback(tableInstance):tableInstance},vendor.Tables.showTable=function(settings,json){var self=vendor.Tables,$table=this instanceof jQuery?this:settings,$tableWrap=$table.closest(".supsystic-tables-wrap"),afterTableLoadedScriptString=$table.attr("data-after-table-loaded-script"),_ruleJS=self.setRuleJSInstance($table),responsiveMode=$table.data("responsive-mode"),fixedHeader="on"==$table.data("fixed-head"),fixedFooter="on"==$table.data("fixed-foot"),fixedColumns=$table.data("fixed-right")>0||$table.data("fixed-left")>0,viewId=$table.data("view-id");if($table.find("th, td").each(function(){self.setStylesToCell(this)}),$table.bind("column-visibility.dt draw.dt",function(e){$(this).find("th, td").each(function(){self.setStylesToCell(this)})}),$table.data("head")||$table.find("th").removeClass("sorting sorting_asc sorting_desc sorting_disabled"),_ruleJS.init(),self.formatDataAtTable($table),$(document).on("click",".paginate_button",function(){self.formatDataAtTable($table)}),("ontouchstart"in window||navigator.msMaxTouchPoints)&&$table.find("td, th").on("click",function(e){var title=$(this).attr("title");if(title){var div=$('<div style="display:none;position:absolute;border-radius:6px;background-color:#999;color:white;padding:7px;"/>');div.text(title).appendTo("body").css("top",e.pageY-70+"px").css("left",e.pageX+20+"px").fadeIn("slow"),setTimeout(function(){div.fadeOut()},1200)}}),"function"==typeof self.createEditableFields){var $editableFields=$tableWrap.find(".editable"),$selectableFields=$tableWrap.find(".selectable"),$tableId=$table.data("id"),useEditableFields;"undefined"!=typeof useEdit&&void 0!==useEdit[$tableId]&&useEdit[$tableId]?"function"==typeof self.setFrontendFields?self.setFrontendFields($table):"function"==typeof self.setAllFields?self.setAllFields($table,$editableFields,$selectableFields):self.createEditableFields($table,$editableFields):SDT_DATA.isAdmin&&SDT_DATA.isPro&&("function"==typeof self.setFrontendFields?self.setFrontendFields($table):"function"==typeof self.setAllFields?(self.createEditableFields($table,$editableFields),self.createSelectableFields($table,$selectableFields)):self.createEditableFields($table,$editableFields)),$table.on("init.dt",function(){$table.on("responsive-resize.dt responsive-display.dt draw.dt",function(){$editableFields.off("click.sup"),self.updateAfterRedraw($table)})})}var paginationSelect=$tableWrap.find(".dataTables_length select"),tBody,tBodyTable;(paginationSelect.length&&paginationSelect.on("change",function(){$table.trigger("page.dt")}),$table.trigger("beforeShowTable",$table),$tableWrap.prev(".supsystic-table-loader").hide(),$tableWrap.css("visibility","visible"),self.fixSortingForMultipleHeader($table),2===responsiveMode||fixedHeader||fixedFooter)&&($(window).on("resize",$table,function(event){var tBody=$tableWrap.find(".dataTables_scrollBody"),tBodyTable=tBody.find(".supsystic-table");(tBody.width()>tBodyTable.width()||$tableWrap.width()>tBodyTable.width())&&(tBody.width(tBodyTable.width()),$tableWrap.find(".dataTables_scrollHead, .dataTables_scrollFoot, .dataTables_scrollBody").width(tBodyTable.width()+1)),tBodyTable.isHorizontallyScrollable?tBody.css({"border-bottom":"none"}):tBody.removeStyle("border-bottom")}).trigger("resize"),$tableWrap.find(".dataTables_scrollBody").find(".supsystic-table").is(":visible")&&setTimeout(function(){$(window).trigger("resize")},200));if(fixedHeader||fixedFooter){$table.api().fixedHeader.adjust();var i=1;setTimeout(function(){var flag=fixedHeader,el;(fixedHeader?$tableWrap.find(".dataTables_scrollHead table thead tr:first-child th"):$tableWrap.find(".dataTables_scrollFoot table tfoot tr:first-child th")).each(function(){var thWidth=$tableWrap.find(".dataTables_scrollBody table tbody tr:first-child td:nth-child("+i+")"),footerEl;($(this).css({width:thWidth.outerWidth(),"min-width":thWidth.outerWidth(),"box-sizing":"border-box"}),fixedFooter&&flag)&&$tableWrap.find(".dataTables_scrollFoot table tfoot tr:first-child th:nth-child("+i+")").css({width:thWidth.outerWidth(),"min-width":thWidth.outerWidth(),"box-sizing":"border-box"});i++})},200)}if(fixedColumns){$table.api().fixedColumns().relayout();var tableCaption=$(".dataTables_scrollHead caption");if(tableCaption.length){var fixedColumnsWrapper=$("#supsystic-table-"+viewId+" .DTFC_LeftWrapper, #supsystic-table-"+viewId+" .DTFC_RightWrapper");fixedColumnsWrapper.find("caption").css({display:"none"}),fixedColumnsWrapper.css({top:tableCaption.height()+"px"})}}if(fixedHeader||fixedFooter||2!==responsiveMode||-1!=toeInArray("auto_width",$table.data("features"))||$tableWrap.find(".dataTables_scrollBody table thead tr:first-child th").each(function(){var tableWidth=$table.width(),tableWrapWidth;$tableWrap.width()>tableWidth&&$tableWrap.find(".dataTables_scrollHeadInner, .dataTables_scrollBody, .dataTables_scrollFootInner").addClass("fit-content")}),void 0!==afterTableLoadedScriptString){var afterTableLoadedScript=b64DecodeUnicode(afterTableLoadedScriptString=afterTableLoadedScriptString.substring(1,afterTableLoadedScriptString.length-1)).replace(/"/g,"'"),executeScript=new Function(afterTableLoadedScript);"function"==typeof executeScript&&setTimeout(function(){executeScript()},1e3)}function b64DecodeUnicode(str){return decodeURIComponent(Array.prototype.map.call(atob(str),function(c){return"%"+("00"+c.charCodeAt(0).toString(16)).slice(-2)}).join(""))}},vendor.Tables.executeScript=function(table){var $table=table instanceof $?table:$(table),$tableWrap=$table.closest(".supsystic-tables-wrap");this.getRuleJSInstance($table).init(),$tableWrap.prev(".supsystic-table-loader").hide(),$tableWrap.css("visibility","visible")},vendor.Tables.fixSortingForMultipleHeader=function(table){if(table.data("head-rows-count")>1&&table.data("sort-order")){var thead=table.find("thead tr").get().reverse();table.data("head")&&$.each(table.find("thead tr:last-child th"),function(index,element){var th=$(element),nthChild=index+1;th.data("hide")&&$(thead).each(function(){var item=$(this).find("th:nth-child("+nthChild+")");if(!item.data("hide"))return item.addClass("sorting"),item.click(function(){th.trigger("click"),th.hasClass("sorting")?(item.removeClass("sorting_asc"),item.removeClass("sorting_desc"),item.addClass("sorting")):th.hasClass("sorting_asc")?(item.removeClass("sorting"),item.removeClass("sorting_desc"),item.addClass("sorting_asc")):th.hasClass("sorting_desc")&&(item.removeClass("sorting"),item.removeClass("sorting_asc"),item.addClass("sorting_desc"))}),!1})})}},vendor.Tables.formatDataAtTable=function(table){var numberFormat=table.data("number-format"),generalCurrencyFormat=table.data("currency-format"),generalPercentFormat=table.data("percent-format"),generalDateFormat=table.data("date-format"),generalTimeFormat=table.data("time-format"),skipFirstCol="off"!=table.data("auto-index"),hasCollapsedCells=1==table.data("responsive-mode")&&table.hasClass("collapsed");table.find("td").each(function(index,el){var $this=$(this);if(!(skipFirstCol&&$this.is(":first-child")||hasCollapsedCells&&$this.hasClass("child"))){var languageData=numeral.languageData(),format=$this.data("cell-format"),formatType=$this.data("cell-format-type"),preparedFormat,delimiters,value=$.trim($this.html()),noFormat=!1;if(value&&"date"==formatType&&$this.data("cell-reformat")){var newDate=moment(value,format);newDate.isValid()&&(value=newDate.format(generalDateFormat),$this.data("cell-format",generalDateFormat),$this.attr("data-cell-format",generalDateFormat),$this.data("original-value",value),$this.attr("data-original-value",value),$this.data("order",value),$this.attr("data-order",value),$this.data("cell-reformat",!1),$this.attr("data-cell-reformat",value))}else if(value&&"time_duration"==formatType&&$this.data("cell-reformat")){var newTime=moment(value,format),isValid=!1;newTime.isValid()?(value=newTime.format(generalTimeFormat),isValid=!0):((newTime=moment.duration(value))._milliseconds||0==value)&&(value=newTime.format(generalTimeFormat),isValid=!0),isValid&&($this.data("cell-format",generalTimeFormat),$this.attr("data-cell-format",generalTimeFormat),$this.data("original-value",value),$this.attr("data-original-value",value),$this.data("order",value),$this.attr("data-order",value),$this.data("cell-reformat",!1),$this.attr("data-cell-reformat",value))}else if(value&&value.toString().match(/^-{0,1}\d+\.{0,1}\d*$/)&&!isNaN(value)){switch(numberFormat=numberFormat?numberFormat.toString():"",formatType){case"percent":if(format=format||generalPercentFormat){var clearFormat=(format=format.toString()).indexOf("%")>-1?format.replace("%",""):format;value=value.indexOf("%")>-1?$this.data("original-value"):value,delimiters=(clearFormat.match(/[^\d]/g)||[",","."]).reverse(),languageData.delimiters={decimal:delimiters[0],thousands:delimiters[1]},preparedFormat=format.replace(clearFormat,clearFormat.replace(delimiters[0],".").replace(delimiters[1],","))}else noFormat=!0;break;case"currency":if(format=format||generalCurrencyFormat){var formatWithoutCurrency=(format=format.toString()).match(/\d.?\d*.?\d*/)[0],currencySymbol=format.replace(formatWithoutCurrency,"")||"$";delimiters=(formatWithoutCurrency.match(/[^\d]/g)||[",","."]).reverse(),languageData.delimiters={decimal:delimiters[0],thousands:delimiters[1]},languageData.currency.symbol=currencySymbol,preparedFormat=format.replace(formatWithoutCurrency,formatWithoutCurrency.replace(delimiters[0],".").replace(delimiters[1],",")).replace(currencySymbol,"$")}else noFormat=!0;break;case"date":case"time_duration":noFormat=!0;break;default:if(numberFormat){delimiters=((format=numberFormat).match(/[^\d]/g)||[",","."]).reverse(),languageData.delimiters={decimal:delimiters[0],thousands:delimiters[1]},preparedFormat=format.replace(format,format.replace(delimiters[0],".").replace(delimiters[1],","));break}noFormat=!0}noFormat?noFormat=!1:(numeral.language("en",languageData),value=numeral(value).format(preparedFormat))}$this.html(value)}})},vendor.Tables.isNumber=function(value){return!(!value||!value.toString().match(/^-{0,1}\d+\.{0,1}\d*$/))},vendor.Tables.prepareFormulaToParse=function(value){var stringsInFormula=value.match(/".+?"|'.+?'/g);if(stringsInFormula&&stringsInFormula.length){var clearValue=value.replace(/".+?"|'.+?'/g,"%STR%"),index=0;value=(clearValue=clearValue.toUpperCase()).replace(/%STR%/g,function(match){var val=match;return index<stringsInFormula.length&&(val=stringsInFormula[index],index++),val})}else value=value.toUpperCase();return value},vendor.Tables.Base64={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(input){var self=vendor.Tables.Base64,output="",i=0,chr1,chr2,chr3,enc1,enc2,enc3,enc4;for(input=self._utf8_encode(input);i<input.length;)enc1=(chr1=input.charCodeAt(i++))>>2,enc2=(3&chr1)<<4|(chr2=input.charCodeAt(i++))>>4,enc3=(15&chr2)<<2|(chr3=input.charCodeAt(i++))>>6,enc4=63&chr3,isNaN(chr2)?enc3=enc4=64:isNaN(chr3)&&(enc4=64),output=output+self._keyStr.charAt(enc1)+self._keyStr.charAt(enc2)+self._keyStr.charAt(enc3)+self._keyStr.charAt(enc4);return output},_utf8_encode:function(string){string=string.replace(/\r\n/g,"\n");for(var utftext="",n=0;n<string.length;n++){var c=string.charCodeAt(n);c<128?utftext+=String.fromCharCode(c):c>127&&c<2048?(utftext+=String.fromCharCode(c>>6|192),utftext+=String.fromCharCode(63&c|128)):(utftext+=String.fromCharCode(c>>12|224),utftext+=String.fromCharCode(c>>6&63|128),utftext+=String.fromCharCode(63&c|128))}return utftext}},vendor.Tables.getClassesRegexp=function(){return{color:/color\-([0-9a-f]{6})/,background:/bg\-([0-9a-f]{6})/,fontFamily:/ffamily\-([a-z_]+)/i,fontSize:/fsize\-([0-9]+)/}},vendor.Tables.setStylesToCell=function(cell){var $cell=cell instanceof jQuery?cell:$(cell),viewId=$cell.parents(".supsystic-table:first").data("view-id"),classes=this.getClassesRegexp(),cellClassNames=$cell.get(0).className,color=classes.color.exec(cellClassNames),background=classes.background.exec(cellClassNames),fontFamily=classes.fontFamily.exec(cellClassNames),fontSize=classes.fontSize.exec(cellClassNames);if(null!==color&&$cell.css({color:"#"+color[1]}),null!==background&&$cell.css({backgroundColor:"#"+background[1]}),null!==fontFamily){var family=fontFamily[1].replace(/_/g," "),familyName,familyString='@import url("//fonts.googleapis.com/css?family='+fontFamily[1].replace(/_/g,"+")+'");';if(g_stbStandartFontsList&&-1==toeInArray(family,g_stbStandartFontsList)){var style=this.getFrontendCellStylesElem(viewId);-1==style.text().indexOf(familyString)&&style.text(familyString+"\n"+style.text())}$cell.css({fontFamily:family})}if(null!==fontSize){var lineHeight=+fontSize[1]+6;$cell.css({fontSize:fontSize[1]+"px",lineHeight:lineHeight+"px"})}},vendor.Tables.getAdminCellStylesElem=function(){var $style=$("#supsystic-tables-style");return $style.length||($style=$("<style/>",{id:"supsystic-tables-style"}),$("head").append($style)),$style},vendor.Tables.getFrontendCellStylesElem=function(viewId){var $style=$("#supsystic-table-"+viewId+"-css");return $style.length||($style=$("<style/>",{id:"supsystic-table-"+viewId+"-css"}),$("head").append($style)),$style},vendor.Tables._getChunksArray=function(arr,len){for(var chunks=[],i=0,n=arr.length;i<n;)chunks.push(arr.slice(i,i+=len));return chunks},vendor.Tables._checkOnClickPopups=function($table){if("undefined"!=typeof _ppsBindOnElementClickPopups&&$table&&$table.size()){var $bindedLinks=$table.find('[href*="#ppsShowPopUp_"].ppsClickBinded');$bindedLinks&&$bindedLinks.size()&&$bindedLinks.removeClass("ppsClickBinded").unbind("click"),_ppsBindOnElementClickPopups()}})}(window.supsystic=window.supsystic||{},window.jQuery,window),function($){$.fn.isVerticallyScrollable=function(){return!!this.scrollTop()||(this.scrollTop(1),!!this.scrollTop()&&(this.scrollTop(0),!0))},$.fn.isHorizontallyScrollable=function(){return!!this.scrollLeft()||(this.scrollLeft(1),!!this.scrollLeft()&&(this.scrollLeft(0),!0))},$.extend($.expr.pseudos||$.expr[":"],{"vertically-scrollable":function(a,i,m){return $(a).isVerticallyScrollable()},"horizontally-scrollable":function(a,i,m){return $(a).isHorizontallyScrollable()}}),$.fn.removeStyle=function(style){var search=new RegExp(style+"[^;]+;?","g");return this.each(function(){$(this).attr("style",function(i,style){return style&&style.replace(search,"")})})}}(jQuery);
_u=typeof _=='function'&&_.noConflict();(function(){var undefined;var arrayPool=[],objectPool=[];var idCounter=0;var keyPrefix=+new Date+'';var largeArraySize=75;var maxPoolSize=40;var whitespace=(' \t\x0B\f\xA0\ufeff'+'\n\r\u2028\u2029'+'\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000');var reEmptyStringLeading=/\b__p \+= '';/g,reEmptyStringMiddle=/\b(__p \+=) '' \+/g,reEmptyStringTrailing=/(__e\(.*?\)|\b__t\)) \+\n'';/g;var reEsTemplate=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g;var reFlags=/\w*$/;var reFuncName=/^\s*function[ \n\r\t]+\w/;var reInterpolate=/<%=([\s\S]+?)%>/g;var reLeadingSpacesAndZeros=RegExp('^['+whitespace+']*0+(?=.$)');var reNoMatch=/($^)/;var reThis=/\bthis\b/;var reUnescapedString=/['\n\r\t\u2028\u2029\\]/g;var contextProps=['Array','Boolean','Date','Function','Math','Number','Object','RegExp','String','_','attachEvent','clearTimeout','isFinite','isNaN','parseInt','setTimeout'];var templateCounter=0;var argsClass='[object Arguments]',arrayClass='[object Array]',boolClass='[object Boolean]',dateClass='[object Date]',funcClass='[object Function]',numberClass='[object Number]',objectClass='[object Object]',regexpClass='[object RegExp]',stringClass='[object String]';var cloneableClasses={};cloneableClasses[funcClass]=!1;cloneableClasses[argsClass]=cloneableClasses[arrayClass]=cloneableClasses[boolClass]=cloneableClasses[dateClass]=cloneableClasses[numberClass]=cloneableClasses[objectClass]=cloneableClasses[regexpClass]=cloneableClasses[stringClass]=!0;var debounceOptions={'leading':!1,'maxWait':0,'trailing':!1};var descriptor={'configurable':!1,'enumerable':!1,'value':null,'writable':!1};var objectTypes={'boolean':!1,'function':!0,'object':!0,'number':!1,'string':!1,'undefined':!1};var stringEscapes={'\\':'\\',"'":"'",'\n':'n','\r':'r','\t':'t','\u2028':'u2028','\u2029':'u2029'};var root=(objectTypes[typeof window]&&window)||this;var freeExports=objectTypes[typeof exports]&&exports&&!exports.nodeType&&exports;var freeModule=objectTypes[typeof module]&&module&&!module.nodeType&&module;var moduleExports=freeModule&&freeModule.exports===freeExports&&freeExports;var freeGlobal=objectTypes[typeof global]&&global;if(freeGlobal&&(freeGlobal.global===freeGlobal||freeGlobal.window===freeGlobal)){root=freeGlobal}
function baseIndexOf(array,value,fromIndex){var index=(fromIndex||0)-1,length=array?array.length:0;while(++index<length){if(array[index]===value){return index}}
return-1}
function cacheIndexOf(cache,value){var type=typeof value;cache=cache.cache;if(type=='boolean'||value==null){return cache[value]?0:-1}
if(type!='number'&&type!='string'){type='object'}
var key=type=='number'?value:keyPrefix+value;cache=(cache=cache[type])&&cache[key];return type=='object'?(cache&&baseIndexOf(cache,value)>-1?0:-1):(cache?0:-1)}
function cachePush(value){var cache=this.cache,type=typeof value;if(type=='boolean'||value==null){cache[value]=!0}else{if(type!='number'&&type!='string'){type='object'}
var key=type=='number'?value:keyPrefix+value,typeCache=cache[type]||(cache[type]={});if(type=='object'){(typeCache[key]||(typeCache[key]=[])).push(value)}else{typeCache[key]=!0}}}
function charAtCallback(value){return value.charCodeAt(0)}
function compareAscending(a,b){var ac=a.criteria,bc=b.criteria,index=-1,length=ac.length;while(++index<length){var value=ac[index],other=bc[index];if(value!==other){if(value>other||typeof value=='undefined'){return 1}
if(value<other||typeof other=='undefined'){return-1}}}
return a.index-b.index}
function createCache(array){var index=-1,length=array.length,first=array[0],mid=array[(length/2)|0],last=array[length-1];if(first&&typeof first=='object'&&mid&&typeof mid=='object'&&last&&typeof last=='object'){return!1}
var cache=getObject();cache['false']=cache['null']=cache['true']=cache.undefined=!1;var result=getObject();result.array=array;result.cache=cache;result.push=cachePush;while(++index<length){result.push(array[index])}
return result}
function escapeStringChar(match){return'\\'+stringEscapes[match]}
function getArray(){return arrayPool.pop()||[]}
function getObject(){return objectPool.pop()||{'array':null,'cache':null,'criteria':null,'false':!1,'index':0,'null':!1,'number':null,'object':null,'push':null,'string':null,'true':!1,'undefined':!1,'value':null}}
function releaseArray(array){array.length=0;if(arrayPool.length<maxPoolSize){arrayPool.push(array)}}
function releaseObject(object){var cache=object.cache;if(cache){releaseObject(cache)}
object.array=object.cache=object.criteria=object.object=object.number=object.string=object.value=null;if(objectPool.length<maxPoolSize){objectPool.push(object)}}
function slice(array,start,end){start||(start=0);if(typeof end=='undefined'){end=array?array.length:0}
var index=-1,length=end-start||0,result=Array(length<0?0:length);while(++index<length){result[index]=array[start+index]}
return result}
function runInContext(context){context=context?_.defaults(root.Object(),context,_.pick(root,contextProps)):root;var Array=context.Array,Boolean=context.Boolean,Date=context.Date,Function=context.Function,Math=context.Math,Number=context.Number,Object=context.Object,RegExp=context.RegExp,String=context.String,TypeError=context.TypeError;var arrayRef=[];var objectProto=Object.prototype;var oldDash=context._;var toString=objectProto.toString;var reNative=RegExp('^'+String(toString).replace(/[.*+?^${}()|[\]\\]/g,'\\$&').replace(/toString| for [^\]]+/g,'.*?')+'$');var ceil=Math.ceil,clearTimeout=context.clearTimeout,floor=Math.floor,fnToString=Function.prototype.toString,getPrototypeOf=isNative(getPrototypeOf=Object.getPrototypeOf)&&getPrototypeOf,hasOwnProperty=objectProto.hasOwnProperty,push=arrayRef.push,setTimeout=context.setTimeout,splice=arrayRef.splice,unshift=arrayRef.unshift;var defineProperty=(function(){try{var o={},func=isNative(func=Object.defineProperty)&&func,result=func(o,o,o)&&func}catch(e){}
return result}());var nativeCreate=isNative(nativeCreate=Object.create)&&nativeCreate,nativeIsArray=isNative(nativeIsArray=Array.isArray)&&nativeIsArray,nativeIsFinite=context.isFinite,nativeIsNaN=context.isNaN,nativeKeys=isNative(nativeKeys=Object.keys)&&nativeKeys,nativeMax=Math.max,nativeMin=Math.min,nativeParseInt=context.parseInt,nativeRandom=Math.random;var ctorByClass={};ctorByClass[arrayClass]=Array;ctorByClass[boolClass]=Boolean;ctorByClass[dateClass]=Date;ctorByClass[funcClass]=Function;ctorByClass[objectClass]=Object;ctorByClass[numberClass]=Number;ctorByClass[regexpClass]=RegExp;ctorByClass[stringClass]=String;function lodash(value){return(value&&typeof value=='object'&&!isArray(value)&&hasOwnProperty.call(value,'__wrapped__'))?value:new lodashWrapper(value)}
function lodashWrapper(value,chainAll){this.__chain__=!!chainAll;this.__wrapped__=value}
lodashWrapper.prototype=lodash.prototype;var support=lodash.support={};support.funcDecomp=!isNative(context.WinRTError)&&reThis.test(runInContext);support.funcNames=typeof Function.name=='string';lodash.templateSettings={'escape':/<%-([\s\S]+?)%>/g,'evaluate':/<%([\s\S]+?)%>/g,'interpolate':reInterpolate,'variable':'','imports':{'_':lodash}};function baseBind(bindData){var func=bindData[0],partialArgs=bindData[2],thisArg=bindData[4];function bound(){if(partialArgs){var args=slice(partialArgs);push.apply(args,arguments)}
if(this instanceof bound){var thisBinding=baseCreate(func.prototype),result=func.apply(thisBinding,args||arguments);return isObject(result)?result:thisBinding}
return func.apply(thisArg,args||arguments)}
setBindData(bound,bindData);return bound}
function baseClone(value,isDeep,callback,stackA,stackB){if(callback){var result=callback(value);if(typeof result!='undefined'){return result}}
var isObj=isObject(value);if(isObj){var className=toString.call(value);if(!cloneableClasses[className]){return value}
var ctor=ctorByClass[className];switch(className){case boolClass:case dateClass:return new ctor(+value);case numberClass:case stringClass:return new ctor(value);case regexpClass:result=ctor(value.source,reFlags.exec(value));result.lastIndex=value.lastIndex;return result}}else{return value}
var isArr=isArray(value);if(isDeep){var initedStack=!stackA;stackA||(stackA=getArray());stackB||(stackB=getArray());var length=stackA.length;while(length--){if(stackA[length]==value){return stackB[length]}}
result=isArr?ctor(value.length):{}}else{result=isArr?slice(value):assign({},value)}
if(isArr){if(hasOwnProperty.call(value,'index')){result.index=value.index}
if(hasOwnProperty.call(value,'input')){result.input=value.input}}
if(!isDeep){return result}
stackA.push(value);stackB.push(result);(isArr?forEach:forOwn)(value,function(objValue,key){result[key]=baseClone(objValue,isDeep,callback,stackA,stackB)});if(initedStack){releaseArray(stackA);releaseArray(stackB)}
return result}
function baseCreate(prototype,properties){return isObject(prototype)?nativeCreate(prototype):{}}
if(!nativeCreate){baseCreate=(function(){function Object(){}
return function(prototype){if(isObject(prototype)){Object.prototype=prototype;var result=new Object;Object.prototype=null}
return result||context.Object()}}())}
function baseCreateCallback(func,thisArg,argCount){if(typeof func!='function'){return identity}
if(typeof thisArg=='undefined'||!('prototype' in func)){return func}
var bindData=func.__bindData__;if(typeof bindData=='undefined'){if(support.funcNames){bindData=!func.name}
bindData=bindData||!support.funcDecomp;if(!bindData){var source=fnToString.call(func);if(!support.funcNames){bindData=!reFuncName.test(source)}
if(!bindData){bindData=reThis.test(source);setBindData(func,bindData)}}}
if(bindData===!1||(bindData!==!0&&bindData[1]&1)){return func}
switch(argCount){case 1:return function(value){return func.call(thisArg,value)};case 2:return function(a,b){return func.call(thisArg,a,b)};case 3:return function(value,index,collection){return func.call(thisArg,value,index,collection)};case 4:return function(accumulator,value,index,collection){return func.call(thisArg,accumulator,value,index,collection)}}
return bind(func,thisArg)}
function baseCreateWrapper(bindData){var func=bindData[0],bitmask=bindData[1],partialArgs=bindData[2],partialRightArgs=bindData[3],thisArg=bindData[4],arity=bindData[5];var isBind=bitmask&1,isBindKey=bitmask&2,isCurry=bitmask&4,isCurryBound=bitmask&8,key=func;function bound(){var thisBinding=isBind?thisArg:this;if(partialArgs){var args=slice(partialArgs);push.apply(args,arguments)}
if(partialRightArgs||isCurry){args||(args=slice(arguments));if(partialRightArgs){push.apply(args,partialRightArgs)}
if(isCurry&&args.length<arity){bitmask|=16&~32;return baseCreateWrapper([func,(isCurryBound?bitmask:bitmask&~3),args,null,thisArg,arity])}}
args||(args=arguments);if(isBindKey){func=thisBinding[key]}
if(this instanceof bound){thisBinding=baseCreate(func.prototype);var result=func.apply(thisBinding,args);return isObject(result)?result:thisBinding}
return func.apply(thisBinding,args)}
setBindData(bound,bindData);return bound}
function baseDifference(array,values){var index=-1,indexOf=getIndexOf(),length=array?array.length:0,isLarge=length>=largeArraySize&&indexOf===baseIndexOf,result=[];if(isLarge){var cache=createCache(values);if(cache){indexOf=cacheIndexOf;values=cache}else{isLarge=!1}}
while(++index<length){var value=array[index];if(indexOf(values,value)<0){result.push(value)}}
if(isLarge){releaseObject(values)}
return result}
function baseFlatten(array,isShallow,isStrict,fromIndex){var index=(fromIndex||0)-1,length=array?array.length:0,result=[];while(++index<length){var value=array[index];if(value&&typeof value=='object'&&typeof value.length=='number'&&(isArray(value)||isArguments(value))){if(!isShallow){value=baseFlatten(value,isShallow,isStrict)}
var valIndex=-1,valLength=value.length,resIndex=result.length;result.length+=valLength;while(++valIndex<valLength){result[resIndex++]=value[valIndex]}}else if(!isStrict){result.push(value)}}
return result}
function baseIsEqual(a,b,callback,isWhere,stackA,stackB){if(callback){var result=callback(a,b);if(typeof result!='undefined'){return!!result}}
if(a===b){return a!==0||(1/a==1/b)}
var type=typeof a,otherType=typeof b;if(a===a&&!(a&&objectTypes[type])&&!(b&&objectTypes[otherType])){return!1}
if(a==null||b==null){return a===b}
var className=toString.call(a),otherClass=toString.call(b);if(className==argsClass){className=objectClass}
if(otherClass==argsClass){otherClass=objectClass}
if(className!=otherClass){return!1}
switch(className){case boolClass:case dateClass:return+a==+b;case numberClass:return(a!=+a)?b!=+b:(a==0?(1/a==1/b):a==+b);case regexpClass:case stringClass:return a==String(b)}
var isArr=className==arrayClass;if(!isArr){var aWrapped=hasOwnProperty.call(a,'__wrapped__'),bWrapped=hasOwnProperty.call(b,'__wrapped__');if(aWrapped||bWrapped){return baseIsEqual(aWrapped?a.__wrapped__:a,bWrapped?b.__wrapped__:b,callback,isWhere,stackA,stackB)}
if(className!=objectClass){return!1}
var ctorA=a.constructor,ctorB=b.constructor;if(ctorA!=ctorB&&!(isFunction(ctorA)&&ctorA instanceof ctorA&&isFunction(ctorB)&&ctorB instanceof ctorB)&&('constructor' in a&&'constructor' in b)){return!1}}
var initedStack=!stackA;stackA||(stackA=getArray());stackB||(stackB=getArray());var length=stackA.length;while(length--){if(stackA[length]==a){return stackB[length]==b}}
var size=0;result=!0;stackA.push(a);stackB.push(b);if(isArr){length=a.length;size=b.length;result=size==length;if(result||isWhere){while(size--){var index=length,value=b[size];if(isWhere){while(index--){if((result=baseIsEqual(a[index],value,callback,isWhere,stackA,stackB))){break}}}else if(!(result=baseIsEqual(a[size],value,callback,isWhere,stackA,stackB))){break}}}}else{forIn(b,function(value,key,b){if(hasOwnProperty.call(b,key)){size++;return(result=hasOwnProperty.call(a,key)&&baseIsEqual(a[key],value,callback,isWhere,stackA,stackB))}});if(result&&!isWhere){forIn(a,function(value,key,a){if(hasOwnProperty.call(a,key)){return(result=--size>-1)}})}}
stackA.pop();stackB.pop();if(initedStack){releaseArray(stackA);releaseArray(stackB)}
return result}
function baseMerge(object,source,callback,stackA,stackB){(isArray(source)?forEach:forOwn)(source,function(source,key){var found,isArr,result=source,value=object[key];if(source&&((isArr=isArray(source))||isPlainObject(source))){var stackLength=stackA.length;while(stackLength--){if((found=stackA[stackLength]==source)){value=stackB[stackLength];break}}
if(!found){var isShallow;if(callback){result=callback(value,source);if((isShallow=typeof result!='undefined')){value=result}}
if(!isShallow){value=isArr?(isArray(value)?value:[]):(isPlainObject(value)?value:{})}
stackA.push(source);stackB.push(value);if(!isShallow){baseMerge(value,source,callback,stackA,stackB)}}}else{if(callback){result=callback(value,source);if(typeof result=='undefined'){result=source}}
if(typeof result!='undefined'){value=result}}
object[key]=value})}
function baseRandom(min,max){return min+floor(nativeRandom()*(max-min+1))}
function baseUniq(array,isSorted,callback){var index=-1,indexOf=getIndexOf(),length=array?array.length:0,result=[];var isLarge=!isSorted&&length>=largeArraySize&&indexOf===baseIndexOf,seen=(callback||isLarge)?getArray():result;if(isLarge){var cache=createCache(seen);indexOf=cacheIndexOf;seen=cache}
while(++index<length){var value=array[index],computed=callback?callback(value,index,array):value;if(isSorted?!index||seen[seen.length-1]!==computed:indexOf(seen,computed)<0){if(callback||isLarge){seen.push(computed)}
result.push(value)}}
if(isLarge){releaseArray(seen.array);releaseObject(seen)}else if(callback){releaseArray(seen)}
return result}
function createAggregator(setter){return function(collection,callback,thisArg){var result={};callback=lodash.createCallback(callback,thisArg,3);var index=-1,length=collection?collection.length:0;if(typeof length=='number'){while(++index<length){var value=collection[index];setter(result,value,callback(value,index,collection),collection)}}else{forOwn(collection,function(value,key,collection){setter(result,value,callback(value,key,collection),collection)})}
return result}}
function createWrapper(func,bitmask,partialArgs,partialRightArgs,thisArg,arity){var isBind=bitmask&1,isBindKey=bitmask&2,isCurry=bitmask&4,isCurryBound=bitmask&8,isPartial=bitmask&16,isPartialRight=bitmask&32;if(!isBindKey&&!isFunction(func)){throw new TypeError}
if(isPartial&&!partialArgs.length){bitmask&=~16;isPartial=partialArgs=!1}
if(isPartialRight&&!partialRightArgs.length){bitmask&=~32;isPartialRight=partialRightArgs=!1}
var bindData=func&&func.__bindData__;if(bindData&&bindData!==!0){bindData=slice(bindData);if(bindData[2]){bindData[2]=slice(bindData[2])}
if(bindData[3]){bindData[3]=slice(bindData[3])}
if(isBind&&!(bindData[1]&1)){bindData[4]=thisArg}
if(!isBind&&bindData[1]&1){bitmask|=8}
if(isCurry&&!(bindData[1]&4)){bindData[5]=arity}
if(isPartial){push.apply(bindData[2]||(bindData[2]=[]),partialArgs)}
if(isPartialRight){unshift.apply(bindData[3]||(bindData[3]=[]),partialRightArgs)}
bindData[1]|=bitmask;return createWrapper.apply(null,bindData)}
var creater=(bitmask==1||bitmask===17)?baseBind:baseCreateWrapper;return creater([func,bitmask,partialArgs,partialRightArgs,thisArg,arity])}
function escapeHtmlChar(match){return htmlEscapes[match]}
function getIndexOf(){var result=(result=lodash.indexOf)===indexOf?baseIndexOf:result;return result}
function isNative(value){return typeof value=='function'&&reNative.test(value)}
var setBindData=!defineProperty?noop:function(func,value){descriptor.value=value;defineProperty(func,'__bindData__',descriptor)};function shimIsPlainObject(value){var ctor,result;if(!(value&&toString.call(value)==objectClass)||(ctor=value.constructor,isFunction(ctor)&&!(ctor instanceof ctor))){return!1}
forIn(value,function(value,key){result=key});return typeof result=='undefined'||hasOwnProperty.call(value,result)}
function unescapeHtmlChar(match){return htmlUnescapes[match]}
function isArguments(value){return value&&typeof value=='object'&&typeof value.length=='number'&&toString.call(value)==argsClass||!1}
var isArray=nativeIsArray||function(value){return value&&typeof value=='object'&&typeof value.length=='number'&&toString.call(value)==arrayClass||!1};var shimKeys=function(object){var index,iterable=object,result=[];if(!iterable)return result;if(!(objectTypes[typeof object]))return result;for(index in iterable){if(hasOwnProperty.call(iterable,index)){result.push(index)}}
return result};var keys=!nativeKeys?shimKeys:function(object){if(!isObject(object)){return[]}
return nativeKeys(object)};var htmlEscapes={'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'};var htmlUnescapes=invert(htmlEscapes);var reEscapedHtml=RegExp('('+keys(htmlUnescapes).join('|')+')','g'),reUnescapedHtml=RegExp('['+keys(htmlEscapes).join('')+']','g');var assign=function(object,source,guard){var index,iterable=object,result=iterable;if(!iterable)return result;var args=arguments,argsIndex=0,argsLength=typeof guard=='number'?2:args.length;if(argsLength>3&&typeof args[argsLength-2]=='function'){var callback=baseCreateCallback(args[--argsLength-1],args[argsLength--],2)}else if(argsLength>2&&typeof args[argsLength-1]=='function'){callback=args[--argsLength]}
while(++argsIndex<argsLength){iterable=args[argsIndex];if(iterable&&objectTypes[typeof iterable]){var ownIndex=-1,ownProps=objectTypes[typeof iterable]&&keys(iterable),length=ownProps?ownProps.length:0;while(++ownIndex<length){index=ownProps[ownIndex];result[index]=callback?callback(result[index],iterable[index]):iterable[index]}}}
return result};function clone(value,isDeep,callback,thisArg){if(typeof isDeep!='boolean'&&isDeep!=null){thisArg=callback;callback=isDeep;isDeep=!1}
return baseClone(value,isDeep,typeof callback=='function'&&baseCreateCallback(callback,thisArg,1))}
function cloneDeep(value,callback,thisArg){return baseClone(value,!0,typeof callback=='function'&&baseCreateCallback(callback,thisArg,1))}
function create(prototype,properties){var result=baseCreate(prototype);return properties?assign(result,properties):result}
var defaults=function(object,source,guard){var index,iterable=object,result=iterable;if(!iterable)return result;var args=arguments,argsIndex=0,argsLength=typeof guard=='number'?2:args.length;while(++argsIndex<argsLength){iterable=args[argsIndex];if(iterable&&objectTypes[typeof iterable]){var ownIndex=-1,ownProps=objectTypes[typeof iterable]&&keys(iterable),length=ownProps?ownProps.length:0;while(++ownIndex<length){index=ownProps[ownIndex];if(typeof result[index]=='undefined')result[index]=iterable[index]}}}
return result};function findKey(object,callback,thisArg){var result;callback=lodash.createCallback(callback,thisArg,3);forOwn(object,function(value,key,object){if(callback(value,key,object)){result=key;return!1}});return result}
function findLastKey(object,callback,thisArg){var result;callback=lodash.createCallback(callback,thisArg,3);forOwnRight(object,function(value,key,object){if(callback(value,key,object)){result=key;return!1}});return result}
var forIn=function(collection,callback,thisArg){var index,iterable=collection,result=iterable;if(!iterable)return result;if(!objectTypes[typeof iterable])return result;callback=callback&&typeof thisArg=='undefined'?callback:baseCreateCallback(callback,thisArg,3);for(index in iterable){if(callback(iterable[index],index,collection)===!1)return result}
return result};function forInRight(object,callback,thisArg){var pairs=[];forIn(object,function(value,key){pairs.push(key,value)});var length=pairs.length;callback=baseCreateCallback(callback,thisArg,3);while(length--){if(callback(pairs[length--],pairs[length],object)===!1){break}}
return object}
var forOwn=function(collection,callback,thisArg){var index,iterable=collection,result=iterable;if(!iterable)return result;if(!objectTypes[typeof iterable])return result;callback=callback&&typeof thisArg=='undefined'?callback:baseCreateCallback(callback,thisArg,3);var ownIndex=-1,ownProps=objectTypes[typeof iterable]&&keys(iterable),length=ownProps?ownProps.length:0;while(++ownIndex<length){index=ownProps[ownIndex];if(callback(iterable[index],index,collection)===!1)return result}
return result};function forOwnRight(object,callback,thisArg){var props=keys(object),length=props.length;callback=baseCreateCallback(callback,thisArg,3);while(length--){var key=props[length];if(callback(object[key],key,object)===!1){break}}
return object}
function functions(object){var result=[];forIn(object,function(value,key){if(isFunction(value)){result.push(key)}});return result.sort()}
function has(object,key){return object?hasOwnProperty.call(object,key):!1}
function invert(object){var index=-1,props=keys(object),length=props.length,result={};while(++index<length){var key=props[index];result[object[key]]=key}
return result}
function isBoolean(value){return value===!0||value===!1||value&&typeof value=='object'&&toString.call(value)==boolClass||!1}
function isDate(value){return value&&typeof value=='object'&&toString.call(value)==dateClass||!1}
function isElement(value){return value&&value.nodeType===1||!1}
function isEmpty(value){var result=!0;if(!value){return result}
var className=toString.call(value),length=value.length;if((className==arrayClass||className==stringClass||className==argsClass)||(className==objectClass&&typeof length=='number'&&isFunction(value.splice))){return!length}
forOwn(value,function(){return(result=!1)});return result}
function isEqual(a,b,callback,thisArg){return baseIsEqual(a,b,typeof callback=='function'&&baseCreateCallback(callback,thisArg,2))}
function isFinite(value){return nativeIsFinite(value)&&!nativeIsNaN(parseFloat(value))}
function isFunction(value){return typeof value=='function'}
function isObject(value){return!!(value&&objectTypes[typeof value])}
function isNaN(value){return isNumber(value)&&value!=+value}
function isNull(value){return value===null}
function isNumber(value){return typeof value=='number'||value&&typeof value=='object'&&toString.call(value)==numberClass||!1}
var isPlainObject=!getPrototypeOf?shimIsPlainObject:function(value){if(!(value&&toString.call(value)==objectClass)){return!1}
var valueOf=value.valueOf,objProto=isNative(valueOf)&&(objProto=getPrototypeOf(valueOf))&&getPrototypeOf(objProto);return objProto?(value==objProto||getPrototypeOf(value)==objProto):shimIsPlainObject(value)};function isRegExp(value){return value&&typeof value=='object'&&toString.call(value)==regexpClass||!1}
function isString(value){return typeof value=='string'||value&&typeof value=='object'&&toString.call(value)==stringClass||!1}
function isUndefined(value){return typeof value=='undefined'}
function mapValues(object,callback,thisArg){var result={};callback=lodash.createCallback(callback,thisArg,3);forOwn(object,function(value,key,object){result[key]=callback(value,key,object)});return result}
function merge(object){var args=arguments,length=2;if(!isObject(object)){return object}
if(typeof args[2]!='number'){length=args.length}
if(length>3&&typeof args[length-2]=='function'){var callback=baseCreateCallback(args[--length-1],args[length--],2)}else if(length>2&&typeof args[length-1]=='function'){callback=args[--length]}
var sources=slice(arguments,1,length),index=-1,stackA=getArray(),stackB=getArray();while(++index<length){baseMerge(object,sources[index],callback,stackA,stackB)}
releaseArray(stackA);releaseArray(stackB);return object}
function omit(object,callback,thisArg){var result={};if(typeof callback!='function'){var props=[];forIn(object,function(value,key){props.push(key)});props=baseDifference(props,baseFlatten(arguments,!0,!1,1));var index=-1,length=props.length;while(++index<length){var key=props[index];result[key]=object[key]}}else{callback=lodash.createCallback(callback,thisArg,3);forIn(object,function(value,key,object){if(!callback(value,key,object)){result[key]=value}})}
return result}
function pairs(object){var index=-1,props=keys(object),length=props.length,result=Array(length);while(++index<length){var key=props[index];result[index]=[key,object[key]]}
return result}
function pick(object,callback,thisArg){var result={};if(typeof callback!='function'){var index=-1,props=baseFlatten(arguments,!0,!1,1),length=isObject(object)?props.length:0;while(++index<length){var key=props[index];if(key in object){result[key]=object[key]}}}else{callback=lodash.createCallback(callback,thisArg,3);forIn(object,function(value,key,object){if(callback(value,key,object)){result[key]=value}})}
return result}
function transform(object,callback,accumulator,thisArg){var isArr=isArray(object);if(accumulator==null){if(isArr){accumulator=[]}else{var ctor=object&&object.constructor,proto=ctor&&ctor.prototype;accumulator=baseCreate(proto)}}
if(callback){callback=lodash.createCallback(callback,thisArg,4);(isArr?forEach:forOwn)(object,function(value,index,object){return callback(accumulator,value,index,object)})}
return accumulator}
function values(object){var index=-1,props=keys(object),length=props.length,result=Array(length);while(++index<length){result[index]=object[props[index]]}
return result}
function at(collection){var args=arguments,index=-1,props=baseFlatten(args,!0,!1,1),length=(args[2]&&args[2][args[1]]===collection)?1:props.length,result=Array(length);while(++index<length){result[index]=collection[props[index]]}
return result}
function contains(collection,target,fromIndex){var index=-1,indexOf=getIndexOf(),length=collection?collection.length:0,result=!1;fromIndex=(fromIndex<0?nativeMax(0,length+fromIndex):fromIndex)||0;if(isArray(collection)){result=indexOf(collection,target,fromIndex)>-1}else if(typeof length=='number'){result=(isString(collection)?collection.indexOf(target,fromIndex):indexOf(collection,target,fromIndex))>-1}else{forOwn(collection,function(value){if(++index>=fromIndex){return!(result=value===target)}})}
return result}
var countBy=createAggregator(function(result,value,key){(hasOwnProperty.call(result,key)?result[key]++:result[key]=1)});function every(collection,callback,thisArg){var result=!0;callback=lodash.createCallback(callback,thisArg,3);var index=-1,length=collection?collection.length:0;if(typeof length=='number'){while(++index<length){if(!(result=!!callback(collection[index],index,collection))){break}}}else{forOwn(collection,function(value,index,collection){return(result=!!callback(value,index,collection))})}
return result}
function filter(collection,callback,thisArg){var result=[];callback=lodash.createCallback(callback,thisArg,3);var index=-1,length=collection?collection.length:0;if(typeof length=='number'){while(++index<length){var value=collection[index];if(callback(value,index,collection)){result.push(value)}}}else{forOwn(collection,function(value,index,collection){if(callback(value,index,collection)){result.push(value)}})}
return result}
function find(collection,callback,thisArg){callback=lodash.createCallback(callback,thisArg,3);var index=-1,length=collection?collection.length:0;if(typeof length=='number'){while(++index<length){var value=collection[index];if(callback(value,index,collection)){return value}}}else{var result;forOwn(collection,function(value,index,collection){if(callback(value,index,collection)){result=value;return!1}});return result}}
function findLast(collection,callback,thisArg){var result;callback=lodash.createCallback(callback,thisArg,3);forEachRight(collection,function(value,index,collection){if(callback(value,index,collection)){result=value;return!1}});return result}
function forEach(collection,callback,thisArg){var index=-1,length=collection?collection.length:0;callback=callback&&typeof thisArg=='undefined'?callback:baseCreateCallback(callback,thisArg,3);if(typeof length=='number'){while(++index<length){if(callback(collection[index],index,collection)===!1){break}}}else{forOwn(collection,callback)}
return collection}
function forEachRight(collection,callback,thisArg){var length=collection?collection.length:0;callback=callback&&typeof thisArg=='undefined'?callback:baseCreateCallback(callback,thisArg,3);if(typeof length=='number'){while(length--){if(callback(collection[length],length,collection)===!1){break}}}else{var props=keys(collection);length=props.length;forOwn(collection,function(value,key,collection){key=props?props[--length]:--length;return callback(collection[key],key,collection)})}
return collection}
var groupBy=createAggregator(function(result,value,key){(hasOwnProperty.call(result,key)?result[key]:result[key]=[]).push(value)});var indexBy=createAggregator(function(result,value,key){result[key]=value});function invoke(collection,methodName){var args=slice(arguments,2),index=-1,isFunc=typeof methodName=='function',length=collection?collection.length:0,result=Array(typeof length=='number'?length:0);forEach(collection,function(value){result[++index]=(isFunc?methodName:value[methodName]).apply(value,args)});return result}
function map(collection,callback,thisArg){var index=-1,length=collection?collection.length:0;callback=lodash.createCallback(callback,thisArg,3);if(typeof length=='number'){var result=Array(length);while(++index<length){result[index]=callback(collection[index],index,collection)}}else{result=[];forOwn(collection,function(value,key,collection){result[++index]=callback(value,key,collection)})}
return result}
function max(collection,callback,thisArg){var computed=-Infinity,result=computed;if(typeof callback!='function'&&thisArg&&thisArg[callback]===collection){callback=null}
if(callback==null&&isArray(collection)){var index=-1,length=collection.length;while(++index<length){var value=collection[index];if(value>result){result=value}}}else{callback=(callback==null&&isString(collection))?charAtCallback:lodash.createCallback(callback,thisArg,3);forEach(collection,function(value,index,collection){var current=callback(value,index,collection);if(current>computed){computed=current;result=value}})}
return result}
function min(collection,callback,thisArg){var computed=Infinity,result=computed;if(typeof callback!='function'&&thisArg&&thisArg[callback]===collection){callback=null}
if(callback==null&&isArray(collection)){var index=-1,length=collection.length;while(++index<length){var value=collection[index];if(value<result){result=value}}}else{callback=(callback==null&&isString(collection))?charAtCallback:lodash.createCallback(callback,thisArg,3);forEach(collection,function(value,index,collection){var current=callback(value,index,collection);if(current<computed){computed=current;result=value}})}
return result}
var pluck=map;function reduce(collection,callback,accumulator,thisArg){if(!collection)return accumulator;var noaccum=arguments.length<3;callback=lodash.createCallback(callback,thisArg,4);var index=-1,length=collection.length;if(typeof length=='number'){if(noaccum){accumulator=collection[++index]}
while(++index<length){accumulator=callback(accumulator,collection[index],index,collection)}}else{forOwn(collection,function(value,index,collection){accumulator=noaccum?(noaccum=!1,value):callback(accumulator,value,index,collection)})}
return accumulator}
function reduceRight(collection,callback,accumulator,thisArg){var noaccum=arguments.length<3;callback=lodash.createCallback(callback,thisArg,4);forEachRight(collection,function(value,index,collection){accumulator=noaccum?(noaccum=!1,value):callback(accumulator,value,index,collection)});return accumulator}
function reject(collection,callback,thisArg){callback=lodash.createCallback(callback,thisArg,3);return filter(collection,function(value,index,collection){return!callback(value,index,collection)})}
function sample(collection,n,guard){if(collection&&typeof collection.length!='number'){collection=values(collection)}
if(n==null||guard){return collection?collection[baseRandom(0,collection.length-1)]:undefined}
var result=shuffle(collection);result.length=nativeMin(nativeMax(0,n),result.length);return result}
function shuffle(collection){var index=-1,length=collection?collection.length:0,result=Array(typeof length=='number'?length:0);forEach(collection,function(value){var rand=baseRandom(0,++index);result[index]=result[rand];result[rand]=value});return result}
function size(collection){var length=collection?collection.length:0;return typeof length=='number'?length:keys(collection).length}
function some(collection,callback,thisArg){var result;callback=lodash.createCallback(callback,thisArg,3);var index=-1,length=collection?collection.length:0;if(typeof length=='number'){while(++index<length){if((result=callback(collection[index],index,collection))){break}}}else{forOwn(collection,function(value,index,collection){return!(result=callback(value,index,collection))})}
return!!result}
function sortBy(collection,callback,thisArg){var index=-1,isArr=isArray(callback),length=collection?collection.length:0,result=Array(typeof length=='number'?length:0);if(!isArr){callback=lodash.createCallback(callback,thisArg,3)}
forEach(collection,function(value,key,collection){var object=result[++index]=getObject();if(isArr){object.criteria=map(callback,function(key){return value[key]})}else{(object.criteria=getArray())[0]=callback(value,key,collection)}
object.index=index;object.value=value});length=result.length;result.sort(compareAscending);while(length--){var object=result[length];result[length]=object.value;if(!isArr){releaseArray(object.criteria)}
releaseObject(object)}
return result}
function toArray(collection){if(collection&&typeof collection.length=='number'){return slice(collection)}
return values(collection)}
var where=filter;function compact(array){var index=-1,length=array?array.length:0,result=[];while(++index<length){var value=array[index];if(value){result.push(value)}}
return result}
function difference(array){return baseDifference(array,baseFlatten(arguments,!0,!0,1))}
function findIndex(array,callback,thisArg){var index=-1,length=array?array.length:0;callback=lodash.createCallback(callback,thisArg,3);while(++index<length){if(callback(array[index],index,array)){return index}}
return-1}
function findLastIndex(array,callback,thisArg){var length=array?array.length:0;callback=lodash.createCallback(callback,thisArg,3);while(length--){if(callback(array[length],length,array)){return length}}
return-1}
function first(array,callback,thisArg){var n=0,length=array?array.length:0;if(typeof callback!='number'&&callback!=null){var index=-1;callback=lodash.createCallback(callback,thisArg,3);while(++index<length&&callback(array[index],index,array)){n++}}else{n=callback;if(n==null||thisArg){return array?array[0]:undefined}}
return slice(array,0,nativeMin(nativeMax(0,n),length))}
function flatten(array,isShallow,callback,thisArg){if(typeof isShallow!='boolean'&&isShallow!=null){thisArg=callback;callback=(typeof isShallow!='function'&&thisArg&&thisArg[isShallow]===array)?null:isShallow;isShallow=!1}
if(callback!=null){array=map(array,callback,thisArg)}
return baseFlatten(array,isShallow)}
function indexOf(array,value,fromIndex){if(typeof fromIndex=='number'){var length=array?array.length:0;fromIndex=(fromIndex<0?nativeMax(0,length+fromIndex):fromIndex||0)}else if(fromIndex){var index=sortedIndex(array,value);return array[index]===value?index:-1}
return baseIndexOf(array,value,fromIndex)}
function initial(array,callback,thisArg){var n=0,length=array?array.length:0;if(typeof callback!='number'&&callback!=null){var index=length;callback=lodash.createCallback(callback,thisArg,3);while(index--&&callback(array[index],index,array)){n++}}else{n=(callback==null||thisArg)?1:callback||n}
return slice(array,0,nativeMin(nativeMax(0,length-n),length))}
function intersection(){var args=[],argsIndex=-1,argsLength=arguments.length,caches=getArray(),indexOf=getIndexOf(),trustIndexOf=indexOf===baseIndexOf,seen=getArray();while(++argsIndex<argsLength){var value=arguments[argsIndex];if(isArray(value)||isArguments(value)){args.push(value);caches.push(trustIndexOf&&value.length>=largeArraySize&&createCache(argsIndex?args[argsIndex]:seen))}}
var array=args[0],index=-1,length=array?array.length:0,result=[];outer:while(++index<length){var cache=caches[0];value=array[index];if((cache?cacheIndexOf(cache,value):indexOf(seen,value))<0){argsIndex=argsLength;(cache||seen).push(value);while(--argsIndex){cache=caches[argsIndex];if((cache?cacheIndexOf(cache,value):indexOf(args[argsIndex],value))<0){continue outer}}
result.push(value)}}
while(argsLength--){cache=caches[argsLength];if(cache){releaseObject(cache)}}
releaseArray(caches);releaseArray(seen);return result}
function last(array,callback,thisArg){var n=0,length=array?array.length:0;if(typeof callback!='number'&&callback!=null){var index=length;callback=lodash.createCallback(callback,thisArg,3);while(index--&&callback(array[index],index,array)){n++}}else{n=callback;if(n==null||thisArg){return array?array[length-1]:undefined}}
return slice(array,nativeMax(0,length-n))}
function lastIndexOf(array,value,fromIndex){var index=array?array.length:0;if(typeof fromIndex=='number'){index=(fromIndex<0?nativeMax(0,index+fromIndex):nativeMin(fromIndex,index-1))+1}
while(index--){if(array[index]===value){return index}}
return-1}
function pull(array){var args=arguments,argsIndex=0,argsLength=args.length,length=array?array.length:0;while(++argsIndex<argsLength){var index=-1,value=args[argsIndex];while(++index<length){if(array[index]===value){splice.call(array,index--,1);length--}}}
return array}
function range(start,end,step){start=+start||0;step=typeof step=='number'?step:(+step||1);if(end==null){end=start;start=0}
var index=-1,length=nativeMax(0,ceil((end-start)/(step||1))),result=Array(length);while(++index<length){result[index]=start;start+=step}
return result}
function remove(array,callback,thisArg){var index=-1,length=array?array.length:0,result=[];callback=lodash.createCallback(callback,thisArg,3);while(++index<length){var value=array[index];if(callback(value,index,array)){result.push(value);splice.call(array,index--,1);length--}}
return result}
function rest(array,callback,thisArg){if(typeof callback!='number'&&callback!=null){var n=0,index=-1,length=array?array.length:0;callback=lodash.createCallback(callback,thisArg,3);while(++index<length&&callback(array[index],index,array)){n++}}else{n=(callback==null||thisArg)?1:nativeMax(0,callback)}
return slice(array,n)}
function sortedIndex(array,value,callback,thisArg){var low=0,high=array?array.length:low;callback=callback?lodash.createCallback(callback,thisArg,1):identity;value=callback(value);while(low<high){var mid=(low+high)>>>1;(callback(array[mid])<value)?low=mid+1:high=mid}
return low}
function union(){return baseUniq(baseFlatten(arguments,!0,!0))}
function uniq(array,isSorted,callback,thisArg){if(typeof isSorted!='boolean'&&isSorted!=null){thisArg=callback;callback=(typeof isSorted!='function'&&thisArg&&thisArg[isSorted]===array)?null:isSorted;isSorted=!1}
if(callback!=null){callback=lodash.createCallback(callback,thisArg,3)}
return baseUniq(array,isSorted,callback)}
function without(array){return baseDifference(array,slice(arguments,1))}
function xor(){var index=-1,length=arguments.length;while(++index<length){var array=arguments[index];if(isArray(array)||isArguments(array)){var result=result?baseUniq(baseDifference(result,array).concat(baseDifference(array,result))):array}}
return result||[]}
function zip(){var array=arguments.length>1?arguments:arguments[0],index=-1,length=array?max(pluck(array,'length')):0,result=Array(length<0?0:length);while(++index<length){result[index]=pluck(array,index)}
return result}
function zipObject(keys,values){var index=-1,length=keys?keys.length:0,result={};if(!values&&length&&!isArray(keys[0])){values=[]}
while(++index<length){var key=keys[index];if(values){result[key]=values[index]}else if(key){result[key[0]]=key[1]}}
return result}
function after(n,func){if(!isFunction(func)){throw new TypeError}
return function(){if(--n<1){return func.apply(this,arguments)}}}
function bind(func,thisArg){return arguments.length>2?createWrapper(func,17,slice(arguments,2),null,thisArg):createWrapper(func,1,null,null,thisArg)}
function bindAll(object){var funcs=arguments.length>1?baseFlatten(arguments,!0,!1,1):functions(object),index=-1,length=funcs.length;while(++index<length){var key=funcs[index];object[key]=createWrapper(object[key],1,null,null,object)}
return object}
function bindKey(object,key){return arguments.length>2?createWrapper(key,19,slice(arguments,2),null,object):createWrapper(key,3,null,null,object)}
function compose(){var funcs=arguments,length=funcs.length;while(length--){if(!isFunction(funcs[length])){throw new TypeError}}
return function(){var args=arguments,length=funcs.length;while(length--){args=[funcs[length].apply(this,args)]}
return args[0]}}
function curry(func,arity){arity=typeof arity=='number'?arity:(+arity||func.length);return createWrapper(func,4,null,null,null,arity)}
function debounce(func,wait,options){var args,maxTimeoutId,result,stamp,thisArg,timeoutId,trailingCall,lastCalled=0,maxWait=!1,trailing=!0;if(!isFunction(func)){throw new TypeError}
wait=nativeMax(0,wait)||0;if(options===!0){var leading=!0;trailing=!1}else if(isObject(options)){leading=options.leading;maxWait='maxWait' in options&&(nativeMax(wait,options.maxWait)||0);trailing='trailing' in options?options.trailing:trailing}
var delayed=function(){var remaining=wait-(now()-stamp);if(remaining<=0){if(maxTimeoutId){clearTimeout(maxTimeoutId)}
var isCalled=trailingCall;maxTimeoutId=timeoutId=trailingCall=undefined;if(isCalled){lastCalled=now();result=func.apply(thisArg,args);if(!timeoutId&&!maxTimeoutId){args=thisArg=null}}}else{timeoutId=setTimeout(delayed,remaining)}};var maxDelayed=function(){if(timeoutId){clearTimeout(timeoutId)}
maxTimeoutId=timeoutId=trailingCall=undefined;if(trailing||(maxWait!==wait)){lastCalled=now();result=func.apply(thisArg,args);if(!timeoutId&&!maxTimeoutId){args=thisArg=null}}};return function(){args=arguments;stamp=now();thisArg=this;trailingCall=trailing&&(timeoutId||!leading);if(maxWait===!1){var leadingCall=leading&&!timeoutId}else{if(!maxTimeoutId&&!leading){lastCalled=stamp}
var remaining=maxWait-(stamp-lastCalled),isCalled=remaining<=0;if(isCalled){if(maxTimeoutId){maxTimeoutId=clearTimeout(maxTimeoutId)}
lastCalled=stamp;result=func.apply(thisArg,args)}else if(!maxTimeoutId){maxTimeoutId=setTimeout(maxDelayed,remaining)}}
if(isCalled&&timeoutId){timeoutId=clearTimeout(timeoutId)}else if(!timeoutId&&wait!==maxWait){timeoutId=setTimeout(delayed,wait)}
if(leadingCall){isCalled=!0;result=func.apply(thisArg,args)}
if(isCalled&&!timeoutId&&!maxTimeoutId){args=thisArg=null}
return result}}
function defer(func){if(!isFunction(func)){throw new TypeError}
var args=slice(arguments,1);return setTimeout(function(){func.apply(undefined,args)},1)}
function delay(func,wait){if(!isFunction(func)){throw new TypeError}
var args=slice(arguments,2);return setTimeout(function(){func.apply(undefined,args)},wait)}
function memoize(func,resolver){if(!isFunction(func)){throw new TypeError}
var memoized=function(){var cache=memoized.cache,key=resolver?resolver.apply(this,arguments):keyPrefix+arguments[0];return hasOwnProperty.call(cache,key)?cache[key]:(cache[key]=func.apply(this,arguments))}
memoized.cache={};return memoized}
function once(func){var ran,result;if(!isFunction(func)){throw new TypeError}
return function(){if(ran){return result}
ran=!0;result=func.apply(this,arguments);func=null;return result}}
function partial(func){return createWrapper(func,16,slice(arguments,1))}
function partialRight(func){return createWrapper(func,32,null,slice(arguments,1))}
function throttle(func,wait,options){var leading=!0,trailing=!0;if(!isFunction(func)){throw new TypeError}
if(options===!1){leading=!1}else if(isObject(options)){leading='leading' in options?options.leading:leading;trailing='trailing' in options?options.trailing:trailing}
debounceOptions.leading=leading;debounceOptions.maxWait=wait;debounceOptions.trailing=trailing;return debounce(func,wait,debounceOptions)}
function wrap(value,wrapper){return createWrapper(wrapper,16,[value])}
function constant(value){return function(){return value}}
function createCallback(func,thisArg,argCount){var type=typeof func;if(func==null||type=='function'){return baseCreateCallback(func,thisArg,argCount)}
if(type!='object'){return property(func)}
var props=keys(func),key=props[0],a=func[key];if(props.length==1&&a===a&&!isObject(a)){return function(object){var b=object[key];return a===b&&(a!==0||(1/a==1/b))}}
return function(object){var length=props.length,result=!1;while(length--){if(!(result=baseIsEqual(object[props[length]],func[props[length]],null,!0))){break}}
return result}}
function escape(string){return string==null?'':String(string).replace(reUnescapedHtml,escapeHtmlChar)}
function identity(value){return value}
function mixin(object,source,options){var chain=!0,methodNames=source&&functions(source);if(!source||(!options&&!methodNames.length)){if(options==null){options=source}
ctor=lodashWrapper;source=object;object=lodash;methodNames=functions(source)}
if(options===!1){chain=!1}else if(isObject(options)&&'chain' in options){chain=options.chain}
var ctor=object,isFunc=isFunction(ctor);forEach(methodNames,function(methodName){var func=object[methodName]=source[methodName];if(isFunc){ctor.prototype[methodName]=function(){var chainAll=this.__chain__,value=this.__wrapped__,args=[value];push.apply(args,arguments);var result=func.apply(object,args);if(chain||chainAll){if(value===result&&isObject(result)){return this}
result=new ctor(result);result.__chain__=chainAll}
return result}}})}
function noConflict(){context._=oldDash;return this}
function noop(){}
var now=isNative(now=Date.now)&&now||function(){return new Date().getTime()};var parseInt=nativeParseInt(whitespace+'08')==8?nativeParseInt:function(value,radix){return nativeParseInt(isString(value)?value.replace(reLeadingSpacesAndZeros,''):value,radix||0)};function property(key){return function(object){return object[key]}}
function random(min,max,floating){var noMin=min==null,noMax=max==null;if(floating==null){if(typeof min=='boolean'&&noMax){floating=min;min=1}else if(!noMax&&typeof max=='boolean'){floating=max;noMax=!0}}
if(noMin&&noMax){max=1}
min=+min||0;if(noMax){max=min;min=0}else{max=+max||0}
if(floating||min%1||max%1){var rand=nativeRandom();return nativeMin(min+(rand*(max-min+parseFloat('1e-'+((rand+'').length-1)))),max)}
return baseRandom(min,max)}
function result(object,key){if(object){var value=object[key];return isFunction(value)?object[key]():value}}
function template(text,data,options){var settings=lodash.templateSettings;text=String(text||'');options=defaults({},options,settings);var imports=defaults({},options.imports,settings.imports),importsKeys=keys(imports),importsValues=values(imports);var isEvaluating,index=0,interpolate=options.interpolate||reNoMatch,source="__p += '";var reDelimiters=RegExp((options.escape||reNoMatch).source+'|'+interpolate.source+'|'+(interpolate===reInterpolate?reEsTemplate:reNoMatch).source+'|'+(options.evaluate||reNoMatch).source+'|$','g');text.replace(reDelimiters,function(match,escapeValue,interpolateValue,esTemplateValue,evaluateValue,offset){interpolateValue||(interpolateValue=esTemplateValue);source+=text.slice(index,offset).replace(reUnescapedString,escapeStringChar);if(escapeValue){source+="' +\n__e("+escapeValue+") +\n'"}
if(evaluateValue){isEvaluating=!0;source+="';\n"+evaluateValue+";\n__p += '"}
if(interpolateValue){source+="' +\n((__t = ("+interpolateValue+")) == null ? '' : __t) +\n'"}
index=offset+match.length;return match});source+="';\n";var variable=options.variable,hasVariable=variable;if(!hasVariable){variable='obj';source='with ('+variable+') {\n'+source+'\n}\n'}
source=(isEvaluating?source.replace(reEmptyStringLeading,''):source).replace(reEmptyStringMiddle,'$1').replace(reEmptyStringTrailing,'$1;');source='function('+variable+') {\n'+(hasVariable?'':variable+' || ('+variable+' = {});\n')+"var __t, __p = '', __e = _.escape"+(isEvaluating?', __j = Array.prototype.join;\n'+"function print() { __p += __j.call(arguments, '') }\n":';\n')+source+'return __p\n}';var sourceURL='\n/*\n//# sourceURL='+(options.sourceURL||'/lodash/template/source['+(templateCounter++)+']')+'\n*/';try{var result=Function(importsKeys,'return '+source+sourceURL).apply(undefined,importsValues)}catch(e){e.source=source;throw e}
if(data){return result(data)}
result.source=source;return result}
function times(n,callback,thisArg){n=(n=+n)>-1?n:0;var index=-1,result=Array(n);callback=baseCreateCallback(callback,thisArg,1);while(++index<n){result[index]=callback(index)}
return result}
function unescape(string){return string==null?'':String(string).replace(reEscapedHtml,unescapeHtmlChar)}
function uniqueId(prefix){var id=++idCounter;return String(prefix==null?'':prefix)+id}
function chain(value){value=new lodashWrapper(value);value.__chain__=!0;return value}
function tap(value,interceptor){interceptor(value);return value}
function wrapperChain(){this.__chain__=!0;return this}
function wrapperToString(){return String(this.__wrapped__)}
function wrapperValueOf(){return this.__wrapped__}
lodash.after=after;lodash.assign=assign;lodash.at=at;lodash.bind=bind;lodash.bindAll=bindAll;lodash.bindKey=bindKey;lodash.chain=chain;lodash.compact=compact;lodash.compose=compose;lodash.constant=constant;lodash.countBy=countBy;lodash.create=create;lodash.createCallback=createCallback;lodash.curry=curry;lodash.debounce=debounce;lodash.defaults=defaults;lodash.defer=defer;lodash.delay=delay;lodash.difference=difference;lodash.filter=filter;lodash.flatten=flatten;lodash.forEach=forEach;lodash.forEachRight=forEachRight;lodash.forIn=forIn;lodash.forInRight=forInRight;lodash.forOwn=forOwn;lodash.forOwnRight=forOwnRight;lodash.functions=functions;lodash.groupBy=groupBy;lodash.indexBy=indexBy;lodash.initial=initial;lodash.intersection=intersection;lodash.invert=invert;lodash.invoke=invoke;lodash.keys=keys;lodash.map=map;lodash.mapValues=mapValues;lodash.max=max;lodash.memoize=memoize;lodash.merge=merge;lodash.min=min;lodash.omit=omit;lodash.once=once;lodash.pairs=pairs;lodash.partial=partial;lodash.partialRight=partialRight;lodash.pick=pick;lodash.pluck=pluck;lodash.property=property;lodash.pull=pull;lodash.range=range;lodash.reject=reject;lodash.remove=remove;lodash.rest=rest;lodash.shuffle=shuffle;lodash.sortBy=sortBy;lodash.tap=tap;lodash.throttle=throttle;lodash.times=times;lodash.toArray=toArray;lodash.transform=transform;lodash.union=union;lodash.uniq=uniq;lodash.values=values;lodash.where=where;lodash.without=without;lodash.wrap=wrap;lodash.xor=xor;lodash.zip=zip;lodash.zipObject=zipObject;lodash.collect=map;lodash.drop=rest;lodash.each=forEach;lodash.eachRight=forEachRight;lodash.extend=assign;lodash.methods=functions;lodash.object=zipObject;lodash.select=filter;lodash.tail=rest;lodash.unique=uniq;lodash.unzip=zip;mixin(lodash);lodash.clone=clone;lodash.cloneDeep=cloneDeep;lodash.contains=contains;lodash.escape=escape;lodash.every=every;lodash.find=find;lodash.findIndex=findIndex;lodash.findKey=findKey;lodash.findLast=findLast;lodash.findLastIndex=findLastIndex;lodash.findLastKey=findLastKey;lodash.has=has;lodash.identity=identity;lodash.indexOf=indexOf;lodash.isArguments=isArguments;lodash.isArray=isArray;lodash.isBoolean=isBoolean;lodash.isDate=isDate;lodash.isElement=isElement;lodash.isEmpty=isEmpty;lodash.isEqual=isEqual;lodash.isFinite=isFinite;lodash.isFunction=isFunction;lodash.isNaN=isNaN;lodash.isNull=isNull;lodash.isNumber=isNumber;lodash.isObject=isObject;lodash.isPlainObject=isPlainObject;lodash.isRegExp=isRegExp;lodash.isString=isString;lodash.isUndefined=isUndefined;lodash.lastIndexOf=lastIndexOf;lodash.mixin=mixin;lodash.noConflict=noConflict;lodash.noop=noop;lodash.now=now;lodash.parseInt=parseInt;lodash.random=random;lodash.reduce=reduce;lodash.reduceRight=reduceRight;lodash.result=result;lodash.runInContext=runInContext;lodash.size=size;lodash.some=some;lodash.sortedIndex=sortedIndex;lodash.template=template;lodash.unescape=unescape;lodash.uniqueId=uniqueId;lodash.all=every;lodash.any=some;lodash.detect=find;lodash.findWhere=find;lodash.foldl=reduce;lodash.foldr=reduceRight;lodash.include=contains;lodash.inject=reduce;mixin(function(){var source={}
forOwn(lodash,function(func,methodName){if(!lodash.prototype[methodName]){source[methodName]=func}});return source}(),!1);lodash.first=first;lodash.last=last;lodash.sample=sample;lodash.take=first;lodash.head=first;forOwn(lodash,function(func,methodName){var callbackable=methodName!=='sample';if(!lodash.prototype[methodName]){lodash.prototype[methodName]=function(n,guard){var chainAll=this.__chain__,result=func(this.__wrapped__,n,guard);return!chainAll&&(n==null||(guard&&!(callbackable&&typeof n=='function')))?result:new lodashWrapper(result,chainAll)}}});lodash.VERSION='2.4.1';lodash.prototype.chain=wrapperChain;lodash.prototype.toString=wrapperToString;lodash.prototype.value=wrapperValueOf;lodash.prototype.valueOf=wrapperValueOf;forEach(['join','pop','shift'],function(methodName){var func=arrayRef[methodName];lodash.prototype[methodName]=function(){var chainAll=this.__chain__,result=func.apply(this.__wrapped__,arguments);return chainAll?new lodashWrapper(result,chainAll):result}});forEach(['push','reverse','sort','unshift'],function(methodName){var func=arrayRef[methodName];lodash.prototype[methodName]=function(){func.apply(this.__wrapped__,arguments);return this}});forEach(['concat','slice','splice'],function(methodName){var func=arrayRef[methodName];lodash.prototype[methodName]=function(){return new lodashWrapper(func.apply(this.__wrapped__,arguments),this.__chain__)}});return lodash}
var _=runInContext();if(typeof define=='function'&&typeof define.amd=='object'&&define.amd){root._=_;define(function(){return _})}else if(freeExports&&freeModule){if(moduleExports){(freeModule.exports=_)._=_}else{freeExports._=_}}else{root._=root._||{};root._=_;return root._}}.call(this));!function(root,String){'use strict';var nativeTrim=String.prototype.trim;var nativeTrimRight=String.prototype.trimRight;var nativeTrimLeft=String.prototype.trimLeft;var parseNumber=function(source){return source*1||0};var strRepeat=function(str,qty){if(qty<1)return'';var result='';while(qty>0){if(qty&1)result+=str;qty>>=1,str+=str}
return result};var slice=[].slice;var defaultToWhiteSpace=function(characters){if(characters==null)
return'\\s';else if(characters.source)
return characters.source;else return'['+_s.escapeRegExp(characters)+']'};function boolMatch(s,matchers){var i,matcher,down=s.toLowerCase();matchers=[].concat(matchers);for(i=0;i<matchers.length;i+=1){matcher=matchers[i];if(!matcher)continue;if(matcher.test&&matcher.test(s))return!0;if(matcher.toLowerCase()===down)return!0}}
var escapeChars={lt:'<',gt:'>',quot:'"',amp:'&',apos:"'"};var reversedEscapeChars={};for(var key in escapeChars)reversedEscapeChars[escapeChars[key]]=key;reversedEscapeChars["'"]='#39';var sprintf=(function(){function get_type(variable){return Object.prototype.toString.call(variable).slice(8,-1).toLowerCase()}
var str_repeat=strRepeat;var str_format=function(){if(!str_format.cache.hasOwnProperty(arguments[0])){str_format.cache[arguments[0]]=str_format.parse(arguments[0])}
return str_format.format.call(null,str_format.cache[arguments[0]],arguments)};str_format.format=function(parse_tree,argv){var cursor=1,tree_length=parse_tree.length,node_type='',arg,output=[],i,k,match,pad,pad_character,pad_length;for(i=0;i<tree_length;i++){node_type=get_type(parse_tree[i]);if(node_type==='string'){output.push(parse_tree[i])}else if(node_type==='array'){match=parse_tree[i];if(match[2]){arg=argv[cursor];for(k=0;k<match[2].length;k++){if(!arg.hasOwnProperty(match[2][k])){throw new Error(sprintf('[_.sprintf] property "%s" does not exist',match[2][k]))}
arg=arg[match[2][k]]}}else if(match[1]){arg=argv[match[1]]}else{arg=argv[cursor++]}
if(/[^s]/.test(match[8])&&(get_type(arg)!='number')){throw new Error(sprintf('[_.sprintf] expecting number but found %s',get_type(arg)))}
switch(match[8]){case 'b':arg=arg.toString(2);break;case 'c':arg=String.fromCharCode(arg);break;case 'd':arg=parseInt(arg,10);break;case 'e':arg=match[7]?arg.toExponential(match[7]):arg.toExponential();break;case 'f':arg=match[7]?parseFloat(arg).toFixed(match[7]):parseFloat(arg);break;case 'o':arg=arg.toString(8);break;case 's':arg=((arg=String(arg))&&match[7]?arg.substring(0,match[7]):arg);break;case 'u':arg=Math.abs(arg);break;case 'x':arg=arg.toString(16);break;case 'X':arg=arg.toString(16).toUpperCase();break}
arg=(/[def]/.test(match[8])&&match[3]&&arg>=0?'+'+arg:arg);pad_character=match[4]?match[4]=='0'?'0':match[4].charAt(1):' ';pad_length=match[6]-String(arg).length;pad=match[6]?str_repeat(pad_character,pad_length):'';output.push(match[5]?arg+pad:pad+arg)}}
return output.join('')};str_format.cache={};str_format.parse=function(fmt){var _fmt=fmt,match=[],parse_tree=[],arg_names=0;while(_fmt){if((match=/^[^\x25]+/.exec(_fmt))!==null){parse_tree.push(match[0])}else if((match=/^\x25{2}/.exec(_fmt))!==null){parse_tree.push('%')}else if((match=/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-fosuxX])/.exec(_fmt))!==null){if(match[2]){arg_names|=1;var field_list=[],replacement_field=match[2],field_match=[];if((field_match=/^([a-z_][a-z_\d]*)/i.exec(replacement_field))!==null){field_list.push(field_match[1]);while((replacement_field=replacement_field.substring(field_match[0].length))!==''){if((field_match=/^\.([a-z_][a-z_\d]*)/i.exec(replacement_field))!==null){field_list.push(field_match[1])}else if((field_match=/^\[(\d+)\]/.exec(replacement_field))!==null){field_list.push(field_match[1])}else{throw new Error('[_.sprintf] huh?')}}}else{throw new Error('[_.sprintf] huh?')}
match[2]=field_list}else{arg_names|=2}
if(arg_names===3){throw new Error('[_.sprintf] mixing positional and named placeholders is not (yet) supported')}
parse_tree.push(match)}else{throw new Error('[_.sprintf] huh?')}
_fmt=_fmt.substring(match[0].length)}
return parse_tree};return str_format})();var _s={VERSION:'2.3.0',isBlank:function(str){if(str==null)str='';return(/^\s*$/).test(str)},stripTags:function(str){if(str==null)return'';return String(str).replace(/<\/?[^>]+>/g,'')},capitalize:function(str){str=str==null?'':String(str);return str.charAt(0).toUpperCase()+str.slice(1)},chop:function(str,step){if(str==null)return[];str=String(str);step=~~step;return step>0?str.match(new RegExp('.{1,'+step+'}','g')):[str]},clean:function(str){return _s.strip(str).replace(/\s+/g,' ')},count:function(str,substr){if(str==null||substr==null)return 0;str=String(str);substr=String(substr);var count=0,pos=0,length=substr.length;while(!0){pos=str.indexOf(substr,pos);if(pos===-1)break;count++;pos+=length}
return count},chars:function(str){if(str==null)return[];return String(str).split('')},swapCase:function(str){if(str==null)return'';return String(str).replace(/\S/g,function(c){return c===c.toUpperCase()?c.toLowerCase():c.toUpperCase()})},escapeHTML:function(str){if(str==null)return'';return String(str).replace(/[&<>"']/g,function(m){return'&'+reversedEscapeChars[m]+';'})},unescapeHTML:function(str){if(str==null)return'';return String(str).replace(/\&([^;]+);/g,function(entity,entityCode){var match;if(entityCode in escapeChars){return escapeChars[entityCode]}else if(match=entityCode.match(/^#x([\da-fA-F]+)$/)){return String.fromCharCode(parseInt(match[1],16))}else if(match=entityCode.match(/^#(\d+)$/)){return String.fromCharCode(~~match[1])}else{return entity}})},escapeRegExp:function(str){if(str==null)return'';return String(str).replace(/([.*+?^=!:${}()|[\]\/\\])/g,'\\$1')},splice:function(str,i,howmany,substr){var arr=_s.chars(str);arr.splice(~~i,~~howmany,substr);return arr.join('')},insert:function(str,i,substr){return _s.splice(str,i,0,substr)},include:function(str,needle){if(needle==='')return!0;if(str==null)return!1;return String(str).indexOf(needle)!==-1},join:function(){var args=slice.call(arguments),separator=args.shift();if(separator==null)separator='';return args.join(separator)},lines:function(str){if(str==null)return[];return String(str).split("\n")},reverse:function(str){return _s.chars(str).reverse().join('')},startsWith:function(str,starts){if(starts==='')return!0;if(str==null||starts==null)return!1;str=String(str);starts=String(starts);return str.length>=starts.length&&str.slice(0,starts.length)===starts},endsWith:function(str,ends){if(ends==='')return!0;if(str==null||ends==null)return!1;str=String(str);ends=String(ends);return str.length>=ends.length&&str.slice(str.length-ends.length)===ends},succ:function(str){if(str==null)return'';str=String(str);return str.slice(0,-1)+String.fromCharCode(str.charCodeAt(str.length-1)+1)},titleize:function(str){if(str==null)return'';str=String(str).toLowerCase();return str.replace(/(?:^|\s|-)\S/g,function(c){return c.toUpperCase()})},camelize:function(str){return _s.trim(str).replace(/[-_\s]+(.)?/g,function(match,c){return c?c.toUpperCase():""})},underscored:function(str){return _s.trim(str).replace(/([a-z\d])([A-Z]+)/g,'$1_$2').replace(/[-\s]+/g,'_').toLowerCase()},dasherize:function(str){return _s.trim(str).replace(/([A-Z])/g,'-$1').replace(/[-_\s]+/g,'-').toLowerCase()},classify:function(str){return _s.titleize(String(str).replace(/[\W_]/g,' ')).replace(/\s/g,'')},humanize:function(str){return _s.capitalize(_s.underscored(str).replace(/_id$/,'').replace(/_/g,' '))},trim:function(str,characters){if(str==null)return'';if(!characters&&nativeTrim)return nativeTrim.call(str);characters=defaultToWhiteSpace(characters);return String(str).replace(new RegExp('\^'+characters+'+|'+characters+'+$','g'),'')},ltrim:function(str,characters){if(str==null)return'';if(!characters&&nativeTrimLeft)return nativeTrimLeft.call(str);characters=defaultToWhiteSpace(characters);return String(str).replace(new RegExp('^'+characters+'+'),'')},rtrim:function(str,characters){if(str==null)return'';if(!characters&&nativeTrimRight)return nativeTrimRight.call(str);characters=defaultToWhiteSpace(characters);return String(str).replace(new RegExp(characters+'+$'),'')},truncate:function(str,length,truncateStr){if(str==null)return'';str=String(str);truncateStr=truncateStr||'...';length=~~length;return str.length>length?str.slice(0,length)+truncateStr:str},prune:function(str,length,pruneStr){if(str==null)return'';str=String(str);length=~~length;pruneStr=pruneStr!=null?String(pruneStr):'...';if(str.length<=length)return str;var tmpl=function(c){return c.toUpperCase()!==c.toLowerCase()?'A':' '},template=str.slice(0,length+1).replace(/.(?=\W*\w*$)/g,tmpl);if(template.slice(template.length-2).match(/\w\w/))
template=template.replace(/\s*\S+$/,'');else template=_s.rtrim(template.slice(0,template.length-1));return(template+pruneStr).length>str.length?str:str.slice(0,template.length)+pruneStr},words:function(str,delimiter){if(_s.isBlank(str))return[];return _s.trim(str,delimiter).split(delimiter||/\s+/)},pad:function(str,length,padStr,type){str=str==null?'':String(str);length=~~length;var padlen=0;if(!padStr)
padStr=' ';else if(padStr.length>1)
padStr=padStr.charAt(0);switch(type){case 'right':padlen=length-str.length;return str+strRepeat(padStr,padlen);case 'both':padlen=length-str.length;return strRepeat(padStr,Math.ceil(padlen/2))+str+strRepeat(padStr,Math.floor(padlen/2));default:padlen=length-str.length;return strRepeat(padStr,padlen)+str}},lpad:function(str,length,padStr){return _s.pad(str,length,padStr)},rpad:function(str,length,padStr){return _s.pad(str,length,padStr,'right')},lrpad:function(str,length,padStr){return _s.pad(str,length,padStr,'both')},sprintf:sprintf,vsprintf:function(fmt,argv){argv.unshift(fmt);return sprintf.apply(null,argv)},toNumber:function(str,decimals){if(!str)return 0;str=_s.trim(str);if(!str.match(/^-?\d+(?:\.\d+)?$/))return NaN;return parseNumber(parseNumber(str).toFixed(~~decimals))},numberFormat:function(number,dec,dsep,tsep){if(isNaN(number)||number==null)return'';number=number.toFixed(~~dec);tsep=typeof tsep=='string'?tsep:',';var parts=number.split('.'),fnums=parts[0],decimals=parts[1]?(dsep||'.')+parts[1]:'';return fnums.replace(/(\d)(?=(?:\d{3})+$)/g,'$1'+tsep)+decimals},strRight:function(str,sep){if(str==null)return'';str=String(str);sep=sep!=null?String(sep):sep;var pos=!sep?-1:str.indexOf(sep);return~pos?str.slice(pos+sep.length,str.length):str},strRightBack:function(str,sep){if(str==null)return'';str=String(str);sep=sep!=null?String(sep):sep;var pos=!sep?-1:str.lastIndexOf(sep);return~pos?str.slice(pos+sep.length,str.length):str},strLeft:function(str,sep){if(str==null)return'';str=String(str);sep=sep!=null?String(sep):sep;var pos=!sep?-1:str.indexOf(sep);return~pos?str.slice(0,pos):str},strLeftBack:function(str,sep){if(str==null)return'';str+='';sep=sep!=null?''+sep:sep;var pos=str.lastIndexOf(sep);return~pos?str.slice(0,pos):str},toSentence:function(array,separator,lastSeparator,serial){separator=separator||', ';lastSeparator=lastSeparator||' and ';var a=array.slice(),lastMember=a.pop();if(array.length>2&&serial)lastSeparator=_s.rtrim(separator)+lastSeparator;return a.length?a.join(separator)+lastSeparator+lastMember:lastMember},toSentenceSerial:function(){var args=slice.call(arguments);args[3]=!0;return _s.toSentence.apply(_s,args)},slugify:function(str){if(str==null)return'';var from="ÄÃ Ã¡Ã¤Ã¢Ã£Ã¥Ã¦ÄÄÄÃ¨Ã©Ã«ÃªÃ¬Ã­Ã¯Ã®ÅÅÃ²Ã³Ã¶Ã´ÃµÃ¸ÅÈÈÃ¹ÃºÃ¼Ã»Ã±Ã§Å¼Åº",to="aaaaaaaaaceeeeeiiiilnoooooosstuuuunczz",regex=new RegExp(defaultToWhiteSpace(from),'g');str=String(str).toLowerCase().replace(regex,function(c){var index=from.indexOf(c);return to.charAt(index)||'-'});return _s.dasherize(str.replace(/[^\w\s-]/g,''))},surround:function(str,wrapper){return[wrapper,str,wrapper].join('')},quote:function(str,quoteChar){return _s.surround(str,quoteChar||'"')},unquote:function(str,quoteChar){quoteChar=quoteChar||'"';if(str[0]===quoteChar&&str[str.length-1]===quoteChar)
return str.slice(1,str.length-1);else return str},exports:function(){var result={};for(var prop in this){if(!this.hasOwnProperty(prop)||prop.match(/^(?:include|contains|reverse)$/))continue;result[prop]=this[prop]}
return result},repeat:function(str,qty,separator){if(str==null)return'';qty=~~qty;if(separator==null)return strRepeat(String(str),qty);for(var repeat=[];qty>0;repeat[--qty]=str){}
return repeat.join(separator)},naturalCmp:function(str1,str2){if(str1==str2)return 0;if(!str1)return-1;if(!str2)return 1;var cmpRegex=/(\.\d+)|(\d+)|(\D+)/g,tokens1=String(str1).toLowerCase().match(cmpRegex),tokens2=String(str2).toLowerCase().match(cmpRegex),count=Math.min(tokens1.length,tokens2.length);for(var i=0;i<count;i++){var a=tokens1[i],b=tokens2[i];if(a!==b){var num1=parseInt(a,10);if(!isNaN(num1)){var num2=parseInt(b,10);if(!isNaN(num2)&&num1-num2)
return num1-num2}
return a<b?-1:1}}
if(tokens1.length===tokens2.length)
return tokens1.length-tokens2.length;return str1<str2?-1:1},levenshtein:function(str1,str2){if(str1==null&&str2==null)return 0;if(str1==null)return String(str2).length;if(str2==null)return String(str1).length;str1=String(str1);str2=String(str2);var current=[],prev,value;for(var i=0;i<=str2.length;i++)
for(var j=0;j<=str1.length;j++){if(i&&j)
if(str1.charAt(j-1)===str2.charAt(i-1))
value=prev;else value=Math.min(current[j],current[j-1],prev)+1;else value=i+j;prev=current[j];current[j]=value}
return current.pop()},toBoolean:function(str,trueValues,falseValues){if(typeof str==="number")str=""+str;if(typeof str!=="string")return!!str;str=_s.trim(str);if(boolMatch(str,trueValues||["true","1"]))return!0;if(boolMatch(str,falseValues||["false","0"]))return!1}};_s.strip=_s.trim;_s.lstrip=_s.ltrim;_s.rstrip=_s.rtrim;_s.center=_s.lrpad;_s.rjust=_s.lpad;_s.ljust=_s.rpad;_s.contains=_s.include;_s.q=_s.quote;_s.toBool=_s.toBoolean;if(typeof exports!=='undefined'){if(typeof module!=='undefined'&&module.exports)
module.exports=_s;exports._s=_s}
if(typeof define==='function'&&define.amd)
define('underscore.string',[],function(){return _s});root._=root._||{};root._.string=root._.str=_s}(this,String);(function(undefined){var moment,VERSION='2.9.0',globalScope=(typeof global!=='undefined'&&(typeof window==='undefined'||window===global.window))?global:this,oldGlobalMoment,round=Math.round,hasOwnProperty=Object.prototype.hasOwnProperty,i,YEAR=0,MONTH=1,DATE=2,HOUR=3,MINUTE=4,SECOND=5,MILLISECOND=6,locales={},momentProperties=[],hasModule=(typeof module!=='undefined'&&module&&module.exports),aspNetJsonRegex=/^\/?Date\((\-?\d+)/i,aspNetTimeSpanJsonRegex=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,isoDurationRegex=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,formattingTokens=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|x|X|zz?|ZZ?|.)/g,localFormattingTokens=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,parseTokenOneOrTwoDigits=/\d\d?/,parseTokenOneToThreeDigits=/\d{1,3}/,parseTokenOneToFourDigits=/\d{1,4}/,parseTokenOneToSixDigits=/[+\-]?\d{1,6}/,parseTokenDigits=/\d+/,parseTokenWord=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,parseTokenTimezone=/Z|[\+\-]\d\d:?\d\d/gi,parseTokenT=/T/i,parseTokenOffsetMs=/[\+\-]?\d+/,parseTokenTimestampMs=/[\+\-]?\d+(\.\d{1,3})?/,parseTokenOneDigit=/\d/,parseTokenTwoDigits=/\d\d/,parseTokenThreeDigits=/\d{3}/,parseTokenFourDigits=/\d{4}/,parseTokenSixDigits=/[+-]?\d{6}/,parseTokenSignedNumber=/[+-]?\d+/,isoRegex=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,isoFormat='YYYY-MM-DDTHH:mm:ssZ',isoDates=[['YYYYYY-MM-DD',/[+-]\d{6}-\d{2}-\d{2}/],['YYYY-MM-DD',/\d{4}-\d{2}-\d{2}/],['GGGG-[W]WW-E',/\d{4}-W\d{2}-\d/],['GGGG-[W]WW',/\d{4}-W\d{2}/],['YYYY-DDD',/\d{4}-\d{3}/]],isoTimes=[['HH:mm:ss.SSSS',/(T|)\d\d:\d\d:\d\d\.\d+/],['HH:mm:ss',/(T|)\d\d:\d\d:\d\d/],['HH:mm',/(T|)\d\d:\d\d/],['HH',/(T|)\d\d/]],parseTimezoneChunker=/([\+\-]|\d\d)/gi,proxyGettersAndSetters='Date|Hours|Minutes|Seconds|Milliseconds'.split('|'),unitMillisecondFactors={'Milliseconds':1,'Seconds':1e3,'Minutes':6e4,'Hours':36e5,'Days':864e5,'Months':2592e6,'Years':31536e6},unitAliases={ms:'millisecond',s:'second',m:'minute',h:'hour',d:'day',D:'date',w:'week',W:'isoWeek',M:'month',Q:'quarter',y:'year',DDD:'dayOfYear',e:'weekday',E:'isoWeekday',gg:'weekYear',GG:'isoWeekYear'},camelFunctions={dayofyear:'dayOfYear',isoweekday:'isoWeekday',isoweek:'isoWeek',weekyear:'weekYear',isoweekyear:'isoWeekYear'},formatFunctions={},relativeTimeThresholds={s:45,m:45,h:22,d:26,M:11},ordinalizeTokens='DDD w W M D d'.split(' '),paddedTokens='M D H h m s w W'.split(' '),formatTokenFunctions={M:function(){return this.month()+1},MMM:function(format){return this.localeData().monthsShort(this,format)},MMMM:function(format){return this.localeData().months(this,format)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(format){return this.localeData().weekdaysMin(this,format)},ddd:function(format){return this.localeData().weekdaysShort(this,format)},dddd:function(format){return this.localeData().weekdays(this,format)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return leftZeroFill(this.year()%100,2)},YYYY:function(){return leftZeroFill(this.year(),4)},YYYYY:function(){return leftZeroFill(this.year(),5)},YYYYYY:function(){var y=this.year(),sign=y>=0?'+':'-';return sign+leftZeroFill(Math.abs(y),6)},gg:function(){return leftZeroFill(this.weekYear()%100,2)},gggg:function(){return leftZeroFill(this.weekYear(),4)},ggggg:function(){return leftZeroFill(this.weekYear(),5)},GG:function(){return leftZeroFill(this.isoWeekYear()%100,2)},GGGG:function(){return leftZeroFill(this.isoWeekYear(),4)},GGGGG:function(){return leftZeroFill(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return toInt(this.milliseconds()/100)},SS:function(){return leftZeroFill(toInt(this.milliseconds()/10),2)},SSS:function(){return leftZeroFill(this.milliseconds(),3)},SSSS:function(){return leftZeroFill(this.milliseconds(),3)},Z:function(){var a=this.utcOffset(),b='+';if(a<0){a=-a;b='-'}
return b+leftZeroFill(toInt(a/60),2)+':'+leftZeroFill(toInt(a)%60,2)},ZZ:function(){var a=this.utcOffset(),b='+';if(a<0){a=-a;b='-'}
return b+leftZeroFill(toInt(a/60),2)+leftZeroFill(toInt(a)%60,2)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},x:function(){return this.valueOf()},X:function(){return this.unix()},Q:function(){return this.quarter()}},deprecations={},lists=['months','monthsShort','weekdays','weekdaysShort','weekdaysMin'],updateInProgress=!1;function dfl(a,b,c){switch(arguments.length){case 2:return a!=null?a:b;case 3:return a!=null?a:b!=null?b:c;default:throw new Error('Implement me')}}
function hasOwnProp(a,b){return hasOwnProperty.call(a,b)}
function defaultParsingFlags(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}
function printMsg(msg){if(moment.suppressDeprecationWarnings===!1&&typeof console!=='undefined'&&console.warn){console.warn('Deprecation warning: '+msg)}}
function deprecate(msg,fn){var firstTime=!0;return extend(function(){if(firstTime){printMsg(msg);firstTime=!1}
return fn.apply(this,arguments)},fn)}
function deprecateSimple(name,msg){if(!deprecations[name]){printMsg(msg);deprecations[name]=!0}}
function padToken(func,count){return function(a){return leftZeroFill(func.call(this,a),count)}}
function ordinalizeToken(func,period){return function(a){return this.localeData().ordinal(func.call(this,a),period)}}
function monthDiff(a,b){var wholeMonthDiff=((b.year()-a.year())*12)+(b.month()-a.month()),anchor=a.clone().add(wholeMonthDiff,'months'),anchor2,adjust;if(b-anchor<0){anchor2=a.clone().add(wholeMonthDiff-1,'months');adjust=(b-anchor)/(anchor-anchor2)}else{anchor2=a.clone().add(wholeMonthDiff+1,'months');adjust=(b-anchor)/(anchor2-anchor)}
return-(wholeMonthDiff+adjust)}
while(ordinalizeTokens.length){i=ordinalizeTokens.pop();formatTokenFunctions[i+'o']=ordinalizeToken(formatTokenFunctions[i],i)}
while(paddedTokens.length){i=paddedTokens.pop();formatTokenFunctions[i+i]=padToken(formatTokenFunctions[i],2)}
formatTokenFunctions.DDDD=padToken(formatTokenFunctions.DDD,3);function meridiemFixWrap(locale,hour,meridiem){var isPm;if(meridiem==null){return hour}
if(locale.meridiemHour!=null){return locale.meridiemHour(hour,meridiem)}else if(locale.isPM!=null){isPm=locale.isPM(meridiem);if(isPm&&hour<12){hour+=12}
if(!isPm&&hour===12){hour=0}
return hour}else{return hour}}
function Locale(){}
function Moment(config,skipOverflow){if(skipOverflow!==!1){checkOverflow(config)}
copyConfig(this,config);this._d=new Date(+config._d);if(updateInProgress===!1){updateInProgress=!0;moment.updateOffset(this);updateInProgress=!1}}
function Duration(duration){var normalizedInput=normalizeObjectUnits(duration),years=normalizedInput.year||0,quarters=normalizedInput.quarter||0,months=normalizedInput.month||0,weeks=normalizedInput.week||0,days=normalizedInput.day||0,hours=normalizedInput.hour||0,minutes=normalizedInput.minute||0,seconds=normalizedInput.second||0,milliseconds=normalizedInput.millisecond||0;this._milliseconds=+milliseconds+seconds*1e3+minutes*6e4+hours*36e5;this._days=+days+weeks*7;this._months=+months+quarters*3+years*12;this._data={};this._locale=moment.localeData();this._bubble()}
function extend(a,b){for(var i in b){if(hasOwnProp(b,i)){a[i]=b[i]}}
if(hasOwnProp(b,'toString')){a.toString=b.toString}
if(hasOwnProp(b,'valueOf')){a.valueOf=b.valueOf}
return a}
function copyConfig(to,from){var i,prop,val;if(typeof from._isAMomentObject!=='undefined'){to._isAMomentObject=from._isAMomentObject}
if(typeof from._i!=='undefined'){to._i=from._i}
if(typeof from._f!=='undefined'){to._f=from._f}
if(typeof from._l!=='undefined'){to._l=from._l}
if(typeof from._strict!=='undefined'){to._strict=from._strict}
if(typeof from._tzm!=='undefined'){to._tzm=from._tzm}
if(typeof from._isUTC!=='undefined'){to._isUTC=from._isUTC}
if(typeof from._offset!=='undefined'){to._offset=from._offset}
if(typeof from._pf!=='undefined'){to._pf=from._pf}
if(typeof from._locale!=='undefined'){to._locale=from._locale}
if(momentProperties.length>0){for(i in momentProperties){prop=momentProperties[i];val=from[prop];if(typeof val!=='undefined'){to[prop]=val}}}
return to}
function absRound(number){if(number<0){return Math.ceil(number)}else{return Math.floor(number)}}
function leftZeroFill(number,targetLength,forceSign){var output=''+Math.abs(number),sign=number>=0;while(output.length<targetLength){output='0'+output}
return(sign?(forceSign?'+':''):'-')+output}
function positiveMomentsDifference(base,other){var res={milliseconds:0,months:0};res.months=other.month()-base.month()+(other.year()-base.year())*12;if(base.clone().add(res.months,'M').isAfter(other)){--res.months}
res.milliseconds=+other- +(base.clone().add(res.months,'M'));return res}
function momentsDifference(base,other){var res;other=makeAs(other,base);if(base.isBefore(other)){res=positiveMomentsDifference(base,other)}else{res=positiveMomentsDifference(other,base);res.milliseconds=-res.milliseconds;res.months=-res.months}
return res}
function createAdder(direction,name){return function(val,period){var dur,tmp;if(period!==null&&!isNaN(+period)){deprecateSimple(name,'moment().'+name+'(period, number) is deprecated. Please use moment().'+name+'(number, period).');tmp=val;val=period;period=tmp}
val=typeof val==='string'?+val:val;dur=moment.duration(val,period);addOrSubtractDurationFromMoment(this,dur,direction);return this}}
function addOrSubtractDurationFromMoment(mom,duration,isAdding,updateOffset){var milliseconds=duration._milliseconds,days=duration._days,months=duration._months;updateOffset=updateOffset==null?!0:updateOffset;if(milliseconds){mom._d.setTime(+mom._d+milliseconds*isAdding)}
if(days){rawSetter(mom,'Date',rawGetter(mom,'Date')+days*isAdding)}
if(months){rawMonthSetter(mom,rawGetter(mom,'Month')+months*isAdding)}
if(updateOffset){moment.updateOffset(mom,days||months)}}
function isArray(input){return Object.prototype.toString.call(input)==='[object Array]'}
function isDate(input){return Object.prototype.toString.call(input)==='[object Date]'||input instanceof Date}
function compareArrays(array1,array2,dontConvert){var len=Math.min(array1.length,array2.length),lengthDiff=Math.abs(array1.length-array2.length),diffs=0,i;for(i=0;i<len;i++){if((dontConvert&&array1[i]!==array2[i])||(!dontConvert&&toInt(array1[i])!==toInt(array2[i]))){diffs++}}
return diffs+lengthDiff}
function normalizeUnits(units){if(units){var lowered=units.toLowerCase().replace(/(.)s$/,'$1');units=unitAliases[units]||camelFunctions[lowered]||lowered}
return units}
function normalizeObjectUnits(inputObject){var normalizedInput={},normalizedProp,prop;for(prop in inputObject){if(hasOwnProp(inputObject,prop)){normalizedProp=normalizeUnits(prop);if(normalizedProp){normalizedInput[normalizedProp]=inputObject[prop]}}}
return normalizedInput}
function makeList(field){var count,setter;if(field.indexOf('week')===0){count=7;setter='day'}else if(field.indexOf('month')===0){count=12;setter='month'}else{return}
moment[field]=function(format,index){var i,getter,method=moment._locale[field],results=[];if(typeof format==='number'){index=format;format=undefined}
getter=function(i){var m=moment().utc().set(setter,i);return method.call(moment._locale,m,format||'')};if(index!=null){return getter(index)}else{for(i=0;i<count;i++){results.push(getter(i))}
return results}}}
function toInt(argumentForCoercion){var coercedNumber=+argumentForCoercion,value=0;if(coercedNumber!==0&&isFinite(coercedNumber)){if(coercedNumber>=0){value=Math.floor(coercedNumber)}else{value=Math.ceil(coercedNumber)}}
return value}
function daysInMonth(year,month){return new Date(Date.UTC(year,month+1,0)).getUTCDate()}
function weeksInYear(year,dow,doy){return weekOfYear(moment([year,11,31+dow-doy]),dow,doy).week}
function daysInYear(year){return isLeapYear(year)?366:365}
function isLeapYear(year){return(year%4===0&&year%100!==0)||year%400===0}
function checkOverflow(m){var overflow;if(m._a&&m._pf.overflow===-2){overflow=m._a[MONTH]<0||m._a[MONTH]>11?MONTH:m._a[DATE]<1||m._a[DATE]>daysInMonth(m._a[YEAR],m._a[MONTH])?DATE:m._a[HOUR]<0||m._a[HOUR]>24||(m._a[HOUR]===24&&(m._a[MINUTE]!==0||m._a[SECOND]!==0||m._a[MILLISECOND]!==0))?HOUR:m._a[MINUTE]<0||m._a[MINUTE]>59?MINUTE:m._a[SECOND]<0||m._a[SECOND]>59?SECOND:m._a[MILLISECOND]<0||m._a[MILLISECOND]>999?MILLISECOND:-1;if(m._pf._overflowDayOfYear&&(overflow<YEAR||overflow>DATE)){overflow=DATE}
m._pf.overflow=overflow}}
function isValid(m){if(m._isValid==null){m._isValid=!isNaN(m._d.getTime())&&m._pf.overflow<0&&!m._pf.empty&&!m._pf.invalidMonth&&!m._pf.nullInput&&!m._pf.invalidFormat&&!m._pf.userInvalidated;if(m._strict){m._isValid=m._isValid&&m._pf.charsLeftOver===0&&m._pf.unusedTokens.length===0&&m._pf.bigHour===undefined}}
return m._isValid}
function normalizeLocale(key){return key?key.toLowerCase().replace('_','-'):key}
function chooseLocale(names){var i=0,j,next,locale,split;while(i<names.length){split=normalizeLocale(names[i]).split('-');j=split.length;next=normalizeLocale(names[i+1]);next=next?next.split('-'):null;while(j>0){locale=loadLocale(split.slice(0,j).join('-'));if(locale){return locale}
if(next&&next.length>=j&&compareArrays(split,next,!0)>=j-1){break}
j--}
i++}
return null}
function loadLocale(name){var oldLocale=null;if(!locales[name]&&hasModule){try{oldLocale=moment.locale();require('./locale/'+name);moment.locale(oldLocale)}catch(e){}}
return locales[name]}
function makeAs(input,model){var res,diff;if(model._isUTC){res=model.clone();diff=(moment.isMoment(input)||isDate(input)?+input:+moment(input))-(+res);res._d.setTime(+res._d+diff);moment.updateOffset(res,!1);return res}else{return moment(input).local()}}
extend(Locale.prototype,{set:function(config){var prop,i;for(i in config){prop=config[i];if(typeof prop==='function'){this[i]=prop}else{this['_'+i]=prop}}
this._ordinalParseLenient=new RegExp(this._ordinalParse.source+'|'+/\d{1,2}/.source)},_months:'January_February_March_April_May_June_July_August_September_October_November_December'.split('_'),months:function(m){return this._months[m.month()]},_monthsShort:'Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec'.split('_'),monthsShort:function(m){return this._monthsShort[m.month()]},monthsParse:function(monthName,format,strict){var i,mom,regex;if(!this._monthsParse){this._monthsParse=[];this._longMonthsParse=[];this._shortMonthsParse=[]}
for(i=0;i<12;i++){mom=moment.utc([2000,i]);if(strict&&!this._longMonthsParse[i]){this._longMonthsParse[i]=new RegExp('^'+this.months(mom,'').replace('.','')+'$','i');this._shortMonthsParse[i]=new RegExp('^'+this.monthsShort(mom,'').replace('.','')+'$','i')}
if(!strict&&!this._monthsParse[i]){regex='^'+this.months(mom,'')+'|^'+this.monthsShort(mom,'');this._monthsParse[i]=new RegExp(regex.replace('.',''),'i')}
if(strict&&format==='MMMM'&&this._longMonthsParse[i].test(monthName)){return i}else if(strict&&format==='MMM'&&this._shortMonthsParse[i].test(monthName)){return i}else if(!strict&&this._monthsParse[i].test(monthName)){return i}}},_weekdays:'Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday'.split('_'),weekdays:function(m){return this._weekdays[m.day()]},_weekdaysShort:'Sun_Mon_Tue_Wed_Thu_Fri_Sat'.split('_'),weekdaysShort:function(m){return this._weekdaysShort[m.day()]},_weekdaysMin:'Su_Mo_Tu_We_Th_Fr_Sa'.split('_'),weekdaysMin:function(m){return this._weekdaysMin[m.day()]},weekdaysParse:function(weekdayName){var i,mom,regex;if(!this._weekdaysParse){this._weekdaysParse=[]}
for(i=0;i<7;i++){if(!this._weekdaysParse[i]){mom=moment([2000,1]).day(i);regex='^'+this.weekdays(mom,'')+'|^'+this.weekdaysShort(mom,'')+'|^'+this.weekdaysMin(mom,'');this._weekdaysParse[i]=new RegExp(regex.replace('.',''),'i')}
if(this._weekdaysParse[i].test(weekdayName)){return i}}},_longDateFormat:{LTS:'h:mm:ss A',LT:'h:mm A',L:'MM/DD/YYYY',LL:'MMMM D, YYYY',LLL:'MMMM D, YYYY LT',LLLL:'dddd, MMMM D, YYYY LT'},longDateFormat:function(key){var output=this._longDateFormat[key];if(!output&&this._longDateFormat[key.toUpperCase()]){output=this._longDateFormat[key.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(val){return val.slice(1)});this._longDateFormat[key]=output}
return output},isPM:function(input){return((input+'').toLowerCase().charAt(0)==='p')},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(hours,minutes,isLower){if(hours>11){return isLower?'pm':'PM'}else{return isLower?'am':'AM'}},_calendar:{sameDay:'[Today at] LT',nextDay:'[Tomorrow at] LT',nextWeek:'dddd [at] LT',lastDay:'[Yesterday at] LT',lastWeek:'[Last] dddd [at] LT',sameElse:'L'},calendar:function(key,mom,now){var output=this._calendar[key];return typeof output==='function'?output.apply(mom,[now]):output},_relativeTime:{future:'in %s',past:'%s ago',s:'a few seconds',m:'a minute',mm:'%d minutes',h:'an hour',hh:'%d hours',d:'a day',dd:'%d days',M:'a month',MM:'%d months',y:'a year',yy:'%d years'},relativeTime:function(number,withoutSuffix,string,isFuture){var output=this._relativeTime[string];return(typeof output==='function')?output(number,withoutSuffix,string,isFuture):output.replace(/%d/i,number)},pastFuture:function(diff,output){var format=this._relativeTime[diff>0?'future':'past'];return typeof format==='function'?format(output):format.replace(/%s/i,output)},ordinal:function(number){return this._ordinal.replace('%d',number)},_ordinal:'%d',_ordinalParse:/\d{1,2}/,preparse:function(string){return string},postformat:function(string){return string},week:function(mom){return weekOfYear(mom,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},firstDayOfWeek:function(){return this._week.dow},firstDayOfYear:function(){return this._week.doy},_invalidDate:'Invalid date',invalidDate:function(){return this._invalidDate}});function removeFormattingTokens(input){if(input.match(/\[[\s\S]/)){return input.replace(/^\[|\]$/g,'')}
return input.replace(/\\/g,'')}
function makeFormatFunction(format){var array=format.match(formattingTokens),i,length;for(i=0,length=array.length;i<length;i++){if(formatTokenFunctions[array[i]]){array[i]=formatTokenFunctions[array[i]]}else{array[i]=removeFormattingTokens(array[i])}}
return function(mom){var output='';for(i=0;i<length;i++){output+=array[i]instanceof Function?array[i].call(mom,format):array[i]}
return output}}
function formatMoment(m,format){if(!m.isValid()){return m.localeData().invalidDate()}
format=expandFormat(format,m.localeData());if(!formatFunctions[format]){formatFunctions[format]=makeFormatFunction(format)}
return formatFunctions[format](m)}
function expandFormat(format,locale){var i=5;function replaceLongDateFormatTokens(input){return locale.longDateFormat(input)||input}
localFormattingTokens.lastIndex=0;while(i>=0&&localFormattingTokens.test(format)){format=format.replace(localFormattingTokens,replaceLongDateFormatTokens);localFormattingTokens.lastIndex=0;i-=1}
return format}
function getParseRegexForToken(token,config){var a,strict=config._strict;switch(token){case 'Q':return parseTokenOneDigit;case 'DDDD':return parseTokenThreeDigits;case 'YYYY':case 'GGGG':case 'gggg':return strict?parseTokenFourDigits:parseTokenOneToFourDigits;case 'Y':case 'G':case 'g':return parseTokenSignedNumber;case 'YYYYYY':case 'YYYYY':case 'GGGGG':case 'ggggg':return strict?parseTokenSixDigits:parseTokenOneToSixDigits;case 'S':if(strict){return parseTokenOneDigit}
case 'SS':if(strict){return parseTokenTwoDigits}
case 'SSS':if(strict){return parseTokenThreeDigits}
case 'DDD':return parseTokenOneToThreeDigits;case 'MMM':case 'MMMM':case 'dd':case 'ddd':case 'dddd':return parseTokenWord;case 'a':case 'A':return config._locale._meridiemParse;case 'x':return parseTokenOffsetMs;case 'X':return parseTokenTimestampMs;case 'Z':case 'ZZ':return parseTokenTimezone;case 'T':return parseTokenT;case 'SSSS':return parseTokenDigits;case 'MM':case 'DD':case 'YY':case 'GG':case 'gg':case 'HH':case 'hh':case 'mm':case 'ss':case 'ww':case 'WW':return strict?parseTokenTwoDigits:parseTokenOneOrTwoDigits;case 'M':case 'D':case 'd':case 'H':case 'h':case 'm':case 's':case 'w':case 'W':case 'e':case 'E':return parseTokenOneOrTwoDigits;case 'Do':return strict?config._locale._ordinalParse:config._locale._ordinalParseLenient;default:a=new RegExp(regexpEscape(unescapeFormat(token.replace('\\','')),'i'));return a}}
function utcOffsetFromString(string){string=string||'';var possibleTzMatches=(string.match(parseTokenTimezone)||[]),tzChunk=possibleTzMatches[possibleTzMatches.length-1]||[],parts=(tzChunk+'').match(parseTimezoneChunker)||['-',0,0],minutes=+(parts[1]*60)+toInt(parts[2]);return parts[0]==='+'?minutes:-minutes}
function addTimeToArrayFromToken(token,input,config){var a,datePartArray=config._a;switch(token){case 'Q':if(input!=null){datePartArray[MONTH]=(toInt(input)-1)*3}
break;case 'M':case 'MM':if(input!=null){datePartArray[MONTH]=toInt(input)-1}
break;case 'MMM':case 'MMMM':a=config._locale.monthsParse(input,token,config._strict);if(a!=null){datePartArray[MONTH]=a}else{config._pf.invalidMonth=input}
break;case 'D':case 'DD':if(input!=null){datePartArray[DATE]=toInt(input)}
break;case 'Do':if(input!=null){datePartArray[DATE]=toInt(parseInt(input.match(/\d{1,2}/)[0],10))}
break;case 'DDD':case 'DDDD':if(input!=null){config._dayOfYear=toInt(input)}
break;case 'YY':datePartArray[YEAR]=moment.parseTwoDigitYear(input);break;case 'YYYY':case 'YYYYY':case 'YYYYYY':datePartArray[YEAR]=toInt(input);break;case 'a':case 'A':config._meridiem=input;break;case 'h':case 'hh':config._pf.bigHour=!0;case 'H':case 'HH':datePartArray[HOUR]=toInt(input);break;case 'm':case 'mm':datePartArray[MINUTE]=toInt(input);break;case 's':case 'ss':datePartArray[SECOND]=toInt(input);break;case 'S':case 'SS':case 'SSS':case 'SSSS':datePartArray[MILLISECOND]=toInt(('0.'+input)*1000);break;case 'x':config._d=new Date(toInt(input));break;case 'X':config._d=new Date(parseFloat(input)*1000);break;case 'Z':case 'ZZ':config._useUTC=!0;config._tzm=utcOffsetFromString(input);break;case 'dd':case 'ddd':case 'dddd':a=config._locale.weekdaysParse(input);if(a!=null){config._w=config._w||{};config._w.d=a}else{config._pf.invalidWeekday=input}
break;case 'w':case 'ww':case 'W':case 'WW':case 'd':case 'e':case 'E':token=token.substr(0,1);case 'gggg':case 'GGGG':case 'GGGGG':token=token.substr(0,2);if(input){config._w=config._w||{};config._w[token]=toInt(input)}
break;case 'gg':case 'GG':config._w=config._w||{};config._w[token]=moment.parseTwoDigitYear(input)}}
function dayOfYearFromWeekInfo(config){var w,weekYear,week,weekday,dow,doy,temp;w=config._w;if(w.GG!=null||w.W!=null||w.E!=null){dow=1;doy=4;weekYear=dfl(w.GG,config._a[YEAR],weekOfYear(moment(),1,4).year);week=dfl(w.W,1);weekday=dfl(w.E,1)}else{dow=config._locale._week.dow;doy=config._locale._week.doy;weekYear=dfl(w.gg,config._a[YEAR],weekOfYear(moment(),dow,doy).year);week=dfl(w.w,1);if(w.d!=null){weekday=w.d;if(weekday<dow){++week}}else if(w.e!=null){weekday=w.e+dow}else{weekday=dow}}
temp=dayOfYearFromWeeks(weekYear,week,weekday,doy,dow);config._a[YEAR]=temp.year;config._dayOfYear=temp.dayOfYear}
function dateFromConfig(config){var i,date,input=[],currentDate,yearToUse;if(config._d){return}
currentDate=currentDateArray(config);if(config._w&&config._a[DATE]==null&&config._a[MONTH]==null){dayOfYearFromWeekInfo(config)}
if(config._dayOfYear){yearToUse=dfl(config._a[YEAR],currentDate[YEAR]);if(config._dayOfYear>daysInYear(yearToUse)){config._pf._overflowDayOfYear=!0}
date=makeUTCDate(yearToUse,0,config._dayOfYear);config._a[MONTH]=date.getUTCMonth();config._a[DATE]=date.getUTCDate()}
for(i=0;i<3&&config._a[i]==null;++i){config._a[i]=input[i]=currentDate[i]}
for(;i<7;i++){config._a[i]=input[i]=(config._a[i]==null)?(i===2?1:0):config._a[i]}
if(config._a[HOUR]===24&&config._a[MINUTE]===0&&config._a[SECOND]===0&&config._a[MILLISECOND]===0){config._nextDay=!0;config._a[HOUR]=0}
config._d=(config._useUTC?makeUTCDate:makeDate).apply(null,input);if(config._tzm!=null){config._d.setUTCMinutes(config._d.getUTCMinutes()-config._tzm)}
if(config._nextDay){config._a[HOUR]=24}}
function dateFromObject(config){var normalizedInput;if(config._d){return}
normalizedInput=normalizeObjectUnits(config._i);config._a=[normalizedInput.year,normalizedInput.month,normalizedInput.day||normalizedInput.date,normalizedInput.hour,normalizedInput.minute,normalizedInput.second,normalizedInput.millisecond];dateFromConfig(config)}
function currentDateArray(config){var now=new Date();if(config._useUTC){return[now.getUTCFullYear(),now.getUTCMonth(),now.getUTCDate()]}else{return[now.getFullYear(),now.getMonth(),now.getDate()]}}
function makeDateFromStringAndFormat(config){if(config._f===moment.ISO_8601){parseISO(config);return}
config._a=[];config._pf.empty=!0;var string=''+config._i,i,parsedInput,tokens,token,skipped,stringLength=string.length,totalParsedInputLength=0;tokens=expandFormat(config._f,config._locale).match(formattingTokens)||[];for(i=0;i<tokens.length;i++){token=tokens[i];parsedInput=(string.match(getParseRegexForToken(token,config))||[])[0];if(parsedInput){skipped=string.substr(0,string.indexOf(parsedInput));if(skipped.length>0){config._pf.unusedInput.push(skipped)}
string=string.slice(string.indexOf(parsedInput)+parsedInput.length);totalParsedInputLength+=parsedInput.length}
if(formatTokenFunctions[token]){if(parsedInput){config._pf.empty=!1}else{config._pf.unusedTokens.push(token)}
addTimeToArrayFromToken(token,parsedInput,config)}else if(config._strict&&!parsedInput){config._pf.unusedTokens.push(token)}}
config._pf.charsLeftOver=stringLength-totalParsedInputLength;if(string.length>0){config._pf.unusedInput.push(string)}
if(config._pf.bigHour===!0&&config._a[HOUR]<=12){config._pf.bigHour=undefined}
config._a[HOUR]=meridiemFixWrap(config._locale,config._a[HOUR],config._meridiem);dateFromConfig(config);checkOverflow(config)}
function unescapeFormat(s){return s.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(matched,p1,p2,p3,p4){return p1||p2||p3||p4})}
function regexpEscape(s){return s.replace(/[-\/\\^$*+?.()|[\]{}]/g,'\\$&')}
function makeDateFromStringAndArray(config){var tempConfig,bestMoment,scoreToBeat,i,currentScore;if(config._f.length===0){config._pf.invalidFormat=!0;config._d=new Date(NaN);return}
for(i=0;i<config._f.length;i++){currentScore=0;tempConfig=copyConfig({},config);if(config._useUTC!=null){tempConfig._useUTC=config._useUTC}
tempConfig._pf=defaultParsingFlags();tempConfig._f=config._f[i];makeDateFromStringAndFormat(tempConfig);if(!isValid(tempConfig)){continue}
currentScore+=tempConfig._pf.charsLeftOver;currentScore+=tempConfig._pf.unusedTokens.length*10;tempConfig._pf.score=currentScore;if(scoreToBeat==null||currentScore<scoreToBeat){scoreToBeat=currentScore;bestMoment=tempConfig}}
extend(config,bestMoment||tempConfig)}
function parseISO(config){var i,l,string=config._i,match=isoRegex.exec(string);if(match){config._pf.iso=!0;for(i=0,l=isoDates.length;i<l;i++){if(isoDates[i][1].exec(string)){config._f=isoDates[i][0]+(match[6]||' ');break}}
for(i=0,l=isoTimes.length;i<l;i++){if(isoTimes[i][1].exec(string)){config._f+=isoTimes[i][0];break}}
if(string.match(parseTokenTimezone)){config._f+='Z'}
makeDateFromStringAndFormat(config)}else{config._isValid=!1}}
function makeDateFromString(config){parseISO(config);if(config._isValid===!1){delete config._isValid;moment.createFromInputFallback(config)}}
function map(arr,fn){var res=[],i;for(i=0;i<arr.length;++i){res.push(fn(arr[i],i))}
return res}
function makeDateFromInput(config){var input=config._i,matched;if(input===undefined){config._d=new Date()}else if(isDate(input)){config._d=new Date(+input)}else if((matched=aspNetJsonRegex.exec(input))!==null){config._d=new Date(+matched[1])}else if(typeof input==='string'){makeDateFromString(config)}else if(isArray(input)){config._a=map(input.slice(0),function(obj){return parseInt(obj,10)});dateFromConfig(config)}else if(typeof(input)==='object'){dateFromObject(config)}else if(typeof(input)==='number'){config._d=new Date(input)}else{moment.createFromInputFallback(config)}}
function makeDate(y,m,d,h,M,s,ms){var date=new Date(y,m,d,h,M,s,ms);if(y<1970){date.setFullYear(y)}
return date}
function makeUTCDate(y){var date=new Date(Date.UTC.apply(null,arguments));if(y<1970){date.setUTCFullYear(y)}
return date}
function parseWeekday(input,locale){if(typeof input==='string'){if(!isNaN(input)){input=parseInt(input,10)}else{input=locale.weekdaysParse(input);if(typeof input!=='number'){return null}}}
return input}
function substituteTimeAgo(string,number,withoutSuffix,isFuture,locale){return locale.relativeTime(number||1,!!withoutSuffix,string,isFuture)}
function relativeTime(posNegDuration,withoutSuffix,locale){var duration=moment.duration(posNegDuration).abs(),seconds=round(duration.as('s')),minutes=round(duration.as('m')),hours=round(duration.as('h')),days=round(duration.as('d')),months=round(duration.as('M')),years=round(duration.as('y')),args=seconds<relativeTimeThresholds.s&&['s',seconds]||minutes===1&&['m']||minutes<relativeTimeThresholds.m&&['mm',minutes]||hours===1&&['h']||hours<relativeTimeThresholds.h&&['hh',hours]||days===1&&['d']||days<relativeTimeThresholds.d&&['dd',days]||months===1&&['M']||months<relativeTimeThresholds.M&&['MM',months]||years===1&&['y']||['yy',years];args[2]=withoutSuffix;args[3]=+posNegDuration>0;args[4]=locale;return substituteTimeAgo.apply({},args)}
function weekOfYear(mom,firstDayOfWeek,firstDayOfWeekOfYear){var end=firstDayOfWeekOfYear-firstDayOfWeek,daysToDayOfWeek=firstDayOfWeekOfYear-mom.day(),adjustedMoment;if(daysToDayOfWeek>end){daysToDayOfWeek-=7}
if(daysToDayOfWeek<end-7){daysToDayOfWeek+=7}
adjustedMoment=moment(mom).add(daysToDayOfWeek,'d');return{week:Math.ceil(adjustedMoment.dayOfYear()/7),year:adjustedMoment.year()}}
function dayOfYearFromWeeks(year,week,weekday,firstDayOfWeekOfYear,firstDayOfWeek){var d=makeUTCDate(year,0,1).getUTCDay(),daysToAdd,dayOfYear;d=d===0?7:d;weekday=weekday!=null?weekday:firstDayOfWeek;daysToAdd=firstDayOfWeek-d+(d>firstDayOfWeekOfYear?7:0)-(d<firstDayOfWeek?7:0);dayOfYear=7*(week-1)+(weekday-firstDayOfWeek)+daysToAdd+1;return{year:dayOfYear>0?year:year-1,dayOfYear:dayOfYear>0?dayOfYear:daysInYear(year-1)+dayOfYear}}
function makeMoment(config){var input=config._i,format=config._f,res;config._locale=config._locale||moment.localeData(config._l);if(input===null||(format===undefined&&input==='')){return moment.invalid({nullInput:!0})}
if(typeof input==='string'){config._i=input=config._locale.preparse(input)}
if(moment.isMoment(input)){return new Moment(input,!0)}else if(format){if(isArray(format)){makeDateFromStringAndArray(config)}else{makeDateFromStringAndFormat(config)}}else{makeDateFromInput(config)}
res=new Moment(config);if(res._nextDay){res.add(1,'d');res._nextDay=undefined}
return res}
moment=function(input,format,locale,strict){var c;if(typeof(locale)==='boolean'){strict=locale;locale=undefined}
c={};c._isAMomentObject=!0;c._i=input;c._f=format;c._l=locale;c._strict=strict;c._isUTC=!1;c._pf=defaultParsingFlags();return makeMoment(c)};moment.suppressDeprecationWarnings=!1;moment.createFromInputFallback=deprecate('moment construction falls back to js Date. This is '+'discouraged and will be removed in upcoming major '+'release. Please refer to '+'https://github.com/moment/moment/issues/1407 for more info.',function(config){config._d=new Date(config._i+(config._useUTC?' UTC':''))});function pickBy(fn,moments){var res,i;if(moments.length===1&&isArray(moments[0])){moments=moments[0]}
if(!moments.length){return moment()}
res=moments[0];for(i=1;i<moments.length;++i){if(moments[i][fn](res)){res=moments[i]}}
return res}
moment.min=function(){var args=[].slice.call(arguments,0);return pickBy('isBefore',args)};moment.max=function(){var args=[].slice.call(arguments,0);return pickBy('isAfter',args)};moment.utc=function(input,format,locale,strict){var c;if(typeof(locale)==='boolean'){strict=locale;locale=undefined}
c={};c._isAMomentObject=!0;c._useUTC=!0;c._isUTC=!0;c._l=locale;c._i=input;c._f=format;c._strict=strict;c._pf=defaultParsingFlags();return makeMoment(c).utc()};moment.unix=function(input){return moment(input*1000)};moment.duration=function(input,key){var duration=input,match=null,sign,ret,parseIso,diffRes;if(moment.isDuration(input)){duration={ms:input._milliseconds,d:input._days,M:input._months}}else if(typeof input==='number'){duration={};if(key){duration[key]=input}else{duration.milliseconds=input}}else if(!!(match=aspNetTimeSpanJsonRegex.exec(input))){sign=(match[1]==='-')?-1:1;duration={y:0,d:toInt(match[DATE])*sign,h:toInt(match[HOUR])*sign,m:toInt(match[MINUTE])*sign,s:toInt(match[SECOND])*sign,ms:toInt(match[MILLISECOND])*sign}}else if(!!(match=isoDurationRegex.exec(input))){sign=(match[1]==='-')?-1:1;parseIso=function(inp){var res=inp&&parseFloat(inp.replace(',','.'));return(isNaN(res)?0:res)*sign};duration={y:parseIso(match[2]),M:parseIso(match[3]),d:parseIso(match[4]),h:parseIso(match[5]),m:parseIso(match[6]),s:parseIso(match[7]),w:parseIso(match[8])}}else if(duration==null){duration={}}else if(typeof duration==='object'&&('from' in duration||'to' in duration)){diffRes=momentsDifference(moment(duration.from),moment(duration.to));duration={};duration.ms=diffRes.milliseconds;duration.M=diffRes.months}
ret=new Duration(duration);if(moment.isDuration(input)&&hasOwnProp(input,'_locale')){ret._locale=input._locale}
return ret};moment.version=VERSION;moment.defaultFormat=isoFormat;moment.ISO_8601=function(){};moment.momentProperties=momentProperties;moment.updateOffset=function(){};moment.relativeTimeThreshold=function(threshold,limit){if(relativeTimeThresholds[threshold]===undefined){return!1}
if(limit===undefined){return relativeTimeThresholds[threshold]}
relativeTimeThresholds[threshold]=limit;return!0};moment.lang=deprecate('moment.lang is deprecated. Use moment.locale instead.',function(key,value){return moment.locale(key,value)});moment.locale=function(key,values){var data;if(key){if(typeof(values)!=='undefined'){data=moment.defineLocale(key,values)}else{data=moment.localeData(key)}
if(data){moment.duration._locale=moment._locale=data}}
return moment._locale._abbr};moment.defineLocale=function(name,values){if(values!==null){values.abbr=name;if(!locales[name]){locales[name]=new Locale()}
locales[name].set(values);moment.locale(name);return locales[name]}else{delete locales[name];return null}};moment.langData=deprecate('moment.langData is deprecated. Use moment.localeData instead.',function(key){return moment.localeData(key)});moment.localeData=function(key){var locale;if(key&&key._locale&&key._locale._abbr){key=key._locale._abbr}
if(!key){return moment._locale}
if(!isArray(key)){locale=loadLocale(key);if(locale){return locale}
key=[key]}
return chooseLocale(key)};moment.isMoment=function(obj){return obj instanceof Moment||(obj!=null&&hasOwnProp(obj,'_isAMomentObject'))};moment.isDuration=function(obj){return obj instanceof Duration};for(i=lists.length-1;i>=0;--i){makeList(lists[i])}
moment.normalizeUnits=function(units){return normalizeUnits(units)};moment.invalid=function(flags){var m=moment.utc(NaN);if(flags!=null){extend(m._pf,flags)}else{m._pf.userInvalidated=!0}
return m};moment.parseZone=function(){return moment.apply(null,arguments).parseZone()};moment.parseTwoDigitYear=function(input){return toInt(input)+(toInt(input)>68?1900:2000)};moment.isDate=isDate;extend(moment.fn=Moment.prototype,{clone:function(){return moment(this)},valueOf:function(){return+this._d-((this._offset||0)*60000)},unix:function(){return Math.floor(+this/1000)},toString:function(){return this.clone().locale('en').format('ddd MMM DD YYYY HH:mm:ss [GMT]ZZ')},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){var m=moment(this).utc();if(0<m.year()&&m.year()<=9999){if('function'===typeof Date.prototype.toISOString){return this.toDate().toISOString()}else{return formatMoment(m,'YYYY-MM-DD[T]HH:mm:ss.SSS[Z]')}}else{return formatMoment(m,'YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]')}},toArray:function(){var m=this;return[m.year(),m.month(),m.date(),m.hours(),m.minutes(),m.seconds(),m.milliseconds()]},isValid:function(){return isValid(this)},isDSTShifted:function(){if(this._a){return this.isValid()&&compareArrays(this._a,(this._isUTC?moment.utc(this._a):moment(this._a)).toArray())>0}
return!1},parsingFlags:function(){return extend({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(keepLocalTime){return this.utcOffset(0,keepLocalTime)},local:function(keepLocalTime){if(this._isUTC){this.utcOffset(0,keepLocalTime);this._isUTC=!1;if(keepLocalTime){this.subtract(this._dateUtcOffset(),'m')}}
return this},format:function(inputString){var output=formatMoment(this,inputString||moment.defaultFormat);return this.localeData().postformat(output)},add:createAdder(1,'add'),subtract:createAdder(-1,'subtract'),diff:function(input,units,asFloat){var that=makeAs(input,this),zoneDiff=(that.utcOffset()-this.utcOffset())*6e4,anchor,diff,output,daysAdjust;units=normalizeUnits(units);if(units==='year'||units==='month'||units==='quarter'){output=monthDiff(this,that);if(units==='quarter'){output=output/3}else if(units==='year'){output=output/12}}else{diff=this-that;output=units==='second'?diff/1e3:units==='minute'?diff/6e4:units==='hour'?diff/36e5:units==='day'?(diff-zoneDiff)/864e5:units==='week'?(diff-zoneDiff)/6048e5:diff}
return asFloat?output:absRound(output)},from:function(time,withoutSuffix){return moment.duration({to:this,from:time}).locale(this.locale()).humanize(!withoutSuffix)},fromNow:function(withoutSuffix){return this.from(moment(),withoutSuffix)},calendar:function(time){var now=time||moment(),sod=makeAs(now,this).startOf('day'),diff=this.diff(sod,'days',!0),format=diff<-6?'sameElse':diff<-1?'lastWeek':diff<0?'lastDay':diff<1?'sameDay':diff<2?'nextDay':diff<7?'nextWeek':'sameElse';return this.format(this.localeData().calendar(format,this,moment(now)))},isLeapYear:function(){return isLeapYear(this.year())},isDST:function(){return(this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset())},day:function(input){var day=this._isUTC?this._d.getUTCDay():this._d.getDay();if(input!=null){input=parseWeekday(input,this.localeData());return this.add(input-day,'d')}else{return day}},month:makeAccessor('Month',!0),startOf:function(units){units=normalizeUnits(units);switch(units){case 'year':this.month(0);case 'quarter':case 'month':this.date(1);case 'week':case 'isoWeek':case 'day':this.hours(0);case 'hour':this.minutes(0);case 'minute':this.seconds(0);case 'second':this.milliseconds(0)}
if(units==='week'){this.weekday(0)}else if(units==='isoWeek'){this.isoWeekday(1)}
if(units==='quarter'){this.month(Math.floor(this.month()/3)*3)}
return this},endOf:function(units){units=normalizeUnits(units);if(units===undefined||units==='millisecond'){return this}
return this.startOf(units).add(1,(units==='isoWeek'?'week':units)).subtract(1,'ms')},isAfter:function(input,units){var inputMs;units=normalizeUnits(typeof units!=='undefined'?units:'millisecond');if(units==='millisecond'){input=moment.isMoment(input)?input:moment(input);return+this>+input}else{inputMs=moment.isMoment(input)?+input:+moment(input);return inputMs<+this.clone().startOf(units)}},isBefore:function(input,units){var inputMs;units=normalizeUnits(typeof units!=='undefined'?units:'millisecond');if(units==='millisecond'){input=moment.isMoment(input)?input:moment(input);return+this<+input}else{inputMs=moment.isMoment(input)?+input:+moment(input);return+this.clone().endOf(units)<inputMs}},isBetween:function(from,to,units){return this.isAfter(from,units)&&this.isBefore(to,units)},isSame:function(input,units){var inputMs;units=normalizeUnits(units||'millisecond');if(units==='millisecond'){input=moment.isMoment(input)?input:moment(input);return+this===+input}else{inputMs=+moment(input);return+(this.clone().startOf(units))<=inputMs&&inputMs<=+(this.clone().endOf(units))}},min:deprecate('moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548',function(other){other=moment.apply(null,arguments);return other<this?this:other}),max:deprecate('moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548',function(other){other=moment.apply(null,arguments);return other>this?this:other}),zone:deprecate('moment().zone is deprecated, use moment().utcOffset instead. '+'https://github.com/moment/moment/issues/1779',function(input,keepLocalTime){if(input!=null){if(typeof input!=='string'){input=-input}
this.utcOffset(input,keepLocalTime);return this}else{return-this.utcOffset()}}),utcOffset:function(input,keepLocalTime){var offset=this._offset||0,localAdjust;if(input!=null){if(typeof input==='string'){input=utcOffsetFromString(input)}
if(Math.abs(input)<16){input=input*60}
if(!this._isUTC&&keepLocalTime){localAdjust=this._dateUtcOffset()}
this._offset=input;this._isUTC=!0;if(localAdjust!=null){this.add(localAdjust,'m')}
if(offset!==input){if(!keepLocalTime||this._changeInProgress){addOrSubtractDurationFromMoment(this,moment.duration(input-offset,'m'),1,!1)}else if(!this._changeInProgress){this._changeInProgress=!0;moment.updateOffset(this,!0);this._changeInProgress=null}}
return this}else{return this._isUTC?offset:this._dateUtcOffset()}},isLocal:function(){return!this._isUTC},isUtcOffset:function(){return this._isUTC},isUtc:function(){return this._isUTC&&this._offset===0},zoneAbbr:function(){return this._isUTC?'UTC':''},zoneName:function(){return this._isUTC?'Coordinated Universal Time':''},parseZone:function(){if(this._tzm){this.utcOffset(this._tzm)}else if(typeof this._i==='string'){this.utcOffset(utcOffsetFromString(this._i))}
return this},hasAlignedHourOffset:function(input){if(!input){input=0}else{input=moment(input).utcOffset()}
return(this.utcOffset()-input)%60===0},daysInMonth:function(){return daysInMonth(this.year(),this.month())},dayOfYear:function(input){var dayOfYear=round((moment(this).startOf('day')-moment(this).startOf('year'))/864e5)+1;return input==null?dayOfYear:this.add((input-dayOfYear),'d')},quarter:function(input){return input==null?Math.ceil((this.month()+1)/3):this.month((input-1)*3+this.month()%3)},weekYear:function(input){var year=weekOfYear(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return input==null?year:this.add((input-year),'y')},isoWeekYear:function(input){var year=weekOfYear(this,1,4).year;return input==null?year:this.add((input-year),'y')},week:function(input){var week=this.localeData().week(this);return input==null?week:this.add((input-week)*7,'d')},isoWeek:function(input){var week=weekOfYear(this,1,4).week;return input==null?week:this.add((input-week)*7,'d')},weekday:function(input){var weekday=(this.day()+7-this.localeData()._week.dow)%7;return input==null?weekday:this.add(input-weekday,'d')},isoWeekday:function(input){return input==null?this.day()||7:this.day(this.day()%7?input:input-7)},isoWeeksInYear:function(){return weeksInYear(this.year(),1,4)},weeksInYear:function(){var weekInfo=this.localeData()._week;return weeksInYear(this.year(),weekInfo.dow,weekInfo.doy)},get:function(units){units=normalizeUnits(units);return this[units]()},set:function(units,value){var unit;if(typeof units==='object'){for(unit in units){this.set(unit,units[unit])}}else{units=normalizeUnits(units);if(typeof this[units]==='function'){this[units](value)}}
return this},locale:function(key){var newLocaleData;if(key===undefined){return this._locale._abbr}else{newLocaleData=moment.localeData(key);if(newLocaleData!=null){this._locale=newLocaleData}
return this}},lang:deprecate('moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.',function(key){if(key===undefined){return this.localeData()}else{return this.locale(key)}}),localeData:function(){return this._locale},_dateUtcOffset:function(){return-Math.round(this._d.getTimezoneOffset()/15)*15}});function rawMonthSetter(mom,value){var dayOfMonth;if(typeof value==='string'){value=mom.localeData().monthsParse(value);if(typeof value!=='number'){return mom}}
dayOfMonth=Math.min(mom.date(),daysInMonth(mom.year(),value));mom._d['set'+(mom._isUTC?'UTC':'')+'Month'](value,dayOfMonth);return mom}
function rawGetter(mom,unit){return mom._d['get'+(mom._isUTC?'UTC':'')+unit]()}
function rawSetter(mom,unit,value){if(unit==='Month'){return rawMonthSetter(mom,value)}else{return mom._d['set'+(mom._isUTC?'UTC':'')+unit](value)}}
function makeAccessor(unit,keepTime){return function(value){if(value!=null){rawSetter(this,unit,value);moment.updateOffset(this,keepTime);return this}else{return rawGetter(this,unit)}}}
moment.fn.millisecond=moment.fn.milliseconds=makeAccessor('Milliseconds',!1);moment.fn.second=moment.fn.seconds=makeAccessor('Seconds',!1);moment.fn.minute=moment.fn.minutes=makeAccessor('Minutes',!1);moment.fn.hour=moment.fn.hours=makeAccessor('Hours',!0);moment.fn.date=makeAccessor('Date',!0);moment.fn.dates=deprecate('dates accessor is deprecated. Use date instead.',makeAccessor('Date',!0));moment.fn.year=makeAccessor('FullYear',!0);moment.fn.years=deprecate('years accessor is deprecated. Use year instead.',makeAccessor('FullYear',!0));moment.fn.days=moment.fn.day;moment.fn.months=moment.fn.month;moment.fn.weeks=moment.fn.week;moment.fn.isoWeeks=moment.fn.isoWeek;moment.fn.quarters=moment.fn.quarter;moment.fn.toJSON=moment.fn.toISOString;moment.fn.isUTC=moment.fn.isUtc;function daysToYears(days){return days*400/146097}
function yearsToDays(years){return years*146097/400}
extend(moment.duration.fn=Duration.prototype,{_bubble:function(){var milliseconds=this._milliseconds,days=this._days,months=this._months,data=this._data,seconds,minutes,hours,years=0;data.milliseconds=milliseconds%1000;seconds=absRound(milliseconds/1000);data.seconds=seconds%60;minutes=absRound(seconds/60);data.minutes=minutes%60;hours=absRound(minutes/60);data.hours=hours%24;days+=absRound(hours/24);years=absRound(daysToYears(days));days-=absRound(yearsToDays(years));months+=absRound(days/30);days%=30;years+=absRound(months/12);months%=12;data.days=days;data.months=months;data.years=years},abs:function(){this._milliseconds=Math.abs(this._milliseconds);this._days=Math.abs(this._days);this._months=Math.abs(this._months);this._data.milliseconds=Math.abs(this._data.milliseconds);this._data.seconds=Math.abs(this._data.seconds);this._data.minutes=Math.abs(this._data.minutes);this._data.hours=Math.abs(this._data.hours);this._data.months=Math.abs(this._data.months);this._data.years=Math.abs(this._data.years);return this},weeks:function(){return absRound(this.days()/7)},valueOf:function(){return this._milliseconds+this._days*864e5+(this._months%12)*2592e6+toInt(this._months/12)*31536e6},humanize:function(withSuffix){var output=relativeTime(this,!withSuffix,this.localeData());if(withSuffix){output=this.localeData().pastFuture(+this,output)}
return this.localeData().postformat(output)},add:function(input,val){var dur=moment.duration(input,val);this._milliseconds+=dur._milliseconds;this._days+=dur._days;this._months+=dur._months;this._bubble();return this},subtract:function(input,val){var dur=moment.duration(input,val);this._milliseconds-=dur._milliseconds;this._days-=dur._days;this._months-=dur._months;this._bubble();return this},get:function(units){units=normalizeUnits(units);return this[units.toLowerCase()+'s']()},as:function(units){var days,months;units=normalizeUnits(units);if(units==='month'||units==='year'){days=this._days+this._milliseconds/864e5;months=this._months+daysToYears(days)*12;return units==='month'?months:months/12}else{days=this._days+Math.round(yearsToDays(this._months/12));switch(units){case 'week':return days/7+this._milliseconds/6048e5;case 'day':return days+this._milliseconds/864e5;case 'hour':return days*24+this._milliseconds/36e5;case 'minute':return days*24*60+this._milliseconds/6e4;case 'second':return days*24*60*60+this._milliseconds/1000;case 'millisecond':return Math.floor(days*24*60*60*1000)+this._milliseconds;default:throw new Error('Unknown unit '+units)}}},lang:moment.fn.lang,locale:moment.fn.locale,toIsoString:deprecate('toIsoString() is deprecated. Please use toISOString() instead '+'(notice the capitals)',function(){return this.toISOString()}),toISOString:function(){var years=Math.abs(this.years()),months=Math.abs(this.months()),days=Math.abs(this.days()),hours=Math.abs(this.hours()),minutes=Math.abs(this.minutes()),seconds=Math.abs(this.seconds()+this.milliseconds()/1000);if(!this.asSeconds()){return'P0D'}
return(this.asSeconds()<0?'-':'')+'P'+(years?years+'Y':'')+(months?months+'M':'')+(days?days+'D':'')+((hours||minutes||seconds)?'T':'')+(hours?hours+'H':'')+(minutes?minutes+'M':'')+(seconds?seconds+'S':'')},localeData:function(){return this._locale},toJSON:function(){return this.toISOString()}});moment.duration.fn.toString=moment.duration.fn.toISOString;function makeDurationGetter(name){moment.duration.fn[name]=function(){return this._data[name]}}
for(i in unitMillisecondFactors){if(hasOwnProp(unitMillisecondFactors,i)){makeDurationGetter(i.toLowerCase())}}
moment.duration.fn.asMilliseconds=function(){return this.as('ms')};moment.duration.fn.asSeconds=function(){return this.as('s')};moment.duration.fn.asMinutes=function(){return this.as('m')};moment.duration.fn.asHours=function(){return this.as('h')};moment.duration.fn.asDays=function(){return this.as('d')};moment.duration.fn.asWeeks=function(){return this.as('weeks')};moment.duration.fn.asMonths=function(){return this.as('M')};moment.duration.fn.asYears=function(){return this.as('y')};moment.locale('en',{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(number){var b=number%10,output=(toInt(number%100/10)===1)?'th':(b===1)?'st':(b===2)?'nd':(b===3)?'rd':'th';return number+output}});function makeGlobal(shouldDeprecate){if(typeof ender!=='undefined'){return}
oldGlobalMoment=globalScope.moment;if(shouldDeprecate){globalScope.moment=deprecate('Accessing Moment through the global scope is '+'deprecated, and will be removed in an upcoming '+'release.',moment)}else{globalScope.moment=moment}}
if(hasModule){module.exports=moment}else if(typeof define==='function'&&define.amd){define(function(require,exports,module){if(module.config&&module.config()&&module.config().noGlobal===!0){globalScope.moment=oldGlobalMoment}
return moment});makeGlobal(!0)}else{makeGlobal()}}).call(this);(function(){var numeral,VERSION='1.5.3',languages={},currentLanguage='en',zeroFormat=null,defaultFormat='0,0',hasModule=(typeof module!=='undefined'&&module.exports);function Numeral(number){this._value=number}
function toFixed(value,precision,roundingFunction,optionals){var power=Math.pow(10,precision),optionalsRegExp,output;output=(roundingFunction(value*power)/power).toFixed(precision);if(optionals){optionalsRegExp=new RegExp('0{1,'+optionals+'}$');output=output.replace(optionalsRegExp,'')}
return output}
function formatNumeral(n,format,roundingFunction){var output;if(format.indexOf('$')>-1){output=formatCurrency(n,format,roundingFunction)}else if(format.indexOf('%')>-1){output=formatPercentage(n,format,roundingFunction)}else if(format.indexOf(':')>-1){output=formatTime(n,format)}else{output=formatNumber(n._value,format,roundingFunction)}
return output}
function unformatNumeral(n,string){var stringOriginal=string,thousandRegExp,millionRegExp,billionRegExp,trillionRegExp,suffixes=['KB','MB','GB','TB','PB','EB','ZB','YB'],bytesMultiplier=!1,power;if(string.indexOf(':')>-1){n._value=unformatTime(string)}else{if(string===zeroFormat){n._value=0}else{if(languages[currentLanguage].delimiters.decimal!=='.'){string=string.replace(/\./g,'').replace(languages[currentLanguage].delimiters.decimal,'.')}
thousandRegExp=new RegExp('[^a-zA-Z]'+languages[currentLanguage].abbreviations.thousand+'(?:\\)|(\\'+languages[currentLanguage].currency.symbol+')?(?:\\))?)?$');millionRegExp=new RegExp('[^a-zA-Z]'+languages[currentLanguage].abbreviations.million+'(?:\\)|(\\'+languages[currentLanguage].currency.symbol+')?(?:\\))?)?$');billionRegExp=new RegExp('[^a-zA-Z]'+languages[currentLanguage].abbreviations.billion+'(?:\\)|(\\'+languages[currentLanguage].currency.symbol+')?(?:\\))?)?$');trillionRegExp=new RegExp('[^a-zA-Z]'+languages[currentLanguage].abbreviations.trillion+'(?:\\)|(\\'+languages[currentLanguage].currency.symbol+')?(?:\\))?)?$');for(power=0;power<=suffixes.length;power++){bytesMultiplier=(string.indexOf(suffixes[power])>-1)?Math.pow(1024,power+1):!1;if(bytesMultiplier){break}}
n._value=((bytesMultiplier)?bytesMultiplier:1)*((stringOriginal.match(thousandRegExp))?Math.pow(10,3):1)*((stringOriginal.match(millionRegExp))?Math.pow(10,6):1)*((stringOriginal.match(billionRegExp))?Math.pow(10,9):1)*((stringOriginal.match(trillionRegExp))?Math.pow(10,12):1)*((string.indexOf('%')>-1)?0.01:1)*(((string.split('-').length+Math.min(string.split('(').length-1,string.split(')').length-1))%2)?1:-1)*Number(string.replace(/[^0-9\.]+/g,''));n._value=(bytesMultiplier)?Math.ceil(n._value):n._value}}
return n._value}
function formatCurrency(n,format,roundingFunction){var symbolIndex=format.indexOf('$'),openParenIndex=format.indexOf('('),minusSignIndex=format.indexOf('-'),space='',spliceIndex,output;if(format.indexOf(' $')>-1){space=' ';format=format.replace(' $','')}else if(format.indexOf('$ ')>-1){space=' ';format=format.replace('$ ','')}else{format=format.replace('$','')}
output=formatNumber(n._value,format,roundingFunction);if(symbolIndex<=1){if(output.indexOf('(')>-1||output.indexOf('-')>-1){output=output.split('');spliceIndex=1;if(symbolIndex<openParenIndex||symbolIndex<minusSignIndex){spliceIndex=0}
output.splice(spliceIndex,0,languages[currentLanguage].currency.symbol+space);output=output.join('')}else{output=languages[currentLanguage].currency.symbol+space+output}}else{if(output.indexOf(')')>-1){output=output.split('');output.splice(-1,0,space+languages[currentLanguage].currency.symbol);output=output.join('')}else{output=output+space+languages[currentLanguage].currency.symbol}}
return output}
function formatPercentage(n,format,roundingFunction){var space='',output,value=n._value*100;if(format.indexOf(' %')>-1){space=' ';format=format.replace(' %','')}else{format=format.replace('%','')}
output=formatNumber(value,format,roundingFunction);if(output.indexOf(')')>-1){output=output.split('');output.splice(-1,0,space+'%');output=output.join('')}else{output=output+space+'%'}
return output}
function formatTime(n){var hours=Math.floor(n._value/60/60),minutes=Math.floor((n._value-(hours*60*60))/60),seconds=Math.round(n._value-(hours*60*60)-(minutes*60));return hours+':'+((minutes<10)?'0'+minutes:minutes)+':'+((seconds<10)?'0'+seconds:seconds)}
function unformatTime(string){var timeArray=string.split(':'),seconds=0;if(timeArray.length===3){seconds=seconds+(Number(timeArray[0])*60*60);seconds=seconds+(Number(timeArray[1])*60);seconds=seconds+Number(timeArray[2])}else if(timeArray.length===2){seconds=seconds+(Number(timeArray[0])*60);seconds=seconds+Number(timeArray[1])}
return Number(seconds)}
function formatNumber(value,format,roundingFunction){var negP=!1,signed=!1,optDec=!1,abbr='',abbrK=!1,abbrM=!1,abbrB=!1,abbrT=!1,abbrForce=!1,bytes='',ord='',abs=Math.abs(value),suffixes=['B','KB','MB','GB','TB','PB','EB','ZB','YB'],min,max,power,w,precision,thousands,d='',neg=!1;if(value===0&&zeroFormat!==null){return zeroFormat}else{if(format.indexOf('(')>-1){negP=!0;format=format.slice(1,-1)}else if(format.indexOf('+')>-1){signed=!0;format=format.replace(/\+/g,'')}
if(format.indexOf('a')>-1){abbrK=format.indexOf('aK')>=0;abbrM=format.indexOf('aM')>=0;abbrB=format.indexOf('aB')>=0;abbrT=format.indexOf('aT')>=0;abbrForce=abbrK||abbrM||abbrB||abbrT;if(format.indexOf(' a')>-1){abbr=' ';format=format.replace(' a','')}else{format=format.replace('a','')}
if(abs>=Math.pow(10,12)&&!abbrForce||abbrT){abbr=abbr+languages[currentLanguage].abbreviations.trillion;value=value/Math.pow(10,12)}else if(abs<Math.pow(10,12)&&abs>=Math.pow(10,9)&&!abbrForce||abbrB){abbr=abbr+languages[currentLanguage].abbreviations.billion;value=value/Math.pow(10,9)}else if(abs<Math.pow(10,9)&&abs>=Math.pow(10,6)&&!abbrForce||abbrM){abbr=abbr+languages[currentLanguage].abbreviations.million;value=value/Math.pow(10,6)}else if(abs<Math.pow(10,6)&&abs>=Math.pow(10,3)&&!abbrForce||abbrK){abbr=abbr+languages[currentLanguage].abbreviations.thousand;value=value/Math.pow(10,3)}}
if(format.indexOf('b')>-1){if(format.indexOf(' b')>-1){bytes=' ';format=format.replace(' b','')}else{format=format.replace('b','')}
for(power=0;power<=suffixes.length;power++){min=Math.pow(1024,power);max=Math.pow(1024,power+1);if(value>=min&&value<max){bytes=bytes+suffixes[power];if(min>0){value=value/min}
break}}}
if(format.indexOf('o')>-1){if(format.indexOf(' o')>-1){ord=' ';format=format.replace(' o','')}else{format=format.replace('o','')}
ord=ord+languages[currentLanguage].ordinal(value)}
if(format.indexOf('[.]')>-1){optDec=!0;format=format.replace('[.]','.')}
w=value.toString().split('.')[0];precision=format.split('.')[1];thousands=format.indexOf(',');if(precision){if(precision.indexOf('[')>-1){precision=precision.replace(']','');precision=precision.split('[');d=toFixed(value,(precision[0].length+precision[1].length),roundingFunction,precision[1].length)}else{d=toFixed(value,precision.length,roundingFunction)}
w=d.split('.')[0];if(d.split('.')[1].length){d=languages[currentLanguage].delimiters.decimal+d.split('.')[1]}else{d=''}
if(optDec&&Number(d.slice(1))===0){d=''}}else{w=toFixed(value,null,roundingFunction)}
if(w.indexOf('-')>-1){w=w.slice(1);neg=!0}
if(thousands>-1){w=w.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,'$1'+languages[currentLanguage].delimiters.thousands)}
if(format.indexOf('.')===0){w=''}
return((negP&&neg)?'(':'')+((!negP&&neg)?'-':'')+((!neg&&signed)?'+':'')+w+d+((ord)?ord:'')+((abbr)?abbr:'')+((bytes)?bytes:'')+((negP&&neg)?')':'')}}
numeral=function(input){if(numeral.isNumeral(input)){input=input.value()}else if(input===0||typeof input==='undefined'){input=0}else if(!Number(input)){input=numeral.fn.unformat(input)}
return new Numeral(Number(input))};numeral.version=VERSION;numeral.isNumeral=function(obj){return obj instanceof Numeral};numeral.language=function(key,values){if(!key){return currentLanguage}
if(key&&!values){if(!languages[key]){throw new Error('Unknown language : '+key)}
currentLanguage=key}
if(values||!languages[key]){loadLanguage(key,values)}
return numeral};numeral.languageData=function(key){if(!key){return languages[currentLanguage]}
if(!languages[key]){throw new Error('Unknown language : '+key)}
return languages[key]};numeral.language('en',{delimiters:{thousands:',',decimal:'.'},abbreviations:{thousand:'k',million:'m',billion:'b',trillion:'t'},ordinal:function(number){var b=number%10;return(~~(number%100/10)===1)?'th':(b===1)?'st':(b===2)?'nd':(b===3)?'rd':'th'},currency:{symbol:'$'}});numeral.zeroFormat=function(format){zeroFormat=typeof(format)==='string'?format:null};numeral.defaultFormat=function(format){defaultFormat=typeof(format)==='string'?format:'0.0'};numeral.validate=function(val,culture){var _decimalSep,_thousandSep,_currSymbol,_valArray,_abbrObj,_thousandRegEx,languageData,temp;if(typeof val!=='string'){val+='';if(console.warn){console.warn('Numeral.js: Value is not string. It has been co-erced to: ',val)}}
val=val.trim();if(val===''){return!1}
val=val.replace(/^[+-]?/,'');try{languageData=numeral.languageData(culture)}catch(e){languageData=numeral.languageData(numeral.language())}
_currSymbol=languageData.currency.symbol;_abbrObj=languageData.abbreviations;_decimalSep=languageData.delimiters.decimal;if(languageData.delimiters.thousands==='.'){_thousandSep='\\.'}else{_thousandSep=languageData.delimiters.thousands}
temp=val.match(/^[^\d]+/);if(temp!==null){val=val.substr(1);if(temp[0]!==_currSymbol){return!1}}
temp=val.match(/[^\d]+$/);if(temp!==null){val=val.slice(0,-1);if(temp[0]!==_abbrObj.thousand&&temp[0]!==_abbrObj.million&&temp[0]!==_abbrObj.billion&&temp[0]!==_abbrObj.trillion){return!1}}
if(!!val.match(/^\d+$/)){return!0}
_thousandRegEx=new RegExp(_thousandSep+'{2}');if(!val.match(/[^\d.,]/g)){_valArray=val.split(_decimalSep);if(_valArray.length>2){return!1}else{if(_valArray.length<2){return(!!_valArray[0].match(/^\d+.*\d$/)&&!_valArray[0].match(_thousandRegEx))}else{if(_valArray[0].length===1){return(!!_valArray[0].match(/^\d+$/)&&!_valArray[0].match(_thousandRegEx)&&!!_valArray[1].match(/^\d+$/))}else{return(!!_valArray[0].match(/^\d+.*\d$/)&&!_valArray[0].match(_thousandRegEx)&&!!_valArray[1].match(/^\d+$/))}}}}
return!1};function loadLanguage(key,values){languages[key]=values}
if('function'!==typeof Array.prototype.reduce){Array.prototype.reduce=function(callback,opt_initialValue){'use strict';if(null===this||'undefined'===typeof this){throw new TypeError('Array.prototype.reduce called on null or undefined')}
if('function'!==typeof callback){throw new TypeError(callback+' is not a function')}
var index,value,length=this.length>>>0,isValueSet=!1;if(1<arguments.length){value=opt_initialValue;isValueSet=!0}
for(index=0;length>index;++index){if(this.hasOwnProperty(index)){if(isValueSet){value=callback(value,this[index],index,this)}else{value=this[index];isValueSet=!0}}}
if(!isValueSet){throw new TypeError('Reduce of empty array with no initial value')}
return value}}
function multiplier(x){var parts=x.toString().split('.');if(parts.length<2){return 1}
return Math.pow(10,parts[1].length)}
function correctionFactor(){var args=Array.prototype.slice.call(arguments);return args.reduce(function(prev,next){var mp=multiplier(prev),mn=multiplier(next);return mp>mn?mp:mn},-Infinity)}
numeral.fn=Numeral.prototype={clone:function(){return numeral(this)},format:function(inputString,roundingFunction){return formatNumeral(this,inputString?inputString:defaultFormat,(roundingFunction!==undefined)?roundingFunction:Math.round)},unformat:function(inputString){if(Object.prototype.toString.call(inputString)==='[object Number]'){return inputString}
return unformatNumeral(this,inputString?inputString:defaultFormat)},value:function(){return this._value},valueOf:function(){return this._value},set:function(value){this._value=Number(value);return this},add:function(value){var corrFactor=correctionFactor.call(null,this._value,value);function cback(accum,curr,currI,O){return accum+corrFactor*curr}
this._value=[this._value,value].reduce(cback,0)/corrFactor;return this},subtract:function(value){var corrFactor=correctionFactor.call(null,this._value,value);function cback(accum,curr,currI,O){return accum-corrFactor*curr}
this._value=[value].reduce(cback,this._value*corrFactor)/corrFactor;return this},multiply:function(value){function cback(accum,curr,currI,O){var corrFactor=correctionFactor(accum,curr);return(accum*corrFactor)*(curr*corrFactor)/(corrFactor*corrFactor)}
this._value=[this._value,value].reduce(cback,1);return this},divide:function(value){function cback(accum,curr,currI,O){var corrFactor=correctionFactor(accum,curr);return(accum*corrFactor)/(curr*corrFactor)}
this._value=[this._value,value].reduce(cback);return this},difference:function(value){return Math.abs(numeral(this._value).subtract(value).value())}};if(hasModule){module.exports=numeral}
if(typeof ender==='undefined'){this['numeral']=numeral}
if(typeof define==='function'&&define.amd){define([],function(){return numeral})}}).call(window);(function($){'use strict';function safe_add(x,y){var lsw=(x&0xFFFF)+(y&0xFFFF),msw=(x>>16)+(y>>16)+(lsw>>16);return(msw<<16)|(lsw&0xFFFF)}
function bit_rol(num,cnt){return(num<<cnt)|(num>>>(32-cnt))}
function md5_cmn(q,a,b,x,s,t){return safe_add(bit_rol(safe_add(safe_add(a,q),safe_add(x,t)),s),b)}
function md5_ff(a,b,c,d,x,s,t){return md5_cmn((b&c)|((~b)&d),a,b,x,s,t)}
function md5_gg(a,b,c,d,x,s,t){return md5_cmn((b&d)|(c&(~d)),a,b,x,s,t)}
function md5_hh(a,b,c,d,x,s,t){return md5_cmn(b^c^d,a,b,x,s,t)}
function md5_ii(a,b,c,d,x,s,t){return md5_cmn(c^(b|(~d)),a,b,x,s,t)}
function binl_md5(x,len){x[len>>5]|=0x80<<(len%32);x[(((len+64)>>>9)<<4)+14]=len;var i,olda,oldb,oldc,oldd,a=1732584193,b=-271733879,c=-1732584194,d=271733878;for(i=0;i<x.length;i+=16){olda=a;oldb=b;oldc=c;oldd=d;a=md5_ff(a,b,c,d,x[i],7,-680876936);d=md5_ff(d,a,b,c,x[i+1],12,-389564586);c=md5_ff(c,d,a,b,x[i+2],17,606105819);b=md5_ff(b,c,d,a,x[i+3],22,-1044525330);a=md5_ff(a,b,c,d,x[i+4],7,-176418897);d=md5_ff(d,a,b,c,x[i+5],12,1200080426);c=md5_ff(c,d,a,b,x[i+6],17,-1473231341);b=md5_ff(b,c,d,a,x[i+7],22,-45705983);a=md5_ff(a,b,c,d,x[i+8],7,1770035416);d=md5_ff(d,a,b,c,x[i+9],12,-1958414417);c=md5_ff(c,d,a,b,x[i+10],17,-42063);b=md5_ff(b,c,d,a,x[i+11],22,-1990404162);a=md5_ff(a,b,c,d,x[i+12],7,1804603682);d=md5_ff(d,a,b,c,x[i+13],12,-40341101);c=md5_ff(c,d,a,b,x[i+14],17,-1502002290);b=md5_ff(b,c,d,a,x[i+15],22,1236535329);a=md5_gg(a,b,c,d,x[i+1],5,-165796510);d=md5_gg(d,a,b,c,x[i+6],9,-1069501632);c=md5_gg(c,d,a,b,x[i+11],14,643717713);b=md5_gg(b,c,d,a,x[i],20,-373897302);a=md5_gg(a,b,c,d,x[i+5],5,-701558691);d=md5_gg(d,a,b,c,x[i+10],9,38016083);c=md5_gg(c,d,a,b,x[i+15],14,-660478335);b=md5_gg(b,c,d,a,x[i+4],20,-405537848);a=md5_gg(a,b,c,d,x[i+9],5,568446438);d=md5_gg(d,a,b,c,x[i+14],9,-1019803690);c=md5_gg(c,d,a,b,x[i+3],14,-187363961);b=md5_gg(b,c,d,a,x[i+8],20,1163531501);a=md5_gg(a,b,c,d,x[i+13],5,-1444681467);d=md5_gg(d,a,b,c,x[i+2],9,-51403784);c=md5_gg(c,d,a,b,x[i+7],14,1735328473);b=md5_gg(b,c,d,a,x[i+12],20,-1926607734);a=md5_hh(a,b,c,d,x[i+5],4,-378558);d=md5_hh(d,a,b,c,x[i+8],11,-2022574463);c=md5_hh(c,d,a,b,x[i+11],16,1839030562);b=md5_hh(b,c,d,a,x[i+14],23,-35309556);a=md5_hh(a,b,c,d,x[i+1],4,-1530992060);d=md5_hh(d,a,b,c,x[i+4],11,1272893353);c=md5_hh(c,d,a,b,x[i+7],16,-155497632);b=md5_hh(b,c,d,a,x[i+10],23,-1094730640);a=md5_hh(a,b,c,d,x[i+13],4,681279174);d=md5_hh(d,a,b,c,x[i],11,-358537222);c=md5_hh(c,d,a,b,x[i+3],16,-722521979);b=md5_hh(b,c,d,a,x[i+6],23,76029189);a=md5_hh(a,b,c,d,x[i+9],4,-640364487);d=md5_hh(d,a,b,c,x[i+12],11,-421815835);c=md5_hh(c,d,a,b,x[i+15],16,530742520);b=md5_hh(b,c,d,a,x[i+2],23,-995338651);a=md5_ii(a,b,c,d,x[i],6,-198630844);d=md5_ii(d,a,b,c,x[i+7],10,1126891415);c=md5_ii(c,d,a,b,x[i+14],15,-1416354905);b=md5_ii(b,c,d,a,x[i+5],21,-57434055);a=md5_ii(a,b,c,d,x[i+12],6,1700485571);d=md5_ii(d,a,b,c,x[i+3],10,-1894986606);c=md5_ii(c,d,a,b,x[i+10],15,-1051523);b=md5_ii(b,c,d,a,x[i+1],21,-2054922799);a=md5_ii(a,b,c,d,x[i+8],6,1873313359);d=md5_ii(d,a,b,c,x[i+15],10,-30611744);c=md5_ii(c,d,a,b,x[i+6],15,-1560198380);b=md5_ii(b,c,d,a,x[i+13],21,1309151649);a=md5_ii(a,b,c,d,x[i+4],6,-145523070);d=md5_ii(d,a,b,c,x[i+11],10,-1120210379);c=md5_ii(c,d,a,b,x[i+2],15,718787259);b=md5_ii(b,c,d,a,x[i+9],21,-343485551);a=safe_add(a,olda);b=safe_add(b,oldb);c=safe_add(c,oldc);d=safe_add(d,oldd)}
return[a,b,c,d]}
function binl2rstr(input){var i,output='';for(i=0;i<input.length*32;i+=8){output+=String.fromCharCode((input[i>>5]>>>(i%32))&0xFF)}
return output}
function rstr2binl(input){var i,output=[];output[(input.length>>2)-1]=undefined;for(i=0;i<output.length;i+=1){output[i]=0}
for(i=0;i<input.length*8;i+=8){output[i>>5]|=(input.charCodeAt(i/8)&0xFF)<<(i%32)}
return output}
function rstr_md5(s){return binl2rstr(binl_md5(rstr2binl(s),s.length*8))}
function rstr_hmac_md5(key,data){var i,bkey=rstr2binl(key),ipad=[],opad=[],hash;ipad[15]=opad[15]=undefined;if(bkey.length>16){bkey=binl_md5(bkey,key.length*8)}
for(i=0;i<16;i+=1){ipad[i]=bkey[i]^0x36363636;opad[i]=bkey[i]^0x5C5C5C5C}
hash=binl_md5(ipad.concat(rstr2binl(data)),512+data.length*8);return binl2rstr(binl_md5(opad.concat(hash),512+128))}
function rstr2hex(input){var hex_tab='0123456789abcdef',output='',x,i;for(i=0;i<input.length;i+=1){x=input.charCodeAt(i);output+=hex_tab.charAt((x>>>4)&0x0F)+hex_tab.charAt(x&0x0F)}
return output}
function str2rstr_utf8(input){return unescape(encodeURIComponent(input))}
function raw_md5(s){return rstr_md5(str2rstr_utf8(s))}
function hex_md5(s){return rstr2hex(raw_md5(s))}
function raw_hmac_md5(k,d){return rstr_hmac_md5(str2rstr_utf8(k),str2rstr_utf8(d))}
function hex_hmac_md5(k,d){return rstr2hex(raw_hmac_md5(k,d))}
function md5(string,key,raw){if(!key){if(!raw){return hex_md5(string)}
return raw_md5(string)}
if(!raw){return hex_hmac_md5(key,string)}
return raw_hmac_md5(key,string)}
if(typeof define==='function'&&define.amd){define(function(){return md5})}else{$.md5=md5}}(this));this.j$=this.jStat=(function(Math,undefined){var concat=Array.prototype.concat;var slice=Array.prototype.slice;var toString=Object.prototype.toString;function calcRdx(n,m){var val=n>m?n:m;return Math.pow(10,17-~~(Math.log(((val>0)?val:-val))*Math.LOG10E))}
var isArray=Array.isArray||function isArray(arg){return toString.call(arg)==='[object Array]'};function isFunction(arg){return toString.call(arg)==='[object Function]'}
function isNumber(arg){return typeof arg==='number'&&arg===arg}
function toVector(arr){return concat.apply([],arr)}
function jStat(){return new jStat._init(arguments)}
jStat.fn=jStat.prototype;jStat._init=function _init(args){var i;if(isArray(args[0])){if(isArray(args[0][0])){if(isFunction(args[1]))
args[0]=jStat.map(args[0],args[1]);for(i=0;i<args[0].length;i++)
this[i]=args[0][i];this.length=args[0].length}else{this[0]=isFunction(args[1])?jStat.map(args[0],args[1]):args[0];this.length=1}}else if(isNumber(args[0])){this[0]=jStat.seq.apply(null,args);this.length=1}else if(args[0]instanceof jStat){return jStat(args[0].toArray())}else{this[0]=[];this.length=1}
return this};jStat._init.prototype=jStat.prototype;jStat._init.constructor=jStat;jStat.utils={calcRdx:calcRdx,isArray:isArray,isFunction:isFunction,isNumber:isNumber,toVector:toVector};jStat.extend=function extend(obj){var i,j;if(arguments.length===1){for(j in obj)
jStat[j]=obj[j];return this}
for(i=1;i<arguments.length;i++){for(j in arguments[i])
obj[j]=arguments[i][j]}
return obj};jStat.rows=function rows(arr){return arr.length||1};jStat.cols=function cols(arr){return arr[0].length||1};jStat.dimensions=function dimensions(arr){return{rows:jStat.rows(arr),cols:jStat.cols(arr)}};jStat.row=function row(arr,index){return arr[index]};jStat.col=function cols(arr,index){var column=new Array(arr.length);for(var i=0;i<arr.length;i++)
column[i]=[arr[i][index]];return column};jStat.diag=function diag(arr){var nrow=jStat.rows(arr);var res=new Array(nrow);for(var row=0;row<nrow;row++)
res[row]=[arr[row][row]];return res};jStat.antidiag=function antidiag(arr){var nrow=jStat.rows(arr)-1;var res=new Array(nrow);for(var i=0;nrow>=0;nrow--,i++)
res[i]=[arr[i][nrow]];return res};jStat.transpose=function transpose(arr){var obj=[];var objArr,rows,cols,j,i;if(!isArray(arr[0]))
arr=[arr];rows=arr.length;cols=arr[0].length;for(i=0;i<cols;i++){objArr=new Array(rows);for(j=0;j<rows;j++)
objArr[j]=arr[j][i];obj.push(objArr)}
return obj.length===1?obj[0]:obj};jStat.map=function map(arr,func,toAlter){var row,nrow,ncol,res,col;if(!isArray(arr[0]))
arr=[arr];nrow=arr.length;ncol=arr[0].length;res=toAlter?arr:new Array(nrow);for(row=0;row<nrow;row++){if(!res[row])
res[row]=new Array(ncol);for(col=0;col<ncol;col++)
res[row][col]=func(arr[row][col],row,col);}
return res.length===1?res[0]:res};jStat.alter=function alter(arr,func){return jStat.map(arr,func,!0)};jStat.create=function create(rows,cols,func){var res=new Array(rows);var i,j;if(isFunction(cols)){func=cols;cols=rows}
for(i=0;i<rows;i++){res[i]=new Array(cols);for(j=0;j<cols;j++)
res[i][j]=func(i,j);}
return res};function retZero(){return 0}
jStat.zeros=function zeros(rows,cols){if(!isNumber(cols))
cols=rows;return jStat.create(rows,cols,retZero)};function retOne(){return 1}
jStat.ones=function ones(rows,cols){if(!isNumber(cols))
cols=rows;return jStat.create(rows,cols,retOne)};jStat.rand=function rand(rows,cols){if(!isNumber(cols))
cols=rows;return jStat.create(rows,cols,Math.random)};function retIdent(i,j){return i===j?1:0}
jStat.identity=function identity(rows,cols){if(!isNumber(cols))
cols=rows;return jStat.create(rows,cols,retIdent)};jStat.symmetric=function symmetric(arr){var issymmetric=!0;var size=arr.length;var row,col;if(arr.length!==arr[0].length)
return!1;for(row=0;row<size;row++){for(col=0;col<size;col++)
if(arr[col][row]!==arr[row][col])
return!1}
return!0};jStat.clear=function clear(arr){return jStat.alter(arr,retZero)};jStat.seq=function seq(min,max,length,func){if(!isFunction(func))
func=!1;var arr=[];var hival=calcRdx(min,max);var step=(max*hival-min*hival)/((length-1)*hival);var current=min;var cnt;for(cnt=0;current<=max;cnt++,current=(min*hival+step*hival*cnt)/hival){arr.push((func?func(current,cnt):current))}
return arr};var jProto=jStat.prototype;jProto.length=0;jProto.push=Array.prototype.push;jProto.sort=Array.prototype.sort;jProto.splice=Array.prototype.splice;jProto.slice=Array.prototype.slice;jProto.toArray=function toArray(){return this.length>1?slice.call(this):slice.call(this)[0]};jProto.map=function map(func,toAlter){return jStat(jStat.map(this,func,toAlter))};jProto.alter=function alter(func){jStat.alter(this,func);return this};(function(funcs){for(var i=0;i<funcs.length;i++)(function(passfunc){jProto[passfunc]=function(func){var self=this,results;if(func){setTimeout(function(){func.call(self,jProto[passfunc].call(self))});return this}
results=jStat[passfunc](this);return isArray(results)?jStat(results):results}})(funcs[i])})('transpose clear symmetric rows cols dimensions diag antidiag'.split(' '));(function(funcs){for(var i=0;i<funcs.length;i++)(function(passfunc){jProto[passfunc]=function(index,func){var self=this;if(func){setTimeout(function(){func.call(self,jProto[passfunc].call(self,index))});return this}
return jStat(jStat[passfunc](this,index))}})(funcs[i])})('row col'.split(' '));(function(funcs){for(var i=0;i<funcs.length;i++)(function(passfunc){jProto[passfunc]=new Function('return jStat(jStat.'+passfunc+'.apply(null, arguments));')})(funcs[i])})('create zeros ones rand identity'.split(' '));return jStat}(Math));(function(jStat,Math){var isFunction=jStat.utils.isFunction;function ascNum(a,b){return a-b}
function clip(arg,min,max){return Math.max(min,Math.min(arg,max))}
jStat.sum=function sum(arr){var sum=0;var i=arr.length;var tmp;while(--i>=0)
sum+=arr[i];return sum};jStat.sumsqrd=function sumsqrd(arr){var sum=0;var i=arr.length;while(--i>=0)
sum+=arr[i]*arr[i];return sum};jStat.sumsqerr=function sumsqerr(arr){var mean=jStat.mean(arr);var sum=0;var i=arr.length;var tmp;while(--i>=0){tmp=arr[i]-mean;sum+=tmp*tmp}
return sum};jStat.product=function product(arr){var prod=1;var i=arr.length;while(--i>=0)
prod*=arr[i];return prod};jStat.min=function min(arr){var low=arr[0];var i=0;while(++i<arr.length)
if(arr[i]<low)
low=arr[i];return low};jStat.max=function max(arr){var high=arr[0];var i=0;while(++i<arr.length)
if(arr[i]>high)
high=arr[i];return high};jStat.mean=function mean(arr){return jStat.sum(arr)/arr.length};jStat.meansqerr=function meansqerr(arr){return jStat.sumsqerr(arr)/arr.length};jStat.geomean=function geomean(arr){return Math.pow(jStat.product(arr),1/arr.length)};jStat.median=function median(arr){var arrlen=arr.length;var _arr=arr.slice().sort(ascNum);return!(arrlen&1)?(_arr[(arrlen/2)-1]+_arr[(arrlen/2)])/2:_arr[(arrlen/2)|0]};jStat.cumsum=function cumsum(arr){var len=arr.length;var sums=new Array(len);var i;sums[0]=arr[0];for(i=1;i<len;i++)
sums[i]=sums[i-1]+arr[i];return sums};jStat.diff=function diff(arr){var diffs=[];var arrLen=arr.length;var i;for(i=1;i<arrLen;i++)
diffs.push(arr[i]-arr[i-1]);return diffs};jStat.mode=function mode(arr){var arrLen=arr.length;var _arr=arr.slice().sort(ascNum);var count=1;var maxCount=0;var numMaxCount=0;var mode_arr=[];var i;for(i=0;i<arrLen;i++){if(_arr[i]===_arr[i+1]){count++}else{if(count>maxCount){mode_arr=[_arr[i]];maxCount=count;numMaxCount=0}else if(count===maxCount){mode_arr.push(_arr[i]);numMaxCount++}
count=1}}
return numMaxCount===0?mode_arr[0]:mode_arr};jStat.range=function range(arr){return jStat.max(arr)-jStat.min(arr)};jStat.variance=function variance(arr,flag){return jStat.sumsqerr(arr)/(arr.length-(flag?1:0))};jStat.stdev=function stdev(arr,flag){return Math.sqrt(jStat.variance(arr,flag))};jStat.meandev=function meandev(arr){var devSum=0;var mean=jStat.mean(arr);var i;for(i=arr.length-1;i>=0;i--)
devSum+=Math.abs(arr[i]-mean);return devSum/arr.length};jStat.meddev=function meddev(arr){var devSum=0;var median=jStat.median(arr);var i;for(i=arr.length-1;i>=0;i--)
devSum+=Math.abs(arr[i]-median);return devSum/arr.length};jStat.coeffvar=function coeffvar(arr){return jStat.stdev(arr)/jStat.mean(arr)};jStat.quartiles=function quartiles(arr){var arrlen=arr.length;var _arr=arr.slice().sort(ascNum);return[_arr[Math.round((arrlen)/4)-1],_arr[Math.round((arrlen)/2)-1],_arr[Math.round((arrlen)*3/4)-1]]};jStat.quantiles=function quantiles(arr,quantilesArray,alphap,betap){var sortedArray=arr.slice().sort(ascNum);var quantileVals=[quantilesArray.length];var n=arr.length;var i,p,m,aleph,k,gamma;if(typeof alphap==='undefined')
alphap=3/8;if(typeof betap==='undefined')
betap=3/8;for(i=0;i<quantilesArray.length;i++){p=quantilesArray[i];m=alphap+p*(1-alphap-betap);aleph=n*p+m;k=Math.floor(clip(aleph,1,n-1));gamma=clip(aleph-k,0,1);quantileVals[i]=(1-gamma)*sortedArray[k-1]+gamma*sortedArray[k]}
return quantileVals};jStat.percentileOfScore=function percentileOfScore(arr,score,kind){var counter=0;var len=arr.length;var strict=!1;var value,i;if(kind==='strict')
strict=!0;for(i=0;i<len;i++){value=arr[i];if((strict&&value<score)||(!strict&&value<=score)){counter++}}
return counter/len};jStat.covariance=function covariance(arr1,arr2){var u=jStat.mean(arr1);var v=jStat.mean(arr2);var arr1Len=arr1.length;var sq_dev=new Array(arr1Len);var i;for(i=0;i<arr1Len;i++)
sq_dev[i]=(arr1[i]-u)*(arr2[i]-v);return jStat.sum(sq_dev)/(arr1Len-1)};jStat.corrcoeff=function corrcoeff(arr1,arr2){return jStat.covariance(arr1,arr2)/jStat.stdev(arr1,1)/jStat.stdev(arr2,1)};var jProto=jStat.prototype;jProto.cumsum=function(fullbool,func){var arr=[];var i=0;var tmpthis=this;if(isFunction(fullbool)){func=fullbool;fullbool=!1}
if(func){setTimeout(function(){func.call(tmpthis,jProto.cumsum.call(tmpthis,fullbool))});return this}
if(this.length>1){tmpthis=fullbool===!0?this:this.transpose();for(;i<tmpthis.length;i++)
arr[i]=jStat.cumsum(tmpthis[i]);return arr}
return jStat.cumsum(this[0],fullbool)};(function(funcs){for(var i=0;i<funcs.length;i++)(function(passfunc){jProto[passfunc]=function(fullbool,func){var arr=[];var i=0;var tmpthis=this;if(isFunction(fullbool)){func=fullbool;fullbool=!1}
if(func){setTimeout(function(){func.call(tmpthis,jProto[passfunc].call(tmpthis,fullbool))});return this}
if(this.length>1){tmpthis=fullbool===!0?this:this.transpose();for(;i<tmpthis.length;i++)
arr[i]=jStat[passfunc](tmpthis[i]);return fullbool===!0?jStat[passfunc](jStat.utils.toVector(arr)):arr}
return jStat[passfunc](this[0],fullbool)}})(funcs[i])})(('sum sumsqrd sumsqerr product min max mean meansqerr geomean median diff '+'mode range variance stdev meandev meddev coeffvar quartiles').split(' '));(function(funcs){for(var i=0;i<funcs.length;i++)(function(passfunc){jProto[passfunc]=function(){var arr=[];var i=0;var tmpthis=this;var args=Array.prototype.slice.call(arguments);if(isFunction(args[args.length-1])){var callbackFunction=args[args.length-1];var argsToPass=args.slice(0,args.length-1);setTimeout(function(){callbackFunction.call(tmpthis,jProto[passfunc].apply(tmpthis,argsToPass))});return this}else{var callbackFunction=undefined;var curriedFunction=function curriedFunction(vector){return jStat[passfunc].apply(tmpthis,[vector].concat(args))}}
if(this.length>1){tmpthis=tmpthis.transpose();for(;i<tmpthis.length;i++)
arr[i]=curriedFunction(tmpthis[i]);return arr}
return curriedFunction(this[0])}})(funcs[i])})('quantiles percentileOfScore'.split(' '))}(this.jStat,Math));(function(jStat,Math){jStat.gammaln=function gammaln(x){var j=0;var cof=[76.18009172947146,-86.50532032941677,24.01409824083091,-1.231739572450155,0.1208650973866179e-2,-0.5395239384953e-5];var ser=1.000000000190015;var xx,y,tmp;tmp=(y=xx=x)+5.5;tmp-=(xx+0.5)*Math.log(tmp);for(;j<6;j++)
ser+=cof[j]/++y;return Math.log(2.5066282746310005*ser/xx)-tmp};jStat.gammafn=function gammafn(x){var p=[-1.716185138865495,24.76565080557592,-379.80425647094563,629.3311553128184,866.9662027904133,-31451.272968848367,-36144.413418691176,66456.14382024054];var q=[-30.8402300119739,315.35062697960416,-1015.1563674902192,-3107.771671572311,22538.118420980151,4755.8462775278811,-134659.9598649693,-115132.2596755535];var fact=!1;var n=0;var xden=0;var xnum=0;var y=x;var i,z,yi,res,sum,ysq;if(y<=0){res=y%1+3.6e-16;if(res){fact=(!(y&1)?1:-1)*Math.PI/Math.sin(Math.PI*res);y=1-y}else{return Infinity}}
yi=y;if(y<1){z=y++}else{z=(y-=n=(y|0)-1)-1}
for(i=0;i<8;++i){xnum=(xnum+p[i])*z;xden=xden*z+q[i]}
res=xnum/xden+1;if(yi<y){res/=yi}else if(yi>y){for(i=0;i<n;++i){res*=y;y++}}
if(fact){res=fact/res}
return res};jStat.gammap=function gammap(a,x){var aln=jStat.gammaln(a);var ap=a;var sum=1/a;var del=sum;var b=x+1-a;var c=1/1.0e-30;var d=1/b;var h=d;var i=1;var ITMAX=-~(Math.log((a>=1)?a:1/a)*8.5+a*0.4+17);var an,endval;if(x<0||a<=0){return NaN}else if(x<a+1){for(;i<=ITMAX;i++){sum+=del*=x/++ap}
return sum*Math.exp(-x+a*Math.log(x)-(aln))}
for(;i<=ITMAX;i++){an=-i*(i-a);b+=2;d=an*d+b;c=b+an/c;d=1/d;h*=d*c}
return 1-h*Math.exp(-x+a*Math.log(x)-(aln))};jStat.factorialln=function factorialln(n){return n<0?NaN:jStat.gammaln(n+1)};jStat.factorial=function factorial(n){return n<0?NaN:jStat.gammafn(n+1)};jStat.combination=function combination(n,m){return(n>170||m>170)?Math.exp(jStat.combinationln(n,m)):(jStat.factorial(n)/jStat.factorial(m))/jStat.factorial(n-m)};jStat.combinationln=function combinationln(n,m){return jStat.factorialln(n)-jStat.factorialln(m)-jStat.factorialln(n-m)};jStat.permutation=function permutation(n,m){return jStat.factorial(n)/jStat.factorial(n-m)};jStat.betafn=function betafn(x,y){if(x<=0||y<=0)
return undefined;return(x+y>170)?Math.exp(jStat.betaln(x,y)):jStat.gammafn(x)*jStat.gammafn(y)/jStat.gammafn(x+y)};jStat.betaln=function betaln(x,y){return jStat.gammaln(x)+jStat.gammaln(y)-jStat.gammaln(x+y)};jStat.betacf=function betacf(x,a,b){var fpmin=1e-30;var m=1;var qab=a+b;var qap=a+1;var qam=a-1;var c=1;var d=1-qab*x/qap;var m2,aa,del,h;if(Math.abs(d)<fpmin)
d=fpmin;d=1/d;h=d;for(;m<=100;m++){m2=2*m;aa=m*(b-m)*x/((qam+m2)*(a+m2));d=1+aa*d;if(Math.abs(d)<fpmin)
d=fpmin;c=1+aa/c;if(Math.abs(c)<fpmin)
c=fpmin;d=1/d;h*=d*c;aa=-(a+m)*(qab+m)*x/((a+m2)*(qap+m2));d=1+aa*d;if(Math.abs(d)<fpmin)
d=fpmin;c=1+aa/c;if(Math.abs(c)<fpmin)
c=fpmin;d=1/d;del=d*c;h*=del;if(Math.abs(del-1.0)<3e-7)
break}
return h};jStat.gammapinv=function gammapinv(p,a){var j=0;var a1=a-1;var EPS=1e-8;var gln=jStat.gammaln(a);var x,err,t,u,pp,lna1,afac;if(p>=1)
return Math.max(100,a+100*Math.sqrt(a));if(p<=0)
return 0;if(a>1){lna1=Math.log(a1);afac=Math.exp(a1*(lna1-1)-gln);pp=(p<0.5)?p:1-p;t=Math.sqrt(-2*Math.log(pp));x=(2.30753+t*0.27061)/(1+t*(0.99229+t*0.04481))-t;if(p<0.5)
x=-x;x=Math.max(1e-3,a*Math.pow(1-1/(9*a)-x/(3*Math.sqrt(a)),3))}else{t=1-a*(0.253+a*0.12);if(p<t)
x=Math.pow(p/t,1/a);else x=1-Math.log(1-(p-t)/(1-t))}
for(;j<12;j++){if(x<=0)
return 0;err=jStat.gammap(a,x)-p;if(a>1)
t=afac*Math.exp(-(x-a1)+a1*(Math.log(x)-lna1));else t=Math.exp(-x+a1*Math.log(x)-gln);u=err/t;x-=(t=u/(1-0.5*Math.min(1,u*((a-1)/x-1))));if(x<=0)
x=0.5*(x+t);if(Math.abs(t)<EPS*x)
break}
return x};jStat.erf=function erf(x){var cof=[-1.3026537197817094,6.4196979235649026e-1,1.9476473204185836e-2,-9.561514786808631e-3,-9.46595344482036e-4,3.66839497852761e-4,4.2523324806907e-5,-2.0278578112534e-5,-1.624290004647e-6,1.303655835580e-6,1.5626441722e-8,-8.5238095915e-8,6.529054439e-9,5.059343495e-9,-9.91364156e-10,-2.27365122e-10,9.6467911e-11,2.394038e-12,-6.886027e-12,8.94487e-13,3.13092e-13,-1.12708e-13,3.81e-16,7.106e-15,-1.523e-15,-9.4e-17,1.21e-16,-2.8e-17];var j=cof.length-1;var isneg=!1;var d=0;var dd=0;var t,ty,tmp,res;if(x<0){x=-x;isneg=!0}
t=2/(2+x);ty=4*t-2;for(;j>0;j--){tmp=d;d=ty*d-dd+cof[j];dd=tmp}
res=t*Math.exp(-x*x+0.5*(cof[0]+ty*d)-dd);return isneg?res-1:1-res};jStat.erfc=function erfc(x){return 1-jStat.erf(x)};jStat.erfcinv=function erfcinv(p){var j=0;var x,err,t,pp;if(p>=2)
return-100;if(p<=0)
return 100;pp=(p<1)?p:2-p;t=Math.sqrt(-2*Math.log(pp/2));x=-0.70711*((2.30753+t*0.27061)/(1+t*(0.99229+t*0.04481))-t);for(;j<2;j++){err=jStat.erfc(x)-pp;x+=err/(1.12837916709551257*Math.exp(-x*x)-x*err)}
return(p<1)?x:-x};jStat.ibetainv=function ibetainv(p,a,b){var EPS=1e-8;var a1=a-1;var b1=b-1;var j=0;var lna,lnb,pp,t,u,err,x,al,h,w,afac;if(p<=0)
return 0;if(p>=1)
return 1;if(a>=1&&b>=1){pp=(p<0.5)?p:1-p;t=Math.sqrt(-2*Math.log(pp));x=(2.30753+t*0.27061)/(1+t*(0.99229+t*0.04481))-t;if(p<0.5)
x=-x;al=(x*x-3)/6;h=2/(1/(2*a-1)+1/(2*b-1));w=(x*Math.sqrt(al+h)/h)-(1/(2*b-1)-1/(2*a-1))*(al+5/6-2/(3*h));x=a/(a+b*Math.exp(2*w))}else{lna=Math.log(a/(a+b));lnb=Math.log(b/(a+b));t=Math.exp(a*lna)/a;u=Math.exp(b*lnb)/b;w=t+u;if(p<t/w)
x=Math.pow(a*w*p,1/a);else x=1-Math.pow(b*w*(1-p),1/b)}
afac=-jStat.gammaln(a)-jStat.gammaln(b)+jStat.gammaln(a+b);for(;j<10;j++){if(x===0||x===1)
return x;err=jStat.ibeta(x,a,b)-p;t=Math.exp(a1*Math.log(x)+b1*Math.log(1-x)+afac);u=err/t;x-=(t=u/(1-0.5*Math.min(1,u*(a1/x-b1/(1-x)))));if(x<=0)
x=0.5*(x+t);if(x>=1)
x=0.5*(x+t+1);if(Math.abs(t)<EPS*x&&j>0)
break}
return x};jStat.ibeta=function ibeta(x,a,b){var bt=(x===0||x===1)?0:Math.exp(jStat.gammaln(a+b)-jStat.gammaln(a)-jStat.gammaln(b)+a*Math.log(x)+b*Math.log(1-x));if(x<0||x>1)
return!1;if(x<(a+1)/(a+b+2))
return bt*jStat.betacf(x,a,b)/a;return 1-bt*jStat.betacf(1-x,b,a)/b};jStat.randn=function randn(n,m){var u,v,x,y,q,mat;if(!m)
m=n;if(n)
return jStat.create(n,m,function(){return jStat.randn()});do{u=Math.random();v=1.7156*(Math.random()-0.5);x=u-0.449871;y=Math.abs(v)+0.386595;q=x*x+y*(0.19600*y-0.25472*x)}while(q>0.27597&&(q>0.27846||v*v>-4*Math.log(u)*u*u));return v/u};jStat.randg=function randg(shape,n,m){var oalph=shape;var a1,a2,u,v,x,mat;if(!m)
m=n;if(!shape)
shape=1;if(n){mat=jStat.zeros(n,m);mat.alter(function(){return jStat.randg(shape)});return mat}
if(shape<1)
shape+=1;a1=shape-1/3;a2=1/Math.sqrt(9*a1);do{do{x=jStat.randn();v=1+a2*x}while(v<=0);v=v*v*v;u=Math.random()}while(u>1-0.331*Math.pow(x,4)&&Math.log(u)>0.5*x*x+a1*(1-v+Math.log(v)));if(shape==oalph)
return a1*v;do{u=Math.random()}while(u===0);return Math.pow(u,1/oalph)*a1*v};(function(funcs){for(var i=0;i<funcs.length;i++)(function(passfunc){jStat.fn[passfunc]=function(){return jStat(jStat.map(this,function(value){return jStat[passfunc](value)}))}})(funcs[i])})('gammaln gammafn factorial factorialln'.split(' '));(function(funcs){for(var i=0;i<funcs.length;i++)(function(passfunc){jStat.fn[passfunc]=function(){return jStat(jStat[passfunc].apply(null,arguments))}})(funcs[i])})('randn'.split(' '))}(this.jStat,Math));(function(jStat,Math){(function(list){for(var i=0;i<list.length;i++)(function(func){jStat[func]=function(a,b,c){if(!(this instanceof arguments.callee))
return new arguments.callee(a,b,c);this._a=a;this._b=b;this._c=c;return this};jStat.fn[func]=function(a,b,c){var newthis=jStat[func](a,b,c);newthis.data=this;return newthis};jStat[func].prototype.sample=function(arr){var a=this._a;var b=this._b;var c=this._c;if(arr)
return jStat.alter(arr,function(){return jStat[func].sample(a,b,c)});else return jStat[func].sample(a,b,c)};(function(vals){for(var i=0;i<vals.length;i++)(function(fnfunc){jStat[func].prototype[fnfunc]=function(x){var a=this._a;var b=this._b;var c=this._c;if(!x&&x!==0)
x=this.data;if(typeof x!=='number'){return jStat.fn.map.call(x,function(x){return jStat[func][fnfunc](x,a,b,c)})}
return jStat[func][fnfunc](x,a,b,c)}})(vals[i])})('pdf cdf inv'.split(' '));(function(vals){for(var i=0;i<vals.length;i++)(function(fnfunc){jStat[func].prototype[fnfunc]=function(){return jStat[func][fnfunc](this._a,this._b,this._c)}})(vals[i])})('mean median mode variance'.split(' '))})(list[i])})(('beta centralF cauchy chisquare exponential gamma invgamma kumaraswamy '+'lognormal normal pareto studentt weibull uniform  binomial negbin hypgeom '+'poisson triangular').split(' '));jStat.extend(jStat.beta,{pdf:function pdf(x,alpha,beta){if(x>1||x<0)
return 0;if(alpha==1&&beta==1)
return 1;if(alpha<512||beta<512){return(Math.pow(x,alpha-1)*Math.pow(1-x,beta-1))/jStat.betafn(alpha,beta)}else{return Math.exp((alpha-1)*Math.log(x)+(beta-1)*Math.log(1-x)-jStat.betaln(alpha,beta))}},cdf:function cdf(x,alpha,beta){return(x>1||x<0)?(x>1)*1:jStat.ibeta(x,alpha,beta)},inv:function inv(x,alpha,beta){return jStat.ibetainv(x,alpha,beta)},mean:function mean(alpha,beta){return alpha/(alpha+beta)},median:function median(alpha,beta){throw new Error('median not yet implemented')},mode:function mode(alpha,beta){return(alpha*beta)/(Math.pow(alpha+beta,2)*(alpha+beta+1))},sample:function sample(alpha,beta){var u=jStat.randg(alpha);return u/(u+jStat.randg(beta))},variance:function variance(alpha,beta){return(alpha*beta)/(Math.pow(alpha+beta,2)*(alpha+beta+1))}});jStat.extend(jStat.centralF,{pdf:function pdf(x,df1,df2){if(x<0)
return undefined;return Math.sqrt((Math.pow(df1*x,df1)*Math.pow(df2,df2))/(Math.pow(df1*x+df2,df1+df2)))/(x*jStat.betafn(df1/2,df2/2))},cdf:function cdf(x,df1,df2){return jStat.ibeta((df1*x)/(df1*x+df2),df1/2,df2/2)},inv:function inv(x,df1,df2){return df2/(df1*(1/jStat.ibetainv(x,df1/2,df2/2)-1))},mean:function mean(df1,df2){return(df2>2)?df2/(df2-2):undefined},mode:function mode(df1,df2){return(df1>2)?(df2*(df1-2))/(df1*(df2+2)):undefined},sample:function sample(df1,df2){var x1=jStat.randg(df1/2)*2;var x2=jStat.randg(df2/2)*2;return(x1/df1)/(x2/df2)},variance:function variance(df1,df2){if(df2<=4)
return undefined;return 2*df2*df2*(df1+df2-2)/(df1*(df2-2)*(df2-2)*(df2-4))}});jStat.extend(jStat.cauchy,{pdf:function pdf(x,local,scale){return(scale/(Math.pow(x-local,2)+Math.pow(scale,2)))/Math.PI},cdf:function cdf(x,local,scale){return Math.atan((x-local)/scale)/Math.PI+0.5},inv:function(p,local,scale){return local+scale*Math.tan(Math.PI*(p-0.5))},median:function median(local,scale){return local},mode:function mode(local,scale){return local},sample:function sample(local,scale){return jStat.randn()*Math.sqrt(1/(2*jStat.randg(0.5)))*scale+local}});jStat.extend(jStat.chisquare,{pdf:function pdf(x,dof){return Math.exp((dof/2-1)*Math.log(x)-x/2-(dof/2)*Math.log(2)-jStat.gammaln(dof/2))},cdf:function cdf(x,dof){return jStat.gammap(dof/2,x/2)},inv:function(p,dof){return 2*jStat.gammapinv(p,0.5*dof)},mean:function(dof){return dof},median:function median(dof){return dof*Math.pow(1-(2/(9*dof)),3)},mode:function mode(dof){return(dof-2>0)?dof-2:0},sample:function sample(dof){return jStat.randg(dof/2)*2},variance:function variance(dof){return 2*dof}});jStat.extend(jStat.exponential,{pdf:function pdf(x,rate){return x<0?0:rate*Math.exp(-rate*x)},cdf:function cdf(x,rate){return x<0?0:1-Math.exp(-rate*x)},inv:function(p,rate){return-Math.log(1-p)/rate},mean:function(rate){return 1/rate},median:function(rate){return(1/rate)*Math.log(2)},mode:function mode(rate){return 0},sample:function sample(rate){return-1/rate*Math.log(Math.random())},variance:function(rate){return Math.pow(rate,-2)}});jStat.extend(jStat.gamma,{pdf:function pdf(x,shape,scale){return Math.exp((shape-1)*Math.log(x)-x/scale-jStat.gammaln(shape)-shape*Math.log(scale))},cdf:function cdf(x,shape,scale){return jStat.gammap(shape,x/scale)},inv:function(p,shape,scale){return jStat.gammapinv(p,shape)*scale},mean:function(shape,scale){return shape*scale},mode:function mode(shape,scale){if(shape>1)return(shape-1)*scale;return undefined},sample:function sample(shape,scale){return jStat.randg(shape)*scale},variance:function variance(shape,scale){return shape*scale*scale}});jStat.extend(jStat.invgamma,{pdf:function pdf(x,shape,scale){return Math.exp(-(shape+1)*Math.log(x)-scale/x-jStat.gammaln(shape)+shape*Math.log(scale))},cdf:function cdf(x,shape,scale){return 1-jStat.gammap(shape,scale/x)},inv:function(p,shape,scale){return scale/jStat.gammapinv(1-p,shape)},mean:function(shape,scale){return(shape>1)?scale/(shape-1):undefined},mode:function mode(shape,scale){return scale/(shape+1)},sample:function sample(shape,scale){return scale/jStat.randg(shape)},variance:function variance(shape,scale){if(shape<=2)
return undefined;return scale*scale/((shape-1)*(shape-1)*(shape-2))}});jStat.extend(jStat.kumaraswamy,{pdf:function pdf(x,alpha,beta){return Math.exp(Math.log(alpha)+Math.log(beta)+(alpha-1)*Math.log(x)+(beta-1)*Math.log(1-Math.pow(x,alpha)))},cdf:function cdf(x,alpha,beta){return(1-Math.pow(1-Math.pow(x,alpha),beta))},mean:function(alpha,beta){return(beta*jStat.gammafn(1+1/alpha)*jStat.gammafn(beta))/(jStat.gammafn(1+1/alpha+beta))},median:function median(alpha,beta){return Math.pow(1-Math.pow(2,-1/beta),1/alpha)},mode:function mode(alpha,beta){if(!(alpha>=1&&beta>=1&&(alpha!==1&&beta!==1)))
return undefined;return Math.pow((alpha-1)/(alpha*beta-1),1/alpha)},variance:function variance(alpha,beta){throw new Error('variance not yet implemented')}});jStat.extend(jStat.lognormal,{pdf:function pdf(x,mu,sigma){return Math.exp(-Math.log(x)-0.5*Math.log(2*Math.PI)-Math.log(sigma)-Math.pow(Math.log(x)-mu,2)/(2*sigma*sigma))},cdf:function cdf(x,mu,sigma){return 0.5+(0.5*jStat.erf((Math.log(x)-mu)/Math.sqrt(2*sigma*sigma)))},inv:function(p,mu,sigma){return Math.exp(-1.41421356237309505*sigma*jStat.erfcinv(2*p)+mu)},mean:function mean(mu,sigma){return Math.exp(mu+sigma*sigma/2)},median:function median(mu,sigma){return Math.exp(mu)},mode:function mode(mu,sigma){return Math.exp(mu-sigma*sigma)},sample:function sample(mu,sigma){return Math.exp(jStat.randn()*sigma+mu)},variance:function variance(mu,sigma){return(Math.exp(sigma*sigma)-1)*Math.exp(2*mu+sigma*sigma)}});jStat.extend(jStat.normal,{pdf:function pdf(x,mean,std){return Math.exp(-0.5*Math.log(2*Math.PI)-Math.log(std)-Math.pow(x-mean,2)/(2*std*std))},cdf:function cdf(x,mean,std){return 0.5*(1+jStat.erf((x-mean)/Math.sqrt(2*std*std)))},inv:function(p,mean,std){return-1.41421356237309505*std*jStat.erfcinv(2*p)+mean},mean:function(mean,std){return mean},median:function median(mean,std){return mean},mode:function(mean,std){return mean},sample:function sample(mean,std){return jStat.randn()*std+mean},variance:function(mean,std){return std*std}});jStat.extend(jStat.pareto,{pdf:function pdf(x,scale,shape){if(x<=scale)
return undefined;return(shape*Math.pow(scale,shape))/Math.pow(x,shape+1)},cdf:function cdf(x,scale,shape){return 1-Math.pow(scale/x,shape)},mean:function mean(scale,shape){if(shape<=1)
return undefined;return(shape*Math.pow(scale,shape))/(shape-1)},median:function median(scale,shape){return scale*(shape*Math.SQRT2)},mode:function mode(scale,shape){return scale},variance:function(scale,shape){if(shape<=2)
return undefined;return(scale*scale*shape)/(Math.pow(shape-1,2)*(shape-2))}});jStat.extend(jStat.studentt,{pdf:function pdf(x,dof){return(jStat.gammafn((dof+1)/2)/(Math.sqrt(dof*Math.PI)*jStat.gammafn(dof/2)))*Math.pow(1+((x*x)/dof),-((dof+1)/2))},cdf:function cdf(x,dof){var dof2=dof/2;return jStat.ibeta((x+Math.sqrt(x*x+dof))/(2*Math.sqrt(x*x+dof)),dof2,dof2)},inv:function(p,dof){var x=jStat.ibetainv(2*Math.min(p,1-p),0.5*dof,0.5);x=Math.sqrt(dof*(1-x)/x);return(p>0)?x:-x},mean:function mean(dof){return(dof>1)?0:undefined},median:function median(dof){return 0},mode:function mode(dof){return 0},sample:function sample(dof){return jStat.randn()*Math.sqrt(dof/(2*jStat.randg(dof/2)))},variance:function variance(dof){return(dof>2)?dof/(dof-2):(dof>1)?Infinity:undefined}});jStat.extend(jStat.weibull,{pdf:function pdf(x,scale,shape){if(x<0)
return 0;return(shape/scale)*Math.pow((x/scale),(shape-1))*Math.exp(-(Math.pow((x/scale),shape)))},cdf:function cdf(x,scale,shape){return x<0?0:1-Math.exp(-Math.pow((x/scale),shape))},inv:function(p,scale,shape){return scale*Math.pow(-Math.log(1-p),1/shape)},mean:function(scale,shape){return scale*jStat.gammafn(1+1/shape)},median:function median(scale,shape){return scale*Math.pow(Math.log(2),1/shape)},mode:function mode(scale,shape){if(shape<=1)
return undefined;return scale*Math.pow((shape-1)/shape,1/shape)},sample:function sample(scale,shape){return scale*Math.pow(-Math.log(Math.random()),1/shape)},variance:function variance(scale,shape){return scale*scale*jStat.gammafn(1+2/shape)-Math.pow(this.mean(scale,shape),2)}});jStat.extend(jStat.uniform,{pdf:function pdf(x,a,b){return(x<a||x>b)?0:1/(b-a)},cdf:function cdf(x,a,b){if(x<a)
return 0;else if(x<b)
return(x-a)/(b-a);return 1},mean:function mean(a,b){return 0.5*(a+b)},median:function median(a,b){return jStat.mean(a,b)},mode:function mode(a,b){throw new Error('mode is not yet implemented')},sample:function sample(a,b){return(a/2+b/2)+(b/2-a/2)*(2*Math.random()-1)},variance:function variance(a,b){return Math.pow(b-a,2)/12}});jStat.extend(jStat.binomial,{pdf:function pdf(k,n,p){return(p===0||p===1)?((n*p)===k?1:0):jStat.combination(n,k)*Math.pow(p,k)*Math.pow(1-p,n-k)},cdf:function cdf(x,n,p){var binomarr=[],k=0;if(x<0){return 0}
if(x<n){for(;k<=x;k++){binomarr[k]=jStat.binomial.pdf(k,n,p)}
return jStat.sum(binomarr)}
return 1}});jStat.extend(jStat.negbin,{pdf:function pdf(k,r,p){return k!==k|0?!1:k<0?0:jStat.combination(k+r-1,r-1)*Math.pow(1-p,k)*Math.pow(p,r)},cdf:function cdf(x,r,p){var sum=0,k=0;if(x<0)return 0;for(;k<=x;k++){sum+=jStat.negbin.pdf(k,r,p)}
return sum}});jStat.extend(jStat.hypgeom,{pdf:function pdf(k,N,m,n){if(k!==k|0){return!1}else if(k<0||k<m-(N-n)){return 0}else if(k>n||k>m){return 0}else if(m*2>N){if(n*2>N){return jStat.hypgeom.pdf(N-m-n+k,N,N-m,N-n)}else{return jStat.hypgeom.pdf(n-k,N,N-m,n)}}else if(n*2>N){return jStat.hypgeom.pdf(m-k,N,m,N-n)}else if(m<n){return jStat.hypgeom.pdf(k,N,n,m)}else{var scaledPDF=1;var samplesDone=0;for(var i=0;i<k;i++){while(scaledPDF>1&&samplesDone<n){scaledPDF*=1-(m/(N-samplesDone));samplesDone++}
scaledPDF*=(n-i)*(m-i)/((i+1)*(N-m-n+i+1))}
for(;samplesDone<n;samplesDone++){scaledPDF*=1-(m/(N-samplesDone))}
return Math.min(1,Math.max(0,scaledPDF))}},cdf:function cdf(x,N,m,n){if(x<0||x<m-(N-n)){return 0}else if(x>=n||x>=m){return 1}else if(m*2>N){if(n*2>N){return jStat.hypgeom.cdf(N-m-n+x,N,N-m,N-n)}else{return 1-jStat.hypgeom.cdf(n-x-1,N,N-m,n)}}else if(n*2>N){return 1-jStat.hypgeom.cdf(m-x-1,N,m,N-n)}else if(m<n){return jStat.hypgeom.cdf(x,N,n,m)}else{var scaledCDF=1;var scaledPDF=1;var samplesDone=0;for(var i=0;i<x;i++){while(scaledCDF>1&&samplesDone<n){var factor=1-(m/(N-samplesDone));scaledPDF*=factor;scaledCDF*=factor;samplesDone++}
scaledPDF*=(n-i)*(m-i)/((i+1)*(N-m-n+i+1));scaledCDF+=scaledPDF}
for(;samplesDone<n;samplesDone++){scaledCDF*=1-(m/(N-samplesDone))}
return Math.min(1,Math.max(0,scaledCDF))}}});jStat.extend(jStat.poisson,{pdf:function pdf(k,l){return Math.pow(l,k)*Math.exp(-l)/jStat.factorial(k)},cdf:function cdf(x,l){var sumarr=[],k=0;if(x<0)return 0;for(;k<=x;k++){sumarr.push(jStat.poisson.pdf(k,l))}
return jStat.sum(sumarr)},mean:function(l){return l},variance:function(l){return l},sample:function sample(l){var p=1,k=0,L=Math.exp(-l);do{k++;p*=Math.random()}while(p>L);return k-1}});jStat.extend(jStat.triangular,{pdf:function pdf(x,a,b,c){return(b<=a||c<a||c>b)?undefined:(x<a||x>b)?0:(x<=c)?(2*(x-a))/((b-a)*(c-a)):(2*(b-x))/((b-a)*(b-c))},cdf:function cdf(x,a,b,c){if(b<=a||c<a||c>b)
return undefined;if(x<a){return 0}else{if(x<=c)
return Math.pow(x-a,2)/((b-a)*(c-a));return 1-Math.pow(b-x,2)/((b-a)*(b-c))}
return 1},mean:function mean(a,b,c){return(a+b+c)/3},median:function median(a,b,c){if(c<=(a+b)/2){return b-Math.sqrt((b-a)*(b-c))/Math.sqrt(2)}else if(c>(a+b)/2){return a+Math.sqrt((b-a)*(c-a))/Math.sqrt(2)}},mode:function mode(a,b,c){return c},sample:function sample(a,b,c){var u=Math.random();if(u<((c-a)/(b-a)))
return a+Math.sqrt(u*(b-a)*(c-a))
return b-Math.sqrt((1-u)*(b-a)*(b-c))},variance:function variance(a,b,c){return(a*a+b*b+c*c-a*b-a*c-b*c)/18}})}(this.jStat,Math));(function(jStat,Math){var push=Array.prototype.push;var isArray=jStat.utils.isArray;jStat.extend({add:function add(arr,arg){if(isArray(arg)){if(!isArray(arg[0]))arg=[arg];return jStat.map(arr,function(value,row,col){return value+arg[row][col]})}
return jStat.map(arr,function(value){return value+arg})},subtract:function subtract(arr,arg){if(isArray(arg)){if(!isArray(arg[0]))arg=[arg];return jStat.map(arr,function(value,row,col){return value-arg[row][col]||0})}
return jStat.map(arr,function(value){return value-arg})},divide:function divide(arr,arg){if(isArray(arg)){if(!isArray(arg[0]))arg=[arg];return jStat.multiply(arr,jStat.inv(arg))}
return jStat.map(arr,function(value){return value/arg})},multiply:function multiply(arr,arg){var row,col,nrescols,sum,nrow=arr.length,ncol=arr[0].length,res=jStat.zeros(nrow,nrescols=(isArray(arg))?arg[0].length:ncol),rescols=0;if(isArray(arg)){for(;rescols<nrescols;rescols++){for(row=0;row<nrow;row++){sum=0;for(col=0;col<ncol;col++)
sum+=arr[row][col]*arg[col][rescols];res[row][rescols]=sum}}
return(nrow===1&&rescols===1)?res[0][0]:res}
return jStat.map(arr,function(value){return value*arg})},dot:function dot(arr,arg){if(!isArray(arr[0]))arr=[arr];if(!isArray(arg[0]))arg=[arg];var left=(arr[0].length===1&&arr.length!==1)?jStat.transpose(arr):arr,right=(arg[0].length===1&&arg.length!==1)?jStat.transpose(arg):arg,res=[],row=0,nrow=left.length,ncol=left[0].length,sum,col;for(;row<nrow;row++){res[row]=[];sum=0;for(col=0;col<ncol;col++)
sum+=left[row][col]*right[row][col];res[row]=sum}
return(res.length===1)?res[0]:res},pow:function pow(arr,arg){return jStat.map(arr,function(value){return Math.pow(value,arg)})},abs:function abs(arr){return jStat.map(arr,function(value){return Math.abs(value)})},norm:function norm(arr,p){var nnorm=0,i=0;if(isNaN(p))p=2;if(isArray(arr[0]))arr=arr[0];for(;i<arr.length;i++){nnorm+=Math.pow(Math.abs(arr[i]),p)}
return Math.pow(nnorm,1/p)},angle:function angle(arr,arg){return Math.acos(jStat.dot(arr,arg)/(jStat.norm(arr)*jStat.norm(arg)))},aug:function aug(a,b){var newarr=a.slice(),i=0;for(;i<newarr.length;i++){push.apply(newarr[i],b[i])}
return newarr},inv:function inv(a){var rows=a.length,cols=a[0].length,b=jStat.identity(rows,cols),c=jStat.gauss_jordan(a,b),obj=[],i=0,j;for(;i<rows;i++){obj[i]=[];for(j=cols-1;j<c[0].length;j++)
obj[i][j-cols]=c[i][j]}
return obj},det:function det(a){var alen=a.length,alend=alen*2,vals=new Array(alend),rowshift=alen-1,colshift=alend-1,mrow=rowshift-alen+1,mcol=colshift,i=0,result=0,j;if(alen===2){return a[0][0]*a[1][1]-a[0][1]*a[1][0]}
for(;i<alend;i++){vals[i]=1}
for(i=0;i<alen;i++){for(j=0;j<alen;j++){vals[(mrow<0)?mrow+alen:mrow]*=a[i][j];vals[(mcol<alen)?mcol+alen:mcol]*=a[i][j];mrow++;mcol--}
mrow=--rowshift-alen+1;mcol=--colshift}
for(i=0;i<alen;i++){result+=vals[i]}
for(;i<alend;i++){result-=vals[i]}
return result},gauss_elimination:function gauss_elimination(a,b){var i=0,j=0,n=a.length,m=a[0].length,factor=1,sum=0,x=[],maug,pivot,temp,k;a=jStat.aug(a,b);maug=a[0].length;for(;i<n;i++){pivot=a[i][i];j=i;for(k=i+1;k<m;k++){if(pivot<Math.abs(a[k][i])){pivot=a[k][i];j=k}}
if(j!=i){for(k=0;k<maug;k++){temp=a[i][k];a[i][k]=a[j][k];a[j][k]=temp}}
for(j=i+1;j<n;j++){factor=a[j][i]/a[i][i];for(k=i;k<maug;k++){a[j][k]=a[j][k]-factor*a[i][k]}}}
for(i=n-1;i>=0;i--){sum=0;for(j=i+1;j<=n-1;j++){sum=x[j]*a[i][j]}
x[i]=(a[i][maug-1]-sum)/a[i][i]}
return x},gauss_jordan:function gauss_jordan(a,b){var m=jStat.aug(a,b),h=m.length,w=m[0].length;for(var y=0;y<h;y++){var maxrow=y;for(var y2=y+1;y2<h;y2++){if(Math.abs(m[y2][y])>Math.abs(m[maxrow][y]))
maxrow=y2}
var tmp=m[y];m[y]=m[maxrow];m[maxrow]=tmp
for(var y2=y+1;y2<h;y2++){c=m[y2][y]/m[y][y];for(var x=y;x<w;x++){m[y2][x]-=m[y][x]*c}}}
for(var y=h-1;y>=0;y--){c=m[y][y];for(var y2=0;y2<y;y2++){for(var x=w-1;x>y-1;x--){m[y2][x]-=m[y][x]*m[y2][y]/c}}
m[y][y]/=c;for(var x=h;x<w;x++){m[y][x]/=c}}
return m},lu:function lu(a,b){throw new Error('lu not yet implemented')},cholesky:function cholesky(a,b){throw new Error('cholesky not yet implemented')},gauss_jacobi:function gauss_jacobi(a,b,x,r){var i=0;var j=0;var n=a.length;var l=[];var u=[];var d=[];var xv,c,h,xk;for(;i<n;i++){l[i]=[];u[i]=[];d[i]=[];for(j=0;j<n;j++){if(i>j){l[i][j]=a[i][j];u[i][j]=d[i][j]=0}else if(i<j){u[i][j]=a[i][j];l[i][j]=d[i][j]=0}else{d[i][j]=a[i][j];l[i][j]=u[i][j]=0}}}
h=jStat.multiply(jStat.multiply(jStat.inv(d),jStat.add(l,u)),-1);c=jStat.multiply(jStat.inv(d),b);xv=x;xk=jStat.add(jStat.multiply(h,x),c);i=2;while(Math.abs(jStat.norm(jStat.subtract(xk,xv)))>r){xv=xk;xk=jStat.add(jStat.multiply(h,xv),c);i++}
return xk},gauss_seidel:function gauss_seidel(a,b,x,r){var i=0;var n=a.length;var l=[];var u=[];var d=[];var j,xv,c,h,xk;for(;i<n;i++){l[i]=[];u[i]=[];d[i]=[];for(j=0;j<n;j++){if(i>j){l[i][j]=a[i][j];u[i][j]=d[i][j]=0}else if(i<j){u[i][j]=a[i][j];l[i][j]=d[i][j]=0}else{d[i][j]=a[i][j];l[i][j]=u[i][j]=0}}}
h=jStat.multiply(jStat.multiply(jStat.inv(jStat.add(d,l)),u),-1);c=jStat.multiply(jStat.inv(jStat.add(d,l)),b);xv=x;xk=jStat.add(jStat.multiply(h,x),c);i=2;while(Math.abs(jStat.norm(jStat.subtract(xk,xv)))>r){xv=xk;xk=jStat.add(jStat.multiply(h,xv),c);i=i+1}
return xk},SOR:function SOR(a,b,x,r,w){var i=0;var n=a.length;var l=[];var u=[];var d=[];var j,xv,c,h,xk;for(;i<n;i++){l[i]=[];u[i]=[];d[i]=[];for(j=0;j<n;j++){if(i>j){l[i][j]=a[i][j];u[i][j]=d[i][j]=0}else if(i<j){u[i][j]=a[i][j];l[i][j]=d[i][j]=0}else{d[i][j]=a[i][j];l[i][j]=u[i][j]=0}}}
h=jStat.multiply(jStat.inv(jStat.add(d,jStat.multiply(l,w))),jStat.subtract(jStat.multiply(d,1-w),jStat.multiply(u,w)));c=jStat.multiply(jStat.multiply(jStat.inv(jStat.add(d,jStat.multiply(l,w))),b),w);xv=x;xk=jStat.add(jStat.multiply(h,x),c);i=2;while(Math.abs(jStat.norm(jStat.subtract(xk,xv)))>r){xv=xk;xk=jStat.add(jStat.multiply(h,xv),c);i++}
return xk},householder:function householder(a){var m=a.length;var n=a[0].length;var i=0;var w=[];var p=[];var alpha,r,k,j,factor;for(;i<m-1;i++){alpha=0;for(j=i+1;j<n;j++)
alpha+=(a[j][i]*a[j][i]);factor=(a[i+1][i]>0)?-1:1;alpha=factor*Math.sqrt(alpha);r=Math.sqrt((((alpha*alpha)-a[i+1][i]*alpha)/2));w=jStat.zeros(m,1);w[i+1][0]=(a[i+1][i]-alpha)/(2*r);for(k=i+2;k<m;k++)w[k][0]=a[k][i]/(2*r);p=jStat.subtract(jStat.identity(m,n),jStat.multiply(jStat.multiply(w,jStat.transpose(w)),2));a=jStat.multiply(p,jStat.multiply(a,p))}
return a},QR:function QR(a,b){var m=a.length;var n=a[0].length;var i=0;var w=[];var p=[];var x=[];var j,alpha,r,k,factor,sum;for(;i<m-1;i++){alpha=0;for(j=i+1;j<n;j++)
alpha+=(a[j][i]*a[j][i]);factor=(a[i+1][i]>0)?-1:1;alpha=factor*Math.sqrt(alpha);r=Math.sqrt((((alpha*alpha)-a[i+1][i]*alpha)/2));w=jStat.zeros(m,1);w[i+1][0]=(a[i+1][i]-alpha)/(2*r);for(k=i+2;k<m;k++)
w[k][0]=a[k][i]/(2*r);p=jStat.subtract(jStat.identity(m,n),jStat.multiply(jStat.multiply(w,jStat.transpose(w)),2));a=jStat.multiply(p,a);b=jStat.multiply(p,b)}
for(i=m-1;i>=0;i--){sum=0;for(j=i+1;j<=n-1;j++)
sum=x[j]*a[i][j];x[i]=b[i][0]/a[i][i]}
return x},jacobi:function jacobi(a){var condition=1;var count=0;var n=a.length;var e=jStat.identity(n,n);var ev=[];var b,i,j,p,q,maxim,theta,s;while(condition===1){count++;maxim=a[0][1];p=0;q=1;for(i=0;i<n;i++){for(j=0;j<n;j++){if(i!=j){if(maxim<Math.abs(a[i][j])){maxim=Math.abs(a[i][j]);p=i;q=j}}}}
if(a[p][p]===a[q][q])
theta=(a[p][q]>0)?Math.PI/4:-Math.PI/4;else theta=Math.atan(2*a[p][q]/(a[p][p]-a[q][q]))/2;s=jStat.identity(n,n);s[p][p]=Math.cos(theta);s[p][q]=-Math.sin(theta);s[q][p]=Math.sin(theta);s[q][q]=Math.cos(theta);e=jStat.multiply(e,s);b=jStat.multiply(jStat.multiply(jStat.inv(s),a),s);a=b;condition=0;for(i=1;i<n;i++){for(j=1;j<n;j++){if(i!=j&&Math.abs(a[i][j])>0.001){condition=1}}}}
for(i=0;i<n;i++)ev.push(a[i][i]);return[e,ev]},rungekutta:function rungekutta(f,h,p,t_j,u_j,order){var k1,k2,u_j1,k3,k4;if(order===2){while(t_j<=p){k1=h*f(t_j,u_j);k2=h*f(t_j+h,u_j+k1);u_j1=u_j+(k1+k2)/2;u_j=u_j1;t_j=t_j+h}}
if(order===4){while(t_j<=p){k1=h*f(t_j,u_j);k2=h*f(t_j+h/2,u_j+k1/2);k3=h*f(t_j+h/2,u_j+k2/2);k4=h*f(t_j+h,u_j+k3);u_j1=u_j+(k1+2*k2+2*k3+k4)/6;u_j=u_j1;t_j=t_j+h}}
return u_j},romberg:function romberg(f,a,b,order){var i=0;var h=(b-a)/2;var x=[];var h1=[];var g=[];var m,a1,j,k,I,d;while(i<order/2){I=f(a);for(j=a,k=0;j<=b;j=j+h,k++)x[k]=j;m=x.length;for(j=1;j<m-1;j++){I+=(((j%2)!==0)?4:2)*f(x[j])}
I=(h/3)*(I+f(b));g[i]=I;h/=2;i++}
a1=g.length;m=1;while(a1!==1){for(j=0;j<a1-1;j++)
h1[j]=((Math.pow(4,m))*g[j+1]-g[j])/(Math.pow(4,m)-1);a1=h1.length;g=h1;h1=[];m++}
return g},richardson:function richardson(X,f,x,h){function pos(X,x){var i=0;var n=X.length;var p;for(;i<n;i++)
if(X[i]===x)p=i;return p}
var n=X.length,h_min=Math.abs(x-X[pos(X,x)+1]),i=0,g=[],h1=[],y1,y2,m,a,j;while(h>=h_min){y1=pos(X,x+h);y2=pos(X,x);g[i]=(f[y1]-2*f[y2]+f[2*y2-y1])/(h*h);h/=2;i++}
a=g.length;m=1;while(a!=1){for(j=0;j<a-1;j++)
h1[j]=((Math.pow(4,m))*g[j+1]-g[j])/(Math.pow(4,m)-1);a=h1.length;g=h1;h1=[];m++}
return g},simpson:function simpson(f,a,b,n){var h=(b-a)/n;var I=f(a);var x=[];var j=a;var k=0;var i=1;var m;for(;j<=b;j=j+h,k++)
x[k]=j;m=x.length;for(;i<m-1;i++){I+=((i%2!==0)?4:2)*f(x[i])}
return(h/3)*(I+f(b))},hermite:function hermite(X,F,dF,value){var n=X.length;var p=0;var i=0;var l=[];var dl=[];var A=[];var B=[];var j;for(;i<n;i++){l[i]=1;for(j=0;j<n;j++){if(i!=j)l[i]*=(value-X[j])/(X[i]-X[j])}
dl[i]=0;for(j=0;j<n;j++){if(i!=j)dl[i]+=1/(X[i]-X[j])}
A[i]=(1-2*(value-X[i])*dl[i])*(l[i]*l[i]);B[i]=(value-X[i])*(l[i]*l[i]);p+=(A[i]*F[i]+B[i]*dF[i])}
return p},lagrange:function lagrange(X,F,value){var p=0;var i=0;var j,l;var n=X.length;for(;i<n;i++){l=F[i];for(j=0;j<n;j++){if(i!=j)l*=(value-X[j])/(X[i]-X[j])}
p+=l}
return p},cubic_spline:function cubic_spline(X,F,value){var n=X.length;var i=0,j;var A=[];var B=[];var alpha=[];var c=[];var h=[];var b=[];var d=[];for(;i<n-1;i++)
h[i]=X[i+1]-X[i];alpha[0]=0;for(i=1;i<n-1;i++){alpha[i]=(3/h[i])*(F[i+1]-F[i])-(3/h[i-1])*(F[i]-F[i-1])}
for(i=1;i<n-1;i++){A[i]=[];B[i]=[];A[i][i-1]=h[i-1];A[i][i]=2*(h[i-1]+h[i]);A[i][i+1]=h[i];B[i][0]=alpha[i]}
c=jStat.multiply(jStat.inv(A),B);for(j=0;j<n-1;j++){b[j]=(F[j+1]-F[j])/h[j]-h[j]*(c[j+1][0]+2*c[j][0])/3;d[j]=(c[j+1][0]-c[j][0])/(3*h[j])}
for(j=0;j<n;j++){if(X[j]>value)break}
j-=1;return F[j]+(value-X[j])*b[j]+jStat.sq(value-X[j])*c[j]+(value-X[j])*jStat.sq(value-X[j])*d[j]},gauss_quadrature:function gauss_quadrature(){throw new Error('gauss_quadrature not yet implemented')},PCA:function PCA(X){var m=X.length;var n=X[0].length;var flag=!1;var i=0;var j,temp1;var u=[];var D=[];var result=[];var temp2=[];var Y=[];var Bt=[];var B=[];var C=[];var V=[];var Vt=[];for(i=0;i<m;i++){u[i]=jStat.sum(X[i])/n}
for(i=0;i<n;i++){B[i]=[];for(j=0;j<m;j++){B[i][j]=X[j][i]-u[j]}}
B=jStat.transpose(B);for(i=0;i<m;i++){C[i]=[];for(j=0;j<m;j++){C[i][j]=(jStat.dot([B[i]],[B[j]]))/(n-1)}}
result=jStat.jacobi(C);V=result[0];D=result[1];Vt=jStat.transpose(V);for(i=0;i<D.length;i++){for(j=i;j<D.length;j++){if(D[i]<D[j]){temp1=D[i];D[i]=D[j];D[j]=temp1;temp2=Vt[i];Vt[i]=Vt[j];Vt[j]=temp2}}}
Bt=jStat.transpose(B);for(i=0;i<m;i++){Y[i]=[];for(j=0;j<Bt.length;j++){Y[i][j]=jStat.dot([Vt[i]],[Bt[j]])}}
return[X,D,Vt,Y]}});(function(funcs){for(var i=0;i<funcs.length;i++)(function(passfunc){jStat.fn[passfunc]=function(arg,func){var tmpthis=this;if(func){setTimeout(function(){func.call(tmpthis,jStat.fn[passfunc].call(tmpthis,arg))},15);return this}
return jStat(jStat[passfunc](this,arg))}}(funcs[i]))}('add divide multiply subtract dot pow abs norm angle'.split(' ')))}(this.jStat,Math));(function(jStat,Math){var slice=[].slice;var isNumber=jStat.utils.isNumber;jStat.extend({zscore:function zscore(){var args=slice.call(arguments);if(isNumber(args[1])){return(args[0]-args[1])/args[2]}
return(args[0]-jStat.mean(args[1]))/jStat.stdev(args[1],args[2])},ztest:function ztest(){var args=slice.call(arguments);if(args.length===4){if(isNumber(args[1])){var z=jStat.zscore(args[0],args[1],args[2])
return(args[3]===1)?(jStat.normal.cdf(-Math.abs(z),0,1)):(jStat.normal.cdf(-Math.abs(z),0,1)*2)}
var z=args[0]
return(args[2]===1)?(jStat.normal.cdf(-Math.abs(z),0,1)):(jStat.normal.cdf(-Math.abs(z),0,1)*2)}
var z=jStat.zscore(args[0],args[1],args[3])
return(args[1]===1)?(jStat.normal.cdf(-Math.abs(z),0,1)):(jStat.normal.cdf(-Math.abs(z),0,1)*2)}});jStat.extend(jStat.fn,{zscore:function zscore(value,flag){return(value-this.mean())/this.stdev(flag)},ztest:function ztest(value,sides,flag){var zscore=Math.abs(this.zscore(value,flag));return(sides===1)?(jStat.normal.cdf(-zscore,0,1)):(jStat.normal.cdf(-zscore,0,1)*2)}});jStat.extend({tscore:function tscore(){var args=slice.call(arguments);return(args.length===4)?((args[0]-args[1])/(args[2]/Math.sqrt(args[3]))):((args[0]-jStat.mean(args[1]))/(jStat.stdev(args[1],!0)/Math.sqrt(args[1].length)))},ttest:function ttest(){var args=slice.call(arguments);var tscore;if(args.length===5){tscore=Math.abs(jStat.tscore(args[0],args[1],args[2],args[3]));return(args[4]===1)?(jStat.studentt.cdf(-tscore,args[3]-1)):(jStat.studentt.cdf(-tscore,args[3]-1)*2)}
if(isNumber(args[1])){tscore=Math.abs(args[0])
return(args[2]==1)?(jStat.studentt.cdf(-tscore,args[1]-1)):(jStat.studentt.cdf(-tscore,args[1]-1)*2)}
tscore=Math.abs(jStat.tscore(args[0],args[1]))
return(args[2]==1)?(jStat.studentt.cdf(-tscore,args[1].length-1)):(jStat.studentt.cdf(-tscore,args[1].length-1)*2)}});jStat.extend(jStat.fn,{tscore:function tscore(value){return(value-this.mean())/(this.stdev(!0)/Math.sqrt(this.cols()))},ttest:function ttest(value,sides){return(sides===1)?(1-jStat.studentt.cdf(Math.abs(this.tscore(value)),this.cols()-1)):(jStat.studentt.cdf(-Math.abs(this.tscore(value)),this.cols()-1)*2)}});jStat.extend({anovafscore:function anovafscore(){var args=slice.call(arguments),expVar,sample,sampMean,sampSampMean,tmpargs,unexpVar,i,j;if(args.length===1){tmpargs=new Array(args[0].length);for(i=0;i<args[0].length;i++){tmpargs[i]=args[0][i]}
args=tmpargs}
if(args.length===2){return jStat.variance(args[0])/jStat.variance(args[1])}
sample=new Array();for(i=0;i<args.length;i++){sample=sample.concat(args[i])}
sampMean=jStat.mean(sample);expVar=0;for(i=0;i<args.length;i++){expVar=expVar+args[i].length*Math.pow(jStat.mean(args[i])-sampMean,2)}
expVar/=(args.length-1);unexpVar=0;for(i=0;i<args.length;i++){sampSampMean=jStat.mean(args[i]);for(j=0;j<args[i].length;j++){unexpVar+=Math.pow(args[i][j]-sampSampMean,2)}}
unexpVar/=(sample.length-args.length);return expVar/unexpVar},anovaftest:function anovaftest(){var args=slice.call(arguments),df1,df2,n,i;if(isNumber(args[0])){return 1-jStat.centralF.cdf(args[0],args[1],args[2])}
anovafscore=jStat.anovafscore(args);df1=args.length-1;n=0;for(i=0;i<args.length;i++){n=n+args[i].length}
df2=n-df1-1;return 1-jStat.centralF.cdf(anovafscore,df1,df2)},ftest:function ftest(fscore,df1,df2){return 1-jStat.centralF.cdf(fscore,df1,df2)}});jStat.extend(jStat.fn,{anovafscore:function anovafscore(){return jStat.anovafscore(this.toArray())},anovaftes:function anovaftes(){var n=0;var i;for(i=0;i<this.length;i++){n=n+this[i].length}
return jStat.ftest(this.anovafscore(),this.length-1,n-this.length)}});jStat.extend({normalci:function normalci(){var args=slice.call(arguments),ans=new Array(2),change;if(args.length===4){change=Math.abs(jStat.normal.inv(args[1]/2,0,1)*args[2]/Math.sqrt(args[3]))}else{change=Math.abs(jStat.normal.inv(args[1]/2,0,1)*jStat.stdev(args[2])/Math.sqrt(args[2].length))}
ans[0]=args[0]-change;ans[1]=args[0]+change;return ans},tci:function tci(){var args=slice.call(arguments),ans=new Array(2),change;if(args.length===4){change=Math.abs(jStat.studentt.inv(args[1]/2,args[3]-1)*args[2]/Math.sqrt(args[3]))}else{change=Math.abs(jStat.studentt.inv(args[1]/2,args[2].length-1)*jStat.stdev(args[2],!0)/Math.sqrt(args[2].length))}
ans[0]=args[0]-change;ans[1]=args[0]+change;return ans},significant:function significant(pvalue,alpha){return pvalue<alpha}});jStat.extend(jStat.fn,{normalci:function normalci(value,alpha){return jStat.normalci(value,alpha,this.toArray())},tci:function tci(value,alpha){return jStat.tci(value,alpha,this.toArray())}})}(this.jStat,Math));(function(){var root=this;var Formula=root.Formula={};var _=root._;var numeral=root.numeral;var jStat=root.jStat;var moment=root.moment;var lodash=_;var md5=root.md5;var _s=_.str;if(typeof exports!=="undefined"){module.exports=exportModule(require('numeral'),require('jStat'),require('moment'),require('lodash'),require('underscore.string'),require('blueimp-md5'))}else if(typeof define==="function"&&define.amd){define('formula',['numeral','jstat','moment','lodash','underscore.string','md5'],exportModule)}else{Formula=exportModule(numeral,jStat,moment,lodash,_s,md5);return Formula}
function exportModule(numeral,jStat,moment,_,_s,md5){var MEMOIZED_FACT=[];var SQRT2PI=2.5066282746310002;var WEEK_STARTS=[undefined,0,1,undefined,undefined,undefined,undefined,undefined,undefined,undefined,undefined,undefined,1,2,3,4,5,6,0];var WEEK_TYPES=[[],[1,2,3,4,5,6,7],[7,1,2,3,4,5,6],[6,0,1,2,3,4,5],[],[],[],[],[],[],[],[7,1,2,3,4,5,6],[6,7,1,2,3,4,5],[5,6,7,1,2,3,4],[4,5,6,7,1,2,3],[3,4,5,6,7,1,2],[2,3,4,5,6,7,1],[1,2,3,4,5,6,7]];var WEEKEND_TYPES=[[],[6,0],[0,1],[1,2],[2,3],[3,4],[4,5],[5,6],undefined,undefined,undefined,[0],[1],[2],[3],[4],[5],[6]];var simplifyArguments=function(arguments){for(var prop in arguments){if(_.isArray(arguments[prop])){arguments[prop]=Formula.FLATTEN(arguments[prop])}}
return arguments};Formula.UNIQUE=function(){return _.unique(arguments)};Formula.FLATTEN=function(){return _.flatten(arguments)};Formula.FLATTENSINGLE=function(value){value=Formula.FLATTEN(value);return value[0]};Formula.FUNCTION=function(){var args=Array.prototype.slice.call(arguments);var expression=args[args.length-1];var regexp=/(\w+)\(/g;var newExpression=expression.replace(regexp,function(){return"Formulae."+arguments[0]});args[args.length-1]="return "+newExpression+";";if(newExpression!==expression){args.unshift('Formulae')}
return Function.apply(null,args)};Formula.MOMENT=function(timestamp,format){return moment(timestamp).format(format)};Formula.MOMENTADD=function(start_date,period,number){return moment(start_date).add(period,number)};Formula.MOMENTDIFF=function(start_date,end_date,period){return moment(end_date).diff(moment.utc(start_date),period)};Formula.MOMENTSUB=function(start_date,period,number){return moment(start_date).subtract(period,number)};Formula.MOMENTUTC=function(timestamp,format){return moment.utc(timestamp).format(format)};Formula.MOMENTUTCADD=function(start_date,period,number){return moment.utc(start_date).add(period,number)};Formula.MOMENTUTCDIFF=function(start_date,end_date,period){return moment.utc(end_date).diff(moment.utc(start_date),period)};Formula.MOMENTUTCSUB=function(start_date,period,number){return moment.utc(start_date).subtract(period,number)};Formula.MOMENTUNIX=function(unixTime){return moment.unix(unixTime).toDate()};Formula.MOMENTFORMAT=function(date,format){return moment(date).format(format)};Formula.MOMENTISLEAPYEAR=function(date,format){return moment(date,format).isLeapYear()};Formula.MOMENTISDST=function(date,format){return moment(date,format).isDST()};Formula.MOMENTSTARTOF=function(date,units,format){return moment(date,format).startOf(units).toDate()};Formula.MOMENTENDOF=function(date,units,format){return moment(date,format).endOf(units).toDate()};Formula.MOMENTISAFTER=function(date1,date2,format){return moment(date1,format).isAfter(moment(date2,format))};Formula.MOMENTISBEFORE=function(date1,date2,format){return moment(date1,format).isBefore(moment(date2,format))};Formula.INTERVAL=function(second){var year=Math.floor(second/946080000);second=second%946080000;var month=Math.floor(second/2592000);second=second%2592000;var day=Math.floor(second/86400);second=second%86400;var hour=Math.floor(second/3600);second=second%3600;var min=Math.floor(second/60);second=second%60;var sec=second;year=(year>0)?year+'Y':'';month=(month>0)?month+'M':'';day=(day>0)?day+'D':'';hour=(hour>0)?hour+'H':'';min=(min>0)?min+'M':'';sec=(sec>0)?sec+'S':'';return'P'+year+month+day+'T'+hour+min+sec};Formula.ARGSCONCAT=function(args){var result=[];for(var i=0;i<args.length;i++){result=result.concat(args[i])}
return result};Formula.ARGSTOARRAY=function(args){return Array.prototype.slice.call(args,0)};Formula.CLEANFLOAT=function(number){var power=Math.pow(10,14);return Math.round(number*power)/power};Formula.COUNTIN=function(range,value){var result=0;for(var i=0;i<range.length;i++){if(range[i]===value){result++}}
return result};Formula.FINDFIELD=function(database,title){var index=null;for(var i=0;i<database.length;i++){if(database[i][0]===title){index=i;break}}
if(index==null){return'#VALUE!'}
return index};Formula.FINDRESULTINDEX=function(database,criteria){var maxCriteriaLength=criteria[0].length;for(var i=1;i<criteria.length;i++){if(criteria[i].length>maxCriteriaLength){maxCriteriaLength=criteria[i].length}}
var columnResultIndexes=[];for(i=1;i<maxCriteriaLength;i++){var rowResultIndexes=[];for(var j=0;j<criteria.length;j++){if(criteria[j].length<maxCriteriaLength){continue}
var criteriaTitle=criteria[j][0];var criteriaIndex=Formula.FINDFIELD(database,criteriaTitle);var criteriaValues=_.rest(database[criteriaIndex]);var count=0;var singleResultIndexes=[];for(var k=0;k<criteriaValues.length;k++){if(eval(criteriaValues[k]+criteria[j][i])){singleResultIndexes[count++]=k}}
rowResultIndexes[j]=singleResultIndexes}
columnResultIndexes[i-1]=_.intersection.apply(_,rowResultIndexes)}
var resultIndexes=_.union.apply(_,columnResultIndexes);return resultIndexes};Formula.DAVERAGE=function(database,field,criteria){if(isNaN(field)&&(typeof field!=="string")){return'#VALUE!'}
var resultIndexes=Formula.FINDRESULTINDEX(database,criteria);var targetFields=[];if(typeof field==="string"){var index=Formula.FINDFIELD(database,field);targetFields=_.rest(database[index])}else{targetFields=_.rest(database[field])}
var sum=0;for(var i=0;i<resultIndexes.length;i++){sum+=targetFields[resultIndexes[i]]}
var average=Formula.IF(resultIndexes.length===0,"#DIV/0!",sum/resultIndexes.length);return average};Formula.DCOUNT=function(database,field,criteria){if(isNaN(field)&&(typeof field!=="string")){return'#VALUE!'}
var resultIndexes=Formula.FINDRESULTINDEX(database,criteria);var targetFields=[];if(typeof field==="string"){var index=Formula.FINDFIELD(database,field);targetFields=_.rest(database[index])}else{targetFields=_.rest(database[field])}
var targetValues=[];for(var i=0;i<resultIndexes.length;i++){targetValues[i]=targetFields[resultIndexes[i]]}
return Formula.COUNT(targetValues)};Formula.DCOUNTA=function(database,field,criteria){if(isNaN(field)&&(typeof field!=="string")){return'#VALUE!'}
var resultIndexes=Formula.FINDRESULTINDEX(database,criteria);var targetFields=[];if(typeof field==="string"){var index=Formula.FINDFIELD(database,field);targetFields=_.rest(database[index])}else{targetFields=_.rest(database[field])}
var targetValues=[];for(var i=0;i<resultIndexes.length;i++){targetValues[i]=targetFields[resultIndexes[i]]}
return Formula.COUNTA(targetValues)};Formula.DGET=function(database,field,criteria){if(isNaN(field)&&(typeof field!=="string")){return'#VALUE!'}
var resultIndexes=Formula.FINDRESULTINDEX(database,criteria);var targetFields=[];if(typeof field==="string"){var index=Formula.FINDFIELD(database,field);targetFields=_.rest(database[index])}else{targetFields=_.rest(database[field])}
if(resultIndexes.length===0){return'#VALUE!'}
if(resultIndexes.length>1){return'#NUM!'}
return targetFields[resultIndexes[0]]};Formula.DMAX=function(database,field,criteria){if(isNaN(field)&&(typeof field!=="string")){return'#VALUE!'}
var resultIndexes=Formula.FINDRESULTINDEX(database,criteria);var targetFields=[];if(typeof field==="string"){var index=Formula.FINDFIELD(database,field);targetFields=_.rest(database[index])}else{targetFields=_.rest(database[field])}
var maxValue=targetFields[resultIndexes[0]];for(var i=1;i<resultIndexes.length;i++){if(maxValue<targetFields[resultIndexes[i]]){maxValue=targetFields[resultIndexes[i]]}}
return maxValue};Formula.DMIN=function(database,field,criteria){if(isNaN(field)&&(typeof field!=="string")){return'#VALUE!'}
var resultIndexes=Formula.FINDRESULTINDEX(database,criteria);var targetFields=[];if(typeof field==="string"){var index=Formula.FINDFIELD(database,field);targetFields=_.rest(database[index])}else{targetFields=_.rest(database[field])}
var minValue=targetFields[resultIndexes[0]];for(var i=1;i<resultIndexes.length;i++){if(minValue>targetFields[resultIndexes[i]]){minValue=targetFields[resultIndexes[i]]}}
return minValue};Formula.DPRODUCT=function(database,field,criteria){if(isNaN(field)&&(typeof field!=="string")){return'#VALUE!'}
var resultIndexes=Formula.FINDRESULTINDEX(database,criteria);var targetFields=[];if(typeof field==="string"){var index=Formula.FINDFIELD(database,field);targetFields=_.rest(database[index])}else{targetFields=_.rest(database[field])}
var targetValues=[];for(var i=0;i<resultIndexes.length;i++){targetValues[i]=targetFields[resultIndexes[i]]}
targetValues=_.compact(targetValues);var result=1;for(i=0;i<targetValues.length;i++){result*=targetValues[i]}
return result};Formula.DSTDEV=function(database,field,criteria){if(isNaN(field)&&(typeof field!=="string")){return'#VALUE!'}
var resultIndexes=Formula.FINDRESULTINDEX(database,criteria);var targetFields=[];if(typeof field==="string"){var index=Formula.FINDFIELD(database,field);targetFields=_.rest(database[index])}else{targetFields=_.rest(database[field])}
var targetValues=[];for(var i=0;i<resultIndexes.length;i++){targetValues[i]=targetFields[resultIndexes[i]]}
targetValues=_.compact(targetValues);return Formula.STDEVS(targetValues)};Formula.DSTDEVP=function(database,field,criteria){if(isNaN(field)&&(typeof field!=="string")){return'#VALUE!'}
var resultIndexes=Formula.FINDRESULTINDEX(database,criteria);var targetFields=[];if(typeof field==="string"){var index=Formula.FINDFIELD(database,field);targetFields=_.rest(database[index])}else{targetFields=_.rest(database[field])}
var targetValues=[];for(var i=0;i<resultIndexes.length;i++){targetValues[i]=targetFields[resultIndexes[i]]}
targetValues=_.compact(targetValues);return Formula.STDEVP(targetValues)};Formula.DSUM=function(database,field,criteria){if(isNaN(field)&&(typeof field!=="string")){return'#VALUE!'}
var resultIndexes=Formula.FINDRESULTINDEX(database,criteria);var targetFields=[];if(typeof field==="string"){var index=Formula.FINDFIELD(database,field);targetFields=_.rest(database[index])}else{targetFields=_.rest(database[field])}
var targetValues=[];for(var i=0;i<resultIndexes.length;i++){targetValues[i]=targetFields[resultIndexes[i]]}
return Formula.SUM(targetValues)};Formula.DVAR=function(database,field,criteria){if(isNaN(field)&&(typeof field!=="string")){return'#VALUE!'}
var resultIndexes=Formula.FINDRESULTINDEX(database,criteria);var targetFields=[];if(typeof field==="string"){var index=Formula.FINDFIELD(database,field);targetFields=_.rest(database[index])}else{targetFields=_.rest(database[field])}
var targetValues=[];for(var i=0;i<resultIndexes.length;i++){targetValues[i]=targetFields[resultIndexes[i]]}
return Formula.VARS(targetValues)};Formula.DVARP=function(database,field,criteria){if(isNaN(field)&&(typeof field!=="string")){return'#VALUE!'}
var resultIndexes=Formula.FINDRESULTINDEX(database,criteria);var targetFields=[];if(typeof field==="string"){var index=Formula.FINDFIELD(database,field);targetFields=_.rest(database[index])}else{targetFields=_.rest(database[field])}
var targetValues=[];for(var i=0;i<resultIndexes.length;i++){targetValues[i]=targetFields[resultIndexes[i]]}
return Formula.VARP(targetValues)};Formula.GETJSON=function(file){var request=new XMLHttpRequest();request.open('GET',file,!1);request.send(null);if(request.status===200){return JSON.parse(request.responseText)}};Formula.DATE=function(){var args=arguments;if(!args.length){return moment().format(window.supsystic.Tables._dateFormat)}
if(args.length===3){args[1]=args[1]-1;return moment(new Date(args[0],args[1],args[2])).format(window.supsystic.Tables._dateFormat)}
return'N/A'};Formula.DATEVALUE=function(date_text){return Math.ceil((moment(date_text,window.supsystic.Tables._dateFormat)-moment('1900-01-01','YYYY-MM-DD'))/86400000)+2};Formula.DAY=function(date){return moment(date,window.supsystic.Tables._dateFormat).date()};Formula.DAYS=function(end_date,start_date){return moment(end_date,window.supsystic.Tables._dateFormat).diff(moment(start_date,window.supsystic.Tables._dateFormat),'days')};Formula.DAYS360=function(start_date,end_date,method){var start=moment(start_date,window.supsystic.Tables._dateFormat);var end=moment(end_date,window.supsystic.Tables._dateFormat);var smd=31;var emd=31;var sd=start.date();var ed=end.date();if(method){sd=(sd===31)?30:sd;ed=(ed===31)?30:ed}else{if(start.month()===1){smd=start.daysInMonth()}
if(end.month()===1){emd=end.daysInMonth()}
sd=(sd===smd)?30:sd;if(sd===30||sd===smd){ed=(ed===emd)?30:ed}}
return 360*(end.year()-start.year())+30*(end.month()-start.month())+(ed-sd)};Formula.EDATE=function(start_date,months){return moment(start_date,window.supsystic.Tables._dateFormat).add(months,'months').format(window.supsystic.Tables._dateFormat)};Formula.EOMONTH=function(start_date,months){var edate=moment(start_date,window.supsystic.Tables._dateFormat).add(months,'months').toDate(),ndate=new Date(edate.getFullYear(),edate.getMonth(),new Date(edate.getFullYear(),edate.getMonth()+1,0).getDate());return moment(ndate).format(window.supsystic.Tables._dateFormat)};Formula.FROMNOW=function(timestamp,nosuffix){return moment(new Date(timestamp)).fromNow(nosuffix)};Formula.HOUR=function(timestamp){if(isNaN(timestamp)){return moment(timestamp,window.supsystic.Tables._timeFormat).hours()}else{return(timestamp<=1)?Math.floor(24*timestamp):new Date(timestamp).getHours()}};Formula.MINUTE=function(timestamp){if(isNaN(timestamp)){return moment(timestamp,window.supsystic.Tables._timeFormat).minutes()}else{return(timestamp<=1)?Math.floor(24*60*timestamp)-60*Math.floor(24*timestamp):new Date(timestamp).getMinutes()}};Formula.ISOWEEKNUM=function(date){return moment(date,window.supsystic.Tables._dateFormat).isoWeek()};Formula.MONTH=function(timestamp){if(isNaN(timestamp)){return moment(timestamp,window.supsystic.Tables._dateFormat).month()+1}else{return new Date(timestamp).getMonth()+1}};Formula.NETWORKDAYS=function(start_date,end_date,holidays){return Formula.NETWORKDAYSINTL(start_date,end_date,1,holidays)};Formula.NETWORKDAYSINTL=function(start_date,end_date,weekend,holidays){var weekend_type=(typeof weekend==='undefined')?1:weekend;var weekend_days=WEEKEND_TYPES[weekend_type];var sd=moment(start_date);var ed=moment(end_date);var net_days=ed.diff(sd,'days')+1;var net_work_days=net_days;var cd=sd;var holiday_dates=[];if(typeof holidays!=='undefined'){for(var i=0;i<holidays.length;i++){holiday_dates[i]=moment(new Date(holidays[i])).format('MM-DD-YYYY')}}
if(!weekend_days.length&&!holiday_dates.length){return net_work_days}
var j=0;while(j<net_days){if(weekend_days.indexOf(parseInt(cd.format('d'),10))>=0){net_work_days--}else if(holiday_dates.indexOf(cd.format('MM-DD-YYYY'))>=0){net_work_days--}
cd=cd.add('days',1);j++}
return net_work_days};Formula.NOW=function(){return moment().format(window.supsystic.Tables._dateFormat)};Formula.SECOND=function(timestamp){return new Date(timestamp).getSeconds()};Formula.TIME=function(hour,minute,second){return(3600*hour+60*minute+second)/86400};Formula.TIMEVALUE=function(time_text){var timestamp=new Date(time_text);return(3600*timestamp.getHours()+60*timestamp.getMinutes()+timestamp.getSeconds())/86400};Formula.TODAY=Formula.NOW;Formula.WEEKDAY=function(date,type){var week_day=moment(new Date(date)).format('d');var week_type=(typeof type==='undefined')?1:type;return WEEK_TYPES[week_type][week_day]};Formula.WEEKNUM=function(date,type){var current_date=moment(new Date(date));var january_first=moment(new Date(current_date.year(),0,1));var week_type=(typeof type==='undefined')?1:type;var week_start=WEEK_STARTS[week_type];var first_day=january_first.format('d');var offset=(first_day<week_start)?week_start-first_day+1:first_day-week_start;if(week_type===21){return Formula.ISOWEEKNUM(date)}else{return Math.floor(current_date.diff(january_first.subtract('days',offset),'days')/7)+1}};Formula.WORKDAY=function(start_date,days,holidays){return Formula.WORKDAYINTL(start_date,days,1,holidays)};Formula.WORKDAYINTL=function(start_date,days,weekend,holidays){var weekend_type=(typeof weekend==='undefined')?1:weekend;var weekend_days=WEEKEND_TYPES[weekend_type];var sd=moment(new Date(start_date));var cd=sd;var day_of_week='';var holiday_dates=[];if(typeof holidays!=='undefined'){for(var i=0;i<holidays.length;i++){holiday_dates[i]=moment(new Date(holidays[i])).format('MM-DD-YYYY')}}
var j=0;while(j<days){cd=cd.add('days',1);day_of_week=cd.format('d');if(weekend_days.indexOf(parseInt(day_of_week,10))<0&&holiday_dates.indexOf(cd.format('MM-DD-YYYY'))<0){j++}}
return cd.toDate()};Formula.YEAR=function(date){return new Date(date).getFullYear()};Formula.YEARFRAC=function(start_date,end_date,basis){basis=(typeof basis==='undefined')?0:basis;var sdate=moment(new Date(start_date));var edate=moment(new Date(end_date));if(!sdate.isValid()||!edate.isValid()){return'#VALUE!'}
if([0,1,2,3,4].indexOf(basis)===-1){return'#NUM!'}
if(sdate===edate){return 0}
if(sdate.diff(edate)>0){edate=moment(new Date(start_date));sdate=moment(new Date(end_date))}
var syear=sdate.year();var smonth=sdate.month();var sday=sdate.date();var eyear=edate.year();var emonth=edate.month();var eday=edate.date();switch(basis){case 0:if(sday===31&&eday===31){sday=30;eday=30}else if(sday===31){sday=30}else if(sday===30&&eday===31){eday=30}else if(smonth===1&&emonth===1&&sdate.daysInMonth()===sday&&edate.daysInMonth()===eday){sday=30;eday=30}else if(smonth===1&&sdate.daysInMonth()===sday){sday=30}
return((eday+emonth*30+eyear*360)-(sday+smonth*30+syear*360))/360;case 1:var feb29Between=function(date1,date2){var mar1year1=moment(new Date(date1.year(),2,1));if(moment([date1.year()]).isLeapYear()&&date1.diff(mar1year1)<0&&date2.diff(mar1year1)>=0){return!0}
var mar1year2=moment(new Date(date2.year(),2,1));if(moment([date2.year()]).isLeapYear()&&date2.diff(mar1year2)>=0&&date1.diff(mar1year2)<0){return!0}
return!1};var ylength=365;if(syear===eyear||((syear+1)===eyear)&&((smonth>emonth)||((smonth===emonth)&&(sday>=eday)))){if(syear===eyear&&moment([syear]).isLeapYear()){ylength=366}else if(feb29Between(sdate,edate)||(emonth===1&&eday===29)){ylength=366}
return edate.diff(sdate,'days')/ylength}else{var years=(eyear-syear)+1;var days=moment(new Date(eyear+1,0,1)).diff(moment(new Date(syear,0,1)),'days');var average=days/years;return edate.diff(sdate,'days')/average}
break;case 2:return edate.diff(sdate,'days')/360;case 3:return edate.diff(sdate,'days')/365;case 4:if(sday===31){sday=30}
if(eday===31){eday=30}
return((eday+emonth*30+eyear*360)-(sday+smonth*30+syear*360))/360}};Formula.BESSELI=(function(){function horner(arr,v){return arr.reduce(function(z,w){return v*z+w},0)}
var b0_a=[1.0,3.5156229,3.0899424,1.2067492,0.2659732,0.360768e-1,0.45813e-2].reverse();var b0_b=[0.39894228,0.1328592e-1,0.225319e-2,-0.157565e-2,0.916281e-2,-0.2057706e-1,0.2635537e-1,-0.1647633e-1,0.392377e-2].reverse();function bessel0(x){if(x<=3.75){return horner(b0_a,x*x/(3.75*3.75))}
return Math.exp(Math.abs(x))/Math.sqrt(Math.abs(x))*horner(b0_b,3.75/Math.abs(x))}
var b1_a=[0.5,0.87890594,0.51498869,0.15084934,0.2658733e-1,0.301532e-2,0.32411e-3].reverse();var b1_b=[0.39894228,-0.3988024e-1,-0.362018e-2,0.163801e-2,-0.1031555e-1,0.2282967e-1,-0.2895312e-1,0.1787654e-1,-0.420059e-2].reverse();function bessel1(x){if(x<3.75){return x*horner(b1_a,x*x/(3.75*3.75))}
return(x<0?-1:1)*Math.exp(Math.abs(x))/Math.sqrt(Math.abs(x))*horner(b1_b,3.75/Math.abs(x))}
return function besseli(x,n){n=Math.round(n);if(n===0){return bessel0(x)}
if(n===1){return bessel1(x)}
if(n<0){throw 'BESSELI Order ('+n+') must be nonnegative'}
if(Math.abs(x)===0){return 0}
var ret,j,tox=2/Math.abs(x),m,bip,bi,bim;m=2*Math.round((n+Math.round(Math.sqrt(40*n)))/2);bip=ret=0.0;bi=1.0;for(j=m;j>0;j--){bim=j*tox*bi+bip;bip=bi;bi=bim;if(Math.abs(bi)>1E10){bi*=1E-10;bip*=1E-10;ret*=1E-10}
if(j===n){ret=bip}}
ret*=besseli(x,0)/bi;return x<0&&(n%2)?-ret:ret}})();Formula.BESSELJ=(function(){function horner(arr,v){return arr.reduce(function(z,w){return v*z+w},0)}
var b0_a1a=[57568490574.0,-13362590354.0,651619640.7,-11214424.18,77392.33017,-184.9052456].reverse();var b0_a2a=[57568490411.0,1029532985.0,9494680.718,59272.64853,267.8532712,1.0].reverse();var b0_a1b=[1.0,-0.1098628627e-2,0.2734510407e-4,-0.2073370639e-5,0.2093887211e-6].reverse();var b0_a2b=[-0.1562499995e-1,0.1430488765e-3,-0.6911147651e-5,0.7621095161e-6,-0.934935152e-7].reverse();var W=0.636619772;function bessel0(x){var a,a1,a2,y=x*x,xx=Math.abs(x)-0.785398164;if(Math.abs(x)<8){a1=horner(b0_a1a,y);a2=horner(b0_a2a,y);a=a1/a2}else{y=64/y;a1=horner(b0_a1b,y);a2=horner(b0_a2b,y);a=Math.sqrt(W/Math.abs(x))*(Math.cos(xx)*a1-Math.sin(xx)*a2*8/Math.abs(x))}
return a}
var b1_a1a=[72362614232.0,-7895059235.0,242396853.1,-2972611.439,15704.48260,-30.16036606].reverse();var b1_a2a=[144725228442.0,2300535178.0,18583304.74,99447.43394,376.9991397,1.0].reverse();var b1_a1b=[1.0,0.183105e-2,-0.3516396496e-4,0.2457520174e-5,-0.240337019e-6].reverse();var b1_a2b=[0.04687499995,-0.2002690873e-3,0.8449199096e-5,-0.88228987e-6,0.105787412e-6].reverse();function bessel1(x){var a,a1,a2,y=x*x,xx=Math.abs(x)-2.356194491;if(Math.abs(x)<8){a1=x*horner(b1_a1a,y);a2=horner(b1_a2a,y);a=a1/a2}else{y=64/y;a1=horner(b1_a1b,y);a2=horner(b1_a2b,y);a=Math.sqrt(W/Math.abs(x))*(Math.cos(xx)*a1-Math.sin(xx)*a2*8/Math.abs(x));if(x<0){a=-a}}
return a}
function _bessel_iter(x,n,f0,f1,sign){if(!sign){sign=-1}
var tdx=2/x,f2;if(n===0){return f0}
if(n===1){return f1}
for(var o=1;o!==n;++o){f2=f1*o*tdx+sign*f0;f0=f1;f1=f2}
return f1}
return function besselj(x,n){n=Math.round(n);if(n===0){return bessel0(Math.abs(x))}
if(n===1){return bessel1(Math.abs(x))}
if(n<0){throw 'BESSELJ: Order ('+n+') must be nonnegative'}
if(Math.abs(x)===0){return 0}
var ret,j,tox=2/Math.abs(x),m,jsum,sum,bjp,bj,bjm;if(Math.abs(x)>n){ret=_bessel_iter(x,n,bessel0(Math.abs(x)),bessel1(Math.abs(x)),-1)}else{m=2*Math.floor((n+Math.floor(Math.sqrt(40*n)))/2);jsum=0;bjp=ret=sum=0.0;bj=1.0;for(j=m;j>0;j--){bjm=j*tox*bj-bjp;bjp=bj;bj=bjm;if(Math.abs(bj)>1E10){bj*=1E-10;bjp*=1E-10;ret*=1E-10;sum*=1E-10}
if(jsum){sum+=bj}
jsum=!jsum;if(j===n){ret=bjp}}
sum=2.0*sum-bj;ret/=sum}
return x<0&&(n%2)?-ret:ret}})();Formula.BESSELK=(function(){function horner(arr,v){return arr.reduce(function(z,w){return v*z+w},0)}
var b0_a=[-0.57721566,0.42278420,0.23069756,0.3488590e-1,0.262698e-2,0.10750e-3,0.74e-5].reverse();var b0_b=[1.25331414,-0.7832358e-1,0.2189568e-1,-0.1062446e-1,0.587872e-2,-0.251540e-2,0.53208e-3].reverse();function bessel0(x){if(x<=2){return-Math.log(x/2)*Formula.BESSELI(x,0)+horner(b0_a,x*x/4)}
return Math.exp(-x)/Math.sqrt(x)*horner(b0_b,2/x)}
var b1_a=[1.0,0.15443144,-0.67278579,-0.18156897,-0.1919402e-1,-0.110404e-2,-0.4686e-4].reverse();var b1_b=[1.25331414,0.23498619,-0.3655620e-1,0.1504268e-1,-0.780353e-2,0.325614e-2,-0.68245e-3].reverse();function bessel1(x){if(x<=2){return Math.log(x/2)*Formula.BESSELI(x,1)+(1/x)*horner(b1_a,x*x/4)}
return Math.exp(-x)/Math.sqrt(x)*horner(b1_b,2/x)}
function _bessel_iter(x,n,f0,f1,sign){if(!sign){sign=-1}
var tdx=2/x,f2;if(n===0){return f0}
if(n===1){return f1}
for(var o=1;o!==n;++o){f2=f1*o*tdx+sign*f0;f0=f1;f1=f2}
return f1}
function _bessel_wrap(bessel0,bessel1,name,nonzero,sign){return function bessel(x,n){if(n===0){return bessel0(x)}
if(n===1){return bessel1(x)}
if(n<0){throw name+': Order ('+n+') must be nonnegative'}
if(nonzero===1&&x===0){throw name+': Undefined when x == 0'}
if(nonzero===2&&x<=0){throw name+': Undefined when x <= 0'}
var b0=bessel0(x),b1=bessel1(x);return _bessel_iter(x,n,b0,b1,sign)}}
return _bessel_wrap(bessel0,bessel1,'BESSELK',2,1)})();Formula.BESSELY=(function(){function horner(arr,v){return arr.reduce(function(z,w){return v*z+w},0)}
var b0_a1a=[-2957821389.0,7062834065.0,-512359803.6,10879881.29,-86327.92757,228.4622733].reverse();var b0_a2a=[40076544269.0,745249964.8,7189466.438,47447.26470,226.1030244,1.0].reverse();var b0_a1b=[1.0,-0.1098628627e-2,0.2734510407e-4,-0.2073370639e-5,0.2093887211e-6].reverse();var b0_a2b=[-0.1562499995e-1,0.1430488765e-3,-0.6911147651e-5,0.7621095161e-6,-0.934945152e-7].reverse();var W=0.636619772;function bessel0(x){var a,a1,a2,y=x*x,xx=x-0.785398164;if(x<8){a1=horner(b0_a1a,y);a2=horner(b0_a2a,y);a=a1/a2+W*Formula.BESSELJ(x,0)*Math.log(x)}else{y=64/y;a1=horner(b0_a1b,y);a2=horner(b0_a2b,y);a=Math.sqrt(W/x)*(Math.sin(xx)*a1+Math.cos(xx)*a2*8/x)}
return a}
var b1_a1a=[-0.4900604943e13,0.1275274390e13,-0.5153438139e11,0.7349264551e9,-0.4237922726e7,0.8511937935e4].reverse();var b1_a2a=[0.2499580570e14,0.4244419664e12,0.3733650367e10,0.2245904002e8,0.1020426050e6,0.3549632885e3,1].reverse();var b1_a1b=[1.0,0.183105e-2,-0.3516396496e-4,0.2457520174e-5,-0.240337019e-6].reverse();var b1_a2b=[0.04687499995,-0.2002690873e-3,0.8449199096e-5,-0.88228987e-6,0.105787412e-6].reverse();function bessel1(x){var a,a1,a2,y=x*x,xx=x-2.356194491;if(x<8){a1=x*horner(b1_a1a,y);a2=horner(b1_a2a,y);a=a1/a2+W*(Formula.BESSELJ(x,1)*Math.log(x)-1/x)}else{y=64/y;a1=horner(b1_a1b,y);a2=horner(b1_a2b,y);a=Math.sqrt(W/x)*(Math.sin(xx)*a1+Math.cos(xx)*a2*8/x)}
return a}
function _bessel_iter(x,n,f0,f1,sign){if(!sign){sign=-1}
var tdx=2/x,f2;if(n===0){return f0}
if(n===1){return f1}
for(var o=1;o!==n;++o){f2=f1*o*tdx+sign*f0;f0=f1;f1=f2}
return f1}
function _bessel_wrap(bessel0,bessel1,name,nonzero,sign){return function bessel(x,n){if(n===0){return bessel0(x)}
if(n===1){return bessel1(x)}
if(n<0){throw name+': Order ('+n+') must be nonnegative'}
if(nonzero===1&&x===0){throw name+': Undefined when x == 0'}
if(nonzero===2&&x<=0){throw name+': Undefined when x <= 0'}
var b0=bessel0(x),b1=bessel1(x);return _bessel_iter(x,n,b0,b1,sign)}}
return _bessel_wrap(bessel0,bessel1,'BESSELY',1,-1)})();Formula.VALIDBIN=function(number){return(/^[01]{1,10}$/).test(number)};Formula.BIN2DEC=function(number){if(!Formula.VALIDBIN(number)){return'#NUM!'}
var result=parseInt(number,2);var stringified=number.toString();if(stringified.length===10&&stringified.substring(0,1)==='1'){return parseInt(stringified.substring(1),2)-512}else{return result}};Formula.BIN2HEX=function(number,places){if(!Formula.VALIDBIN(number)){return'#NUM!'}
var stringified=number.toString();if(stringified.length===10&&stringified.substring(0,1)==='1'){return(1099511627264+parseInt(stringified.substring(1),2)).toString(16)}
var result=parseInt(number,2).toString(16);if(typeof places==='undefined'){return result}else{if(isNaN(places)){return'#VALUE!'}
if(places<0){return'#NUM!'}
places=Math.floor(places);return(places>=result.length)?_s.repeat('0',places-result.length)+result:'#NUM!'}};Formula.BIN2OCT=function(number,places){if(!Formula.VALIDBIN(number)){return'#NUM!'}
var stringified=number.toString();if(stringified.length===10&&stringified.substring(0,1)==='1'){return(1073741312+parseInt(stringified.substring(1),2)).toString(8)}
var result=parseInt(number,2).toString(8);if(typeof places==='undefined'){return result}else{if(isNaN(places)){return'#VALUE!'}
if(places<0){return'#NUM!'}
places=Math.floor(places);return(places>=result.length)?_s.repeat('0',places-result.length)+result:'#NUM!'}};Formula.BITAND=function(number1,number2){if(isNaN(number1)||isNaN(number2)){return'#VALUE!'}
if(number1<0||number2<0){return'#NUM!'}
if(Math.floor(number1)!==number1||Math.floor(number2)!==number2){return'#NUM!'}
if(number1>281474976710655||number2>281474976710655){return'#NUM!'}
return number1&number2};Formula.BITLSHIFT=function(number,shift){if(isNaN(number)||isNaN(shift)){return'#VALUE!'}
if(number<0){return'#NUM!'}
if(Math.floor(number)!==number){return'#NUM!'}
if(number>281474976710655){return'#NUM!'}
if(Math.abs(shift)>53){return'#NUM!'}
return(shift>=0)?number<<shift:number>>-shift};Formula.BITOR=function(number1,number2){if(isNaN(number1)||isNaN(number2)){return'#VALUE!'}
if(number1<0||number2<0){return'#NUM!'}
if(Math.floor(number1)!==number1||Math.floor(number2)!==number2){return'#NUM!'}
if(number1>281474976710655||number2>281474976710655){return'#NUM!'}
return number1|number2};Formula.BITRSHIFT=function(number,shift){if(isNaN(number)||isNaN(shift)){return'#VALUE!'}
if(number<0){return'#NUM!'}
if(Math.floor(number)!==number){return'#NUM!'}
if(number>281474976710655){return'#NUM!'}
if(Math.abs(shift)>53){return'#NUM!'}
return(shift>=0)?number>>shift:number<<-shift};Formula.BITXOR=function(number1,number2){if(isNaN(number1)||isNaN(number2)){return'#VALUE!'}
if(number1<0||number2<0){return'#NUM!'}
if(Math.floor(number1)!==number1||Math.floor(number2)!==number2){return'#NUM!'}
if(number1>281474976710655||number2>281474976710655){return'#NUM!'}
return number1^number2};Formula.COMPLEX=function(real,imaginary,suffix){if(isNaN(real)||isNaN(imaginary)){return'#VALUE!'}
suffix=(typeof suffix==='undefined')?'i':suffix;if(suffix!=='i'&&suffix!=='j'){return'#VALUE!'}
if(real===0&&imaginary===0){return 0}else if(real===0){return(imaginary===1)?suffix:imaginary.toString()+suffix}else if(imaginary===0){return real.toString()}else{var sign=(imaginary>0)?'+':'';return real.toString()+sign+((imaginary===1)?suffix:imaginary.toString()+suffix)}};Formula.CONVERT=function(number,from_unit,to_unit){if(isNaN(number)){return'#VALUE!'}
var units=[["a.u. of action","?",null,"action",!1,!1,1.05457168181818e-34],["a.u. of charge","e",null,"electric_charge",!1,!1,1.60217653141414e-19],["a.u. of energy","Eh",null,"energy",!1,!1,4.35974417757576e-18],["a.u. of length","a?",null,"length",!1,!1,5.29177210818182e-11],["a.u. of mass","m?",null,"mass",!1,!1,9.10938261616162e-31],["a.u. of time","?/Eh",null,"time",!1,!1,2.41888432650516e-17],["admiralty knot","admkn",null,"speed",!1,!0,0.514773333],["ampere","A",null,"electric_current",!0,!1,1],["ampere per meter","A/m",null,"magnetic_field_intensity",!0,!1,1],["Ã¥ngstrÃ¶m","Ã",["ang"],"length",!1,!0,1e-10],["are","ar",null,"area",!1,!0,100],["astronomical unit","ua",null,"length",!1,!1,1.49597870691667e-11],["bar","bar",null,"pressure",!1,!1,100000],["barn","b",null,"area",!1,!1,1e-28],["becquerel","Bq",null,"radioactivity",!0,!1,1],["bit","bit",["b"],"information",!1,!0,1],["btu","BTU",["btu"],"energy",!1,!0,1055.05585262],["byte","byte",null,"information",!1,!0,8],["candela","cd",null,"luminous_intensity",!0,!1,1],["candela per square metre","cd/m?",null,"luminance",!0,!1,1],["coulomb","C",null,"electric_charge",!0,!1,1],["cubic Ã¥ngstrÃ¶m","ang3",["ang^3"],"volume",!1,!0,1e-30],["cubic foot","ft3",["ft^3"],"volume",!1,!0,0.028316846592],["cubic inch","in3",["in^3"],"volume",!1,!0,0.000016387064],["cubic light-year","ly3",["ly^3"],"volume",!1,!0,8.46786664623715e-47],["cubic metre","m?",null,"volume",!0,!0,1],["cubic mile","mi3",["mi^3"],"volume",!1,!0,4168181825.44058],["cubic nautical mile","Nmi3",["Nmi^3"],"volume",!1,!0,6352182208],["cubic Pica","Pica3",["Picapt3","Pica^3","Picapt^3"],"volume",!1,!0,7.58660370370369e-8],["cubic yard","yd3",["yd^3"],"volume",!1,!0,0.764554857984],["cup","cup",null,"volume",!1,!0,0.0002365882365],["dalton","Da",["u"],"mass",!1,!1,1.66053886282828e-27],["day","d",["day"],"time",!1,!0,86400],["degree","Â°",null,"angle",!1,!1,0.0174532925199433],["degrees Rankine","Rank",null,"temperature",!1,!0,0.555555555555556],["dyne","dyn",["dy"],"force",!1,!0,0.00001],["electronvolt","eV",["ev"],"energy",!1,!0,1.60217656514141],["ell","ell",null,"length",!1,!0,1.143],["erg","erg",["e"],"energy",!1,!0,1e-7],["farad","F",null,"electric_capacitance",!0,!1,1],["fluid ounce","oz",null,"volume",!1,!0,0.0000295735295625],["foot","ft",null,"length",!1,!0,0.3048],["foot-pound","flb",null,"energy",!1,!0,1.3558179483314],["gal","Gal",null,"acceleration",!1,!1,0.01],["gallon","gal",null,"volume",!1,!0,0.003785411784],["gauss","G",["ga"],"magnetic_flux_density",!1,!0,1],["grain","grain",null,"mass",!1,!0,0.0000647989],["gram","g",null,"mass",!1,!0,0.001],["gray","Gy",null,"absorbed_dose",!0,!1,1],["gross registered ton","GRT",["regton"],"volume",!1,!0,2.8316846592],["hectare","ha",null,"area",!1,!0,10000],["henry","H",null,"inductance",!0,!1,1],["hertz","Hz",null,"frequency",!0,!1,1],["horsepower","HP",["h"],"power",!1,!0,745.69987158227],["horsepower-hour","HPh",["hh","hph"],"energy",!1,!0,2684519.538],["hour","h",["hr"],"time",!1,!0,3600],["imperial gallon (U.K.)","uk_gal",null,"volume",!1,!0,0.00454609],["imperial hundredweight","lcwt",["uk_cwt","hweight"],"mass",!1,!0,50.802345],["imperial quart (U.K)","uk_qt",null,"volume",!1,!0,0.0011365225],["imperial ton","brton",["uk_ton","LTON"],"mass",!1,!0,1016.046909],["inch","in",null,"length",!1,!0,0.0254],["international acre","uk_acre",null,"area",!1,!0,4046.8564224],["IT calorie","cal",null,"energy",!1,!0,4.1868],["joule","J",null,"energy",!0,!0,1],["katal","kat",null,"catalytic_activity",!0,!1,1],["kelvin","K",["kel"],"temperature",!0,!0,1],["kilogram","kg",null,"mass",!0,!0,1],["knot","kn",null,"speed",!1,!0,0.514444444444444],["light-year","ly",null,"length",!1,!0,9460730472580800],["litre","L",["l","lt"],"volume",!1,!0,0.001],["lumen","lm",null,"luminous_flux",!0,!1,1],["lux","lx",null,"illuminance",!0,!1,1],["maxwell","Mx",null,"magnetic_flux",!1,!1,1e-18],["measurement ton","MTON",null,"volume",!1,!0,1.13267386368],["meter per hour","m/h",["m/hr"],"speed",!1,!0,0.00027777777777778],["meter per second","m/s",["m/sec"],"speed",!0,!0,1],["meter per second squared","m?s??",null,"acceleration",!0,!1,1],["parsec","pc",["parsec"],"length",!1,!0,30856775814671900],["meter squared per second","m?/s",null,"kinematic_viscosity",!0,!1,1],["metre","m",null,"length",!0,!0,1],["miles per hour","mph",null,"speed",!1,!0,0.44704],["millimetre of mercury","mmHg",null,"pressure",!1,!1,133.322],["minute","?",null,"angle",!1,!1,0.000290888208665722],["minute","min",["mn"],"time",!1,!0,60],["modern teaspoon","tspm",null,"volume",!1,!0,0.000005],["mole","mol",null,"amount_of_substance",!0,!1,1],["morgen","Morgen",null,"area",!1,!0,2500],["n.u. of action","?",null,"action",!1,!1,1.05457168181818e-34],["n.u. of mass","m?",null,"mass",!1,!1,9.10938261616162e-31],["n.u. of speed","c?",null,"speed",!1,!1,299792458],["n.u. of time","?/(me?c??)",null,"time",!1,!1,1.28808866778687e-21],["nautical mile","M",["Nmi"],"length",!1,!0,1852],["newton","N",null,"force",!0,!0,1],["Årsted","Oe ",null,"magnetic_field_intensity",!1,!1,79.5774715459477],["ohm","Î©",null,"electric_resistance",!0,!1,1],["ounce mass","ozm",null,"mass",!1,!0,0.028349523125],["pascal","Pa",null,"pressure",!0,!1,1],["pascal second","Pa?s",null,"dynamic_viscosity",!0,!1,1],["pferdestÃ¤rke","PS",null,"power",!1,!0,735.49875],["phot","ph",null,"illuminance",!1,!1,0.0001],["pica (1/6 inch)","pica",null,"length",!1,!0,0.00035277777777778],["pica (1/72 inch)","Pica",["Picapt"],"length",!1,!0,0.00423333333333333],["poise","P",null,"dynamic_viscosity",!1,!1,0.1],["pond","pond",null,"force",!1,!0,0.00980665],["pound force","lbf",null,"force",!1,!0,4.4482216152605],["pound mass","lbm",null,"mass",!1,!0,0.45359237],["quart","qt",null,"volume",!1,!0,0.000946352946],["radian","rad",null,"angle",!0,!1,1],["second","?",null,"angle",!1,!1,0.00000484813681109536],["second","s",["sec"],"time",!0,!0,1],["short hundredweight","cwt",["shweight"],"mass",!1,!0,45.359237],["siemens","S",null,"electrical_conductance",!0,!1,1],["sievert","Sv",null,"equivalent_dose",!0,!1,1],["slug","sg",null,"mass",!1,!0,14.59390294],["square Ã¥ngstrÃ¶m","ang2",["ang^2"],"area",!1,!0,1e-20],["square foot","ft2",["ft^2"],"area",!1,!0,0.09290304],["square inch","in2",["in^2"],"area",!1,!0,0.00064516],["square light-year","ly2",["ly^2"],"area",!1,!0,8.95054210748189e+31],["square meter","m?",null,"area",!0,!0,1],["square mile","mi2",["mi^2"],"area",!1,!0,2589988.110336],["square nautical mile","Nmi2",["Nmi^2"],"area",!1,!0,3429904],["square Pica","Pica2",["Picapt2","Pica^2","Picapt^2"],"area",!1,!0,0.00001792111111111],["square yard","yd2",["yd^2"],"area",!1,!0,0.83612736],["statute mile","mi",null,"length",!1,!0,1609.344],["steradian","sr",null,"solid_angle",!0,!1,1],["stilb","sb",null,"luminance",!1,!1,0.0001],["stokes","St",null,"kinematic_viscosity",!1,!1,0.0001],["stone","stone",null,"mass",!1,!0,6.35029318],["tablespoon","tbs",null,"volume",!1,!0,0.0000147868],["teaspoon","tsp",null,"volume",!1,!0,0.00000492892],["tesla","T",null,"magnetic_flux_density",!0,!0,1],["thermodynamic calorie","c",null,"energy",!1,!0,4.184],["ton","ton",null,"mass",!1,!0,907.18474],["tonne","t",null,"mass",!1,!1,1000],["U.K. pint","uk_pt",null,"volume",!1,!0,0.00056826125],["U.S. bushel","bushel",null,"volume",!1,!0,0.03523907],["U.S. oil barrel","barrel",null,"volume",!1,!0,0.158987295],["U.S. pint","pt",["us_pt"],"volume",!1,!0,0.000473176473],["U.S. survey mile","survey_mi",null,"length",!1,!0,1609.347219],["U.S. survey/statute acre","us_acre",null,"area",!1,!0,4046.87261],["volt","V",null,"voltage",!0,!1,1],["watt","W",null,"power",!0,!0,1],["watt-hour","Wh",["wh"],"energy",!1,!0,3600],["weber","Wb",null,"magnetic_flux",!0,!1,1],["yard","yd",null,"length",!1,!0,0.9144],["year","yr",null,"time",!1,!0,31557600]];var binary_prefixes={Yi:["yobi",80,1208925819614629174706176,"Yi","yotta"],Zi:["zebi",70,1180591620717411303424,"Zi","zetta"],Ei:["exbi",60,1152921504606846976,"Ei","exa"],Pi:["pebi",50,1125899906842624,"Pi","peta"],Ti:["tebi",40,1099511627776,"Ti","tera"],Gi:["gibi",30,1073741824,"Gi","giga"],Mi:["mebi",20,1048576,"Mi","mega"],ki:["kibi",10,1024,"ki","kilo"]};var unit_prefixes={Y:["yotta",1e+24,"Y"],Z:["zetta",1e+21,"Z"],E:["exa",1e+18,"E"],P:["peta",1e+15,"P"],T:["tera",1e+12,"T"],G:["giga",1e+09,"G"],M:["mega",1e+06,"M"],k:["kilo",1e+03,"k"],h:["hecto",1e+02,"h"],e:["dekao",1e+01,"e"],d:["deci",1e-01,"d"],c:["centi",1e-02,"c"],m:["milli",1e-03,"m"],u:["micro",1e-06,"u"],n:["nano",1e-09,"n"],p:["pico",1e-12,"p"],f:["femto",1e-15,"f"],a:["atto",1e-18,"a"],z:["zepto",1e-21,"z"],y:["yocto",1e-24,"y"]};var from=null;var to=null;var base_from_unit=from_unit;var base_to_unit=to_unit;var from_multiplier=1;var to_multiplier=1;var alt;for(var i=0;i<units.length;i++){alt=(units[i][2]===null)?[]:units[i][2];if(units[i][1]===base_from_unit||alt.indexOf(base_from_unit)>=0){from=units[i]}
if(units[i][1]===base_to_unit||alt.indexOf(base_to_unit)>=0){to=units[i]}}
if(from===null){var from_binary_prefix=binary_prefixes[from_unit.substring(0,2)];var from_unit_prefix=unit_prefixes[from_unit.substring(0,1)];if(from_unit.substring(0,2)==='da'){from_unit_prefix=["dekao",1e+01,"da"]}
if(from_binary_prefix){from_multiplier=from_binary_prefix[2];base_from_unit=from_unit.substring(2)}else if(from_unit_prefix){from_multiplier=from_unit_prefix[1];base_from_unit=from_unit.substring(from_unit_prefix[2].length)}
for(var j=0;j<units.length;j++){alt=(units[j][2]===null)?[]:units[j][2];if(units[j][1]===base_from_unit||alt.indexOf(base_from_unit)>=0){from=units[j]}}}
if(to===null){var to_binary_prefix=binary_prefixes[to_unit.substring(0,2)];var to_unit_prefix=unit_prefixes[to_unit.substring(0,1)];if(to_unit.substring(0,2)==='da'){to_unit_prefix=["dekao",1e+01,"da"]}
if(to_binary_prefix){to_multiplier=to_binary_prefix[2];base_to_unit=to_unit.substring(2)}else if(to_unit_prefix){to_multiplier=to_unit_prefix[1];base_to_unit=to_unit.substring(to_unit_prefix[2].length)}
for(var k=0;k<units.length;k++){alt=(units[k][2]===null)?[]:units[k][2];if(units[k][1]===base_to_unit||alt.indexOf(base_to_unit)>=0){to=units[k]}}}
if(from===null||to===null){return'#N/A'}
if(from[3]!==to[3]){return'#N/A'}
return number*from[6]*from_multiplier/(to[6]*to_multiplier)};Formula.DEC2BIN=function(number,places){if(isNaN(number)){return'#VALUE!'}
if(!/^-?[0-9]{1,3}$/.test(number)||number<-512||number>511){return'#NUM!'}
if(number<0){return'1'+_s.repeat('0',9-(512+number).toString(2).length)+(512+number).toString(2)}
var result=parseInt(number,10).toString(2);if(typeof places==='undefined'){return result}else{if(isNaN(places)){return'#VALUE!'}
if(places<0){return'#NUM!'}
places=Math.floor(places);return(places>=result.length)?_s.repeat('0',places-result.length)+result:'#NUM!'}};Formula.DEC2HEX=function(number,places){if(isNaN(number)){return'#VALUE!'}
if(!/^-?[0-9]{1,12}$/.test(number)||number<-549755813888||number>549755813887){return'#NUM!'}
if(number<0){return(1099511627776+number).toString(16)}
var result=parseInt(number,10).toString(16);if(typeof places==='undefined'){return result}else{if(isNaN(places)){return'#VALUE!'}
if(places<0){return'#NUM!'}
places=Math.floor(places);return(places>=result.length)?_s.repeat('0',places-result.length)+result:'#NUM!'}};Formula.DEC2OCT=function(number,places){if(isNaN(number)){return'#VALUE!'}
if(!/^-?[0-9]{1,9}$/.test(number)||number<-536870912||number>536870911){return'#NUM!'}
if(number<0){return(1073741824+number).toString(8)}
var result=parseInt(number,10).toString(8);if(typeof places==='undefined'){return result}else{if(isNaN(places)){return'#VALUE!'}
if(places<0){return'#NUM!'}
places=Math.floor(places);return(places>=result.length)?_s.repeat('0',places-result.length)+result:'#NUM!'}};Formula.DELTA=function(number1,number2){number2=(typeof number2==='undefined')?0:number2;if(isNaN(number1)||isNaN(number2)){return'#VALUE!'}
return(number1===number2)?1:0};Formula.ERF=function(lower_bound,upper_bound){upper_bound=(typeof upper_bound==='undefined')?0:upper_bound;if(isNaN(lower_bound)||isNaN(upper_bound)){return'#VALUE!'}
return jStat.erf(lower_bound)};Formula.ERFC=function(x){if(isNaN(x)){return'#VALUE!'}
return jStat.erfc(x)};Formula.ERFCPRECISE=function(){return};Formula.ERFPRECISE=function(){return};Formula.GESTEP=function(number,step){step=(typeof step==='undefined')?0:step;if(isNaN(number)||isNaN(step)){return'#VALUE!'}
return(number>=step)?1:0};Formula.HEX2BIN=function(number,places){if(!/^[0-9A-Fa-f]{1,10}$/.test(number)){return'#NUM!'}
var negative=(number.length===10&&number.substring(0,1).toLowerCase()==='f')?!0:!1;var decimal=(negative)?parseInt(number,16)-1099511627776:parseInt(number,16);if(decimal<-512||decimal>511){return'#NUM!'}
if(negative){return'1'+_s.repeat('0',9-(512+decimal).toString(2).length)+(512+decimal).toString(2)}
var result=decimal.toString(2);if(typeof places==='undefined'){return result}else{if(isNaN(places)){return'#VALUE!'}
if(places<0){return'#NUM!'}
places=Math.floor(places);return(places>=result.length)?_s.repeat('0',places-result.length)+result:'#NUM!'}};Formula.HEX2DEC=function(number){if(!/^[0-9A-Fa-f]{1,10}$/.test(number)){return'#NUM!'}
var decimal=parseInt(number,16);return(decimal>=549755813888)?decimal-1099511627776:decimal};Formula.HEX2OCT=function(number,places){if(!/^[0-9A-Fa-f]{1,10}$/.test(number)){return'#NUM!'}
var decimal=parseInt(number,16);if(decimal>536870911&&decimal<1098974756864){return'#NUM!'}
if(decimal>=1098974756864){return(decimal-1098437885952).toString(8)}
var result=decimal.toString(8);if(typeof places==='undefined'){return result}else{if(isNaN(places)){return'#VALUE!'}
if(places<0){return'#NUM!'}
places=Math.floor(places);return(places>=result.length)?_s.repeat('0',places-result.length)+result:'#NUM!'}};Formula.IMABS=function(inumber){var x=Formula.IMREAL(inumber);var y=Formula.IMAGINARY(inumber);if(x==='#NUM!'||y==='#NUM!'){return'#NUM!'}
return Math.sqrt(Math.pow(x,2)+Math.pow(y,2))};Formula.IMAGINARY=function(inumber){if(inumber===0||inumber==='0'){return 0}
if(['i','j'].indexOf(inumber)>=0){return 1}
inumber=inumber.replace('+i','+1i').replace('-i','-1i').replace('+j','+1j').replace('-j','-1j');var plus=inumber.indexOf('+');var minus=inumber.indexOf('-');if(plus===0){plus=inumber.indexOf('+',1)}
if(minus===0){minus=inumber.indexOf('-',1)}
var last=inumber.substring(inumber.length-1,inumber.length);var unit=(last==='i'||last==='j');if(plus>=0||minus>=0){if(!unit){return'#NUM!'}
if(plus>=0){return(isNaN(inumber.substring(0,plus))||isNaN(inumber.substring(plus+1,inumber.length-1)))?'#NUM!':Number(inumber.substring(plus+1,inumber.length-1))}else{return(isNaN(inumber.substring(0,minus))||isNaN(inumber.substring(minus+1,inumber.length-1)))?'#NUM!':-Number(inumber.substring(minus+1,inumber.length-1))}}else{if(unit){return(isNaN(inumber.substring(0,inumber.length-1)))?'#NUM!':inumber.substring(0,inumber.length-1)}else{return(isNaN(inumber))?'#NUM!':0}}};Formula.IMARGUMENT=function(inumber){var x=Formula.IMREAL(inumber);var y=Formula.IMAGINARY(inumber);if(x==='#NUM!'||y==='#NUM!'){return'#NUM!'}
if(x===0&&y===0){return'#DIV/0!'}
if(x===0&&y>0){return Math.PI/2}
if(x===0&&y<0){return-Math.PI/2}
if(y===0&&x>0){return 0}
if(y===0&&x<0){return-Math.PI}
if(x>0){return Math.atan(y/x)}else if(x<0&&y>=0){return Math.atan(y/x)+Math.PI}else{return Math.atan(y/x)-Math.PI}};Formula.IMCONJUGATE=function(inumber){var x=Formula.IMREAL(inumber);var y=Formula.IMAGINARY(inumber);var unit=inumber.substring(inumber.length-1);unit=(unit==='i'||unit==='j')?unit:'i';if(x==='#NUM!'||y==='#NUM!'){return'#NUM!'}
return(y!==0)?Formula.COMPLEX(x,-y,unit):inumber};Formula.IMCOS=function(inumber){if(inumber===!0||inumber===!1){return'#VALUE!'}
var x=Formula.IMREAL(inumber);var y=Formula.IMAGINARY(inumber);var unit=inumber.substring(inumber.length-1);unit=(unit==='i'||unit==='j')?unit:'i';if(x==='#NUM!'||y==='#NUM!'){return'#NUM!'}
return Formula.COMPLEX(Math.cos(x)*(Math.exp(y)+Math.exp(-y))/2,-Math.sin(x)*(Math.exp(y)-Math.exp(-y))/2,unit)};Formula.IMCOSH=function(inumber){if(inumber===!0||inumber===!1){return'#VALUE!'}
var x=Formula.IMREAL(inumber);var y=Formula.IMAGINARY(inumber);var unit=inumber.substring(inumber.length-1);unit=(unit==='i'||unit==='j')?unit:'i';if(x==='#NUM!'||y==='#NUM!'){return'#NUM!'}
return Formula.COMPLEX(Math.cos(y)*(Math.exp(x)+Math.exp(-x))/2,Math.sin(y)*(Math.exp(x)-Math.exp(-x))/2,unit)};Formula.IMCOT=function(inumber){if(inumber===!0||inumber===!1){return'#VALUE!'}
var x=Formula.IMREAL(inumber);var y=Formula.IMAGINARY(inumber);if(x==='#NUM!'||y==='#NUM!'){return'#NUM!'}
return Formula.IMDIV(Formula.IMCOS(inumber),Formula.IMSIN(inumber))};Formula.IMCSC=function(inumber){if(inumber===!0||inumber===!1){return'#VALUE!'}
var x=Formula.IMREAL(inumber);var y=Formula.IMAGINARY(inumber);if(x==='#NUM!'||y==='#NUM!'){return'#NUM!'}
return Formula.IMDIV('1',Formula.IMSIN(inumber))};Formula.IMCSCH=function(inumber){if(inumber===!0||inumber===!1){return'#VALUE!'}
var x=Formula.IMREAL(inumber);var y=Formula.IMAGINARY(inumber);if(x==='#NUM!'||y==='#NUM!'){return'#NUM!'}
return Formula.IMDIV('1',Formula.IMSINH(inumber))};Formula.IMDIV=function(inumber1,inumber2){var a=Formula.IMREAL(inumber1);var b=Formula.IMAGINARY(inumber1);var c=Formula.IMREAL(inumber2);var d=Formula.IMAGINARY(inumber2);var unit1=inumber1.substring(inumber1.length-1);var unit2=inumber1.substring(inumber1.length-1);var unit='i';if(unit1==='j'){unit='j'}else if(unit2==='j'){unit='j'}
if(a==='#NUM!'||b==='#NUM!'||c==='#NUM!'||d==='#NUM!'){return'#NUM!'}
if(c===0&&d===0){return'#NUM!'}
var den=c*c+d*d;return Formula.COMPLEX((a*c+b*d)/den,(b*c-a*d)/den,unit)};Formula.IMEXP=function(inumber){var x=Formula.IMREAL(inumber);var y=Formula.IMAGINARY(inumber);var unit=inumber.substring(inumber.length-1);unit=(unit==='i'||unit==='j')?unit:'i';if(x==='#NUM!'||y==='#NUM!'){return'#NUM!'}
var e=Math.exp(x);return Formula.COMPLEX(e*Math.cos(y),e*Math.sin(y),unit)};Formula.IMLN=function(inumber){var x=Formula.IMREAL(inumber);var y=Formula.IMAGINARY(inumber);var unit=inumber.substring(inumber.length-1);unit=(unit==='i'||unit==='j')?unit:'i';if(x==='#NUM!'||y==='#NUM!'){return'#NUM!'}
return Formula.COMPLEX(Math.log(Math.sqrt(x*x+y*y)),Math.atan(y/x),unit)};Formula.IMLOG10=function(inumber){var x=Formula.IMREAL(inumber);var y=Formula.IMAGINARY(inumber);var unit=inumber.substring(inumber.length-1);unit=(unit==='i'||unit==='j')?unit:'i';if(x==='#NUM!'||y==='#NUM!'){return'#NUM!'}
return Formula.COMPLEX(Math.log(Math.sqrt(x*x+y*y))/Math.log(10),Math.atan(y/x)/Math.log(10),unit)};Formula.IMLOG2=function(inumber){var x=Formula.IMREAL(inumber);var y=Formula.IMAGINARY(inumber);var unit=inumber.substring(inumber.length-1);unit=(unit==='i'||unit==='j')?unit:'i';if(x==='#NUM!'||y==='#NUM!'){return'#NUM!'}
return Formula.COMPLEX(Math.log(Math.sqrt(x*x+y*y))/Math.log(2),Math.atan(y/x)/Math.log(2),unit)};Formula.IMPOWER=function(inumber,number){if(isNaN(number)){return'#VALUE!'}
var x=Formula.IMREAL(inumber);var y=Formula.IMAGINARY(inumber);var unit=inumber.substring(inumber.length-1);unit=(unit==='i'||unit==='j')?unit:'i';if(x==='#NUM!'||y==='#NUM!'){return'#NUM!'}
var p=Math.pow(Formula.IMABS(inumber),number);var t=Formula.IMARGUMENT(inumber);return Formula.COMPLEX(p*Math.cos(number*t),p*Math.sin(number*t),unit)};Formula.IMPRODUCT=function(){var result=arguments[0];for(var i=1;i<arguments.length;i++){var a=Formula.IMREAL(result);var b=Formula.IMAGINARY(result);var c=Formula.IMREAL(arguments[i]);var d=Formula.IMAGINARY(arguments[i]);if(a==='#NUM!'||b==='#NUM!'||c==='#NUM!'||d==='#NUM!'){return'#NUM!'}
result=Formula.COMPLEX(a*c-b*d,a*d+b*c)}
return result};Formula.IMREAL=function(inumber){if(inumber===0||inumber==='0'){return 0}
if(['i','+i','1i','+1i','-i','-1i','j','+j','1j','+1j','-j','-1j'].indexOf(inumber)>=0){return 0}
var plus=inumber.indexOf('+');var minus=inumber.indexOf('-');if(plus===0){plus=inumber.indexOf('+',1)}
if(minus===0){minus=inumber.indexOf('-',1)}
var last=inumber.substring(inumber.length-1,inumber.length);var unit=(last==='i'||last==='j');if(plus>=0||minus>=0){if(!unit){return'#NUM!'}
if(plus>=0){return(isNaN(inumber.substring(0,plus))||isNaN(inumber.substring(plus+1,inumber.length-1)))?'#NUM!':Number(inumber.substring(0,plus))}else{return(isNaN(inumber.substring(0,minus))||isNaN(inumber.substring(minus+1,inumber.length-1)))?'#NUM!':Number(inumber.substring(0,minus))}}else{if(unit){return(isNaN(inumber.substring(0,inumber.length-1)))?'#NUM!':0}else{return(isNaN(inumber))?'#NUM!':inumber}}};Formula.IMSEC=function(inumber){if(inumber===!0||inumber===!1){return'#VALUE!'}
var x=Formula.IMREAL(inumber);var y=Formula.IMAGINARY(inumber);if(x==='#NUM!'||y==='#NUM!'){return'#NUM!'}
return Formula.IMDIV('1',Formula.IMCOS(inumber))};Formula.IMSECH=function(inumber){if(inumber===!0||inumber===!1){return'#VALUE!'}
var x=Formula.IMREAL(inumber);var y=Formula.IMAGINARY(inumber);if(x==='#NUM!'||y==='#NUM!'){return'#NUM!'}
return Formula.IMDIV('1',Formula.IMCOSH(inumber))};Formula.IMSIN=function(inumber){if(inumber===!0||inumber===!1){return'#VALUE!'}
var x=Formula.IMREAL(inumber);var y=Formula.IMAGINARY(inumber);var unit=inumber.substring(inumber.length-1);unit=(unit==='i'||unit==='j')?unit:'i';if(x==='#NUM!'||y==='#NUM!'){return'#NUM!'}
return Formula.COMPLEX(Math.sin(x)*(Math.exp(y)+Math.exp(-y))/2,Math.cos(x)*(Math.exp(y)-Math.exp(-y))/2,unit)};Formula.IMSINH=function(inumber){if(inumber===!0||inumber===!1){return'#VALUE!'}
var x=Formula.IMREAL(inumber);var y=Formula.IMAGINARY(inumber);var unit=inumber.substring(inumber.length-1);unit=(unit==='i'||unit==='j')?unit:'i';if(x==='#NUM!'||y==='#NUM!'){return'#NUM!'}
return Formula.COMPLEX(Math.cos(y)*(Math.exp(x)-Math.exp(-x))/2,Math.sin(y)*(Math.exp(x)+Math.exp(-x))/2,unit)};Formula.IMSQRT=function(inumber){var x=Formula.IMREAL(inumber);var y=Formula.IMAGINARY(inumber);var unit=inumber.substring(inumber.length-1);unit=(unit==='i'||unit==='j')?unit:'i';if(x==='#NUM!'||y==='#NUM!'){return'#NUM!'}
var s=Math.sqrt(Formula.IMABS(inumber));var t=Formula.IMARGUMENT(inumber);return Formula.COMPLEX(s*Math.cos(t/2),s*Math.sin(t/2),unit)};Formula.IMSUB=function(inumber1,inumber2){var a=Formula.IMREAL(inumber1);var b=Formula.IMAGINARY(inumber1);var c=Formula.IMREAL(inumber2);var d=Formula.IMAGINARY(inumber2);var unit1=inumber1.substring(inumber1.length-1);var unit2=inumber1.substring(inumber1.length-1);var unit='i';if(unit1==='j'){unit='j'}else if(unit2==='j'){unit='j'}
if(a==='#NUM!'||b==='#NUM!'||c==='#NUM!'||d==='#NUM!'){return'#NUM!'}
return Formula.COMPLEX(a-c,b-d,unit)};Formula.IMSUM=function(){var result=arguments[0];for(var i=1;i<arguments.length;i++){var a=Formula.IMREAL(result);var b=Formula.IMAGINARY(result);var c=Formula.IMREAL(arguments[i]);var d=Formula.IMAGINARY(arguments[i]);if(a==='#NUM!'||b==='#NUM!'||c==='#NUM!'||d==='#NUM!'){return'#NUM!'}
result=Formula.COMPLEX(a+c,b+d)}
return result};Formula.IMTAN=function(inumber){if(inumber===!0||inumber===!1){return'#VALUE!'}
var x=Formula.IMREAL(inumber);var y=Formula.IMAGINARY(inumber);if(x==='#NUM!'||y==='#NUM!'){return'#NUM!'}
return Formula.IMDIV(Formula.IMSIN(inumber),Formula.IMCOS(inumber))};Formula.OCT2BIN=function(number,places){if(!/^[0-7]{1,10}$/.test(number)){return'#NUM!'}
var negative=(number.length===10&&number.substring(0,1)==='7')?!0:!1;var decimal=(negative)?parseInt(number,8)-1073741824:parseInt(number,8);if(decimal<-512||decimal>511){return'#NUM!'}
if(negative){return'1'+_s.repeat('0',9-(512+decimal).toString(2).length)+(512+decimal).toString(2)}
var result=decimal.toString(2);if(typeof places==='undefined'){return result}else{if(isNaN(places)){return'#VALUE!'}
if(places<0){return'#NUM!'}
places=Math.floor(places);return(places>=result.length)?_s.repeat('0',places-result.length)+result:'#NUM!'}};Formula.OCT2DEC=function(number){if(!/^[0-7]{1,10}$/.test(number)){return'#NUM!'}
var decimal=parseInt(number,8);return(decimal>=536870912)?decimal-1073741824:decimal};Formula.OCT2HEX=function(number,places){if(!/^[0-7]{1,10}$/.test(number)){return'#NUM!'}
var decimal=parseInt(number,8);if(decimal>=536870912){return'ff'+(decimal+3221225472).toString(16)}
var result=decimal.toString(16);if(typeof places==='undefined'){return result}else{if(isNaN(places)){return'#VALUE!'}
if(places<0){return'#NUM!'}
places=Math.floor(places);return(places>=result.length)?_s.repeat('0',places-result.length)+result:'#NUM!'}};Formula.ACCRINT=function(issue,first,settlement,rate,par,frequency,basis,method){if(!moment(issue).isValid()||!moment(first).isValid()||!moment(settlement).isValid()){return'#VALUE!'}
if(rate<=0||par<=0){return'#NUM!'}
if([1,2,4].indexOf(frequency)===-1){return'#NUM!'}
if([0,1,2,3,4].indexOf(basis)===-1){return'#NUM!'}
if(moment(issue).diff(moment(settlement))>=0){return'#NUM!'}
par=(typeof par==='undefined')?0:par;basis=(typeof basis==='undefined')?0:basis;method=(typeof method==='undefined')?!0:method;var factor=0;switch(basis){case 0:factor=Formula.YEARFRAC(issue,settlement,basis);break;case 1:factor=Formula.YEARFRAC(issue,settlement,basis);break;case 2:factor=Formula.YEARFRAC(issue,settlement,basis);break;case 3:factor=Formula.YEARFRAC(issue,settlement,basis);break;case 4:factor=Formula.YEARFRAC(issue,settlement,basis);break}
return par*rate*factor};Formula.ACCRINTM=function(){return};Formula.AMORDEGRC=function(){return};Formula.AMORLINC=function(){return};Formula.COUPDAYBS=function(){return};Formula.COUPDAYS=function(){return};Formula.COUPDAYSNC=function(){return};Formula.COUPNCD=function(){return};Formula.COUPNUM=function(){return};Formula.COUPPCD=function(){return};Formula.CUMIPMT=function(rate,periods,value,start,end,type){rate=eval(rate);periods=eval(periods);if(rate<=0||periods<=0||value<=0){return'#NUM!'}
if(start<1||end<1||start>end){return'#NUM!'}
if(type!==0&&type!==1){return'#NUM!'}
var payment=Formula.PMT(rate,periods,value,0,type);var interest=0;if(start===1){if(type===0){interest=-value;start++}}
for(var i=start;i<=end;i++){if(type===1){interest+=Formula.FV(rate,i-2,payment,value,1)-payment}else{interest+=Formula.FV(rate,i-1,payment,value,0)}}
interest*=rate;return interest};Formula.CUMPRINC=function(rate,periods,value,start,end,type){rate=eval(rate);periods=eval(periods);if(rate<=0||periods<=0||value<=0){return'#NUM!'}
if(start<1||end<1||start>end){return'#NUM!'}
if(type!==0&&type!==1){return'#NUM!'}
var payment=Formula.PMT(rate,periods,value,0,type);var principal=0;if(start===1){if(type===0){principal=payment+value*rate}else{principal=payment}
start++}
for(var i=start;i<=end;i++){if(type>0){principal+=payment-(Formula.FV(rate,i-2,payment,value,1)-payment)*rate}else{principal+=payment-Formula.FV(rate,i-1,payment,value,0)*rate}}
return principal};Formula.DB=function(cost,salvage,life,period,month){month=(typeof month==='undefined')?12:month;if(isNaN(cost)||isNaN(salvage)||isNaN(life)||isNaN(period)||isNaN(month)){return'#VALUE!'}
if(cost<0||salvage<0||life<0||period<0){return'#NUM!'}
if([1,2,3,4,5,6,7,8,9,10,11,12].indexOf(month)===-1){return'#NUM!'}
if(period>life){return'#NUM!'}
if(salvage>=cost){return 0}
var rate=(1-Math.pow(salvage/cost,1/life)).toFixed(3);var initial=cost*rate*month/12;var total=initial;var current=0;var ceiling=(period===life)?life-1:period;for(var i=2;i<=ceiling;i++){current=(cost-total)*rate;total+=current}
if(period===1){return initial}else if(period===life){return(cost-total)*rate}else{return current}};Formula.DDB=function(cost,salvage,life,period,factor){factor=(typeof factor==='undefined')?2:factor;if(isNaN(cost)||isNaN(salvage)||isNaN(life)||isNaN(period)||isNaN(factor)){return'#VALUE!'}
if(cost<0||salvage<0||life<0||period<0||factor<=0){return'#NUM!'}
if(period>life){return'#NUM!'}
if(salvage>=cost){return 0}
var total=0;var current=0;for(var i=1;i<=period;i++){current=Math.min((cost-total)*(factor/life),(cost-salvage-total));total+=current}
return current};Formula.DISC=function(){return};Formula.DOLLARDE=function(dollar,fraction){if(isNaN(dollar)||isNaN(fraction)){return'#VALUE!'}
if(fraction<0){return'#NUM!'}
if(fraction>=0&&fraction<1){return'#DIV/0!'}
fraction=parseInt(fraction,10);var result=parseInt(dollar,10);result+=(dollar%1)*Math.pow(10,Math.ceil(Math.log(fraction)/Math.LN10))/fraction;var power=Math.pow(10,Math.ceil(Math.log(fraction)/Math.LN2)+1);result=Math.round(result*power)/power;return result};Formula.DOLLARFR=function(dollar,fraction){if(isNaN(dollar)||isNaN(fraction)){return'#VALUE!'}
if(fraction<0){return'#NUM!'}
if(fraction>=0&&fraction<1){return'#DIV/0!'}
fraction=parseInt(fraction,10);var result=parseInt(dollar,10);result+=(dollar%1)*Math.pow(10,-Math.ceil(Math.log(fraction)/Math.LN10))*fraction;return result};Formula.DURATION=function(){return};Formula.EFFECT=function(rate,periods){if(isNaN(rate)||isNaN(periods)){return'#VALUE!'}
if(rate<=0||periods<1){return'#NUM!'}
periods=parseInt(periods,10);return Math.pow(1+rate/periods,periods)-1};Formula.FV=function(rate,periods,payment,value,type){type=(typeof type==='undefined')?0:type;rate=eval(rate);var result;if(rate===0){result=value+payment*periods}else{var term=Math.pow(1+rate,periods);if(type===1){result=value*term+payment*(1+rate)*(term-1.0)/rate}else{result=value*term+payment*(term-1)/rate}}
return-result};Formula.FVSCHEDULE=function(principal,schedule){var future=principal;for(var i=0;i<schedule.length;i++){if(isNaN(schedule[i])){return'#VALUE!'}
future*=1+schedule[i]}
return future};Formula.INTRATE=function(){return};Formula.IPMT=function(rate,period,periods,present,future,type){type=(typeof type==='undefined')?0:type;rate=eval(rate);periods=eval(periods);var payment=Formula.PMT(rate,periods,present,future,type);var interest;if(period===1){if(type===1){interest=0}else{interest=-present}}else{if(type===1){interest=Formula.FV(rate,period-2,payment,present,1)-payment}else{interest=Formula.FV(rate,period-1,payment,present,0)}}
return interest*rate};Formula.IRR=function(values,guess){values=Formula.FLATTEN(values);var irrResult=function(values,dates,rate){var r=rate+1;var result=values[0];for(var i=1;i<values.length;i++){result+=values[i]/Math.pow(r,(dates[i]-dates[0])/365)}
return result};var irrResultDeriv=function(values,dates,rate){var r=rate+1;var result=0;for(var i=1;i<values.length;i++){var frac=(dates[i]-dates[0])/365;result-=frac*values[i]/Math.pow(r,frac+1)}
return result};var dates=[];var positive=!1;var negative=!1;for(var i=0;i<values.length;i++){dates[i]=(i===0)?0:dates[i-1]+365;if(values[i]>0){positive=!0}
if(values[i]<0){negative=!0}}
if(!positive||!negative){return'#NUM!'}
guess=(typeof guess==='undefined')?0.1:guess;var resultRate=guess;var epsMax=1e-10;var iterMax=50;var newRate,epsRate,resultValue;var iteration=0;var contLoop=!0;do{resultValue=irrResult(values,dates,resultRate);newRate=resultRate-resultValue/irrResultDeriv(values,dates,resultRate);epsRate=Math.abs(newRate-resultRate);resultRate=newRate;contLoop=(epsRate>epsMax)&&(Math.abs(resultValue)>epsMax)}while(contLoop&&(++iteration<iterMax));if(contLoop){return'#NUM!'}
return resultRate};Formula.ISPMT=function(rate,period,periods,value){rate=eval(rate);periods=eval(periods);return value*rate*(period/periods-1)};Formula.MDURATION=function(){return};Formula.MIRR=function(values,finance_rate,reinvest_rate){var n=values.length;var payments=[];var incomes=[];for(var i=0;i<n;i++){if(values[i]<0){payments.push(values[i])}else{incomes.push(values[i])}}
var num=-Formula.NPV(reinvest_rate,incomes)*Math.pow(1+reinvest_rate,n-1);var den=Formula.NPV(finance_rate,payments)*(1+finance_rate);return Math.pow(num/den,1/(n-1))-1};Formula.NOMINAL=function(rate,periods){if(isNaN(rate)||isNaN(periods)){return'#VALUE!'}
if(rate<=0||periods<1){return'#NUM!'}
periods=parseInt(periods,10);return(Math.pow(rate+1,1/periods)-1)*periods};Formula.NPER=function(rate,payment,present,future,type){type=(typeof type==='undefined')?0:type;future=(typeof future==='undefined')?0:future;rate=eval(rate);var num=payment*(1+rate*type)-future*rate;var den=(present*rate+payment*(1+rate*type));return Math.log(num/den)/Math.log(1+rate)};Formula.NPV=function(){var args=[];for(var i=0;i<arguments.length;i++){args=args.concat(arguments[i])}
var rate=args[0];var value=0;for(var j=1;j<args.length;j++){value+=args[j]/Math.pow(1+rate,j)}
return value};Formula.ODDFPRICE=function(){return};Formula.ODDFYIELD=function(){return};Formula.ODDLPRICE=function(){return};Formula.ODDLYIELD=function(){return};Formula.PDURATION=function(rate,present,future){if(isNaN(rate)||isNaN(present)||isNaN(future)){return'#VALUE!'}
if(rate<=0){return'#NUM!'}
return(Math.log(future)-Math.log(present))/Math.log(1+rate)};Formula.PMT=function(rate,periods,present,future,type){type=(typeof type==='undefined')?0:type;future=future||0;rate=eval(rate);periods=eval(periods);var result;if(rate===0){result=(present+future)/periods}else{var term=Math.pow(1+rate,periods);if(type===1){result=(future*rate/(term-1)+present*rate/(1-1/term))/(1+rate)}else{result=future*rate/(term-1)+present*rate/(1-1/term)}}
return-result};Formula.PPMT=function(rate,period,periods,present,future,type){return Formula.PMT(rate,periods,present,future,type)-Formula.IPMT(rate,period,periods,present,future,type)};Formula.PRICE=function(){return};Formula.PRICEDISC=function(){return};Formula.PRICEMAT=function(){return};Formula.PV=function(rate,periods,payment,future,type){type=(typeof type==='undefined')?0:type;rate=eval(rate);periods=eval(periods);if(rate===0){return-payment*periods-future}else{return(((1-Math.pow(1+rate,periods))/rate)*payment*(1+rate*type)-future)/Math.pow(1+rate,periods)}};Formula.RATE=function(periods,payment,present,future,type,guess){guess=(typeof guess==='undefined')?0.01:guess;future=(typeof future==='undefined')?0:future;type=(typeof type==='undefined')?0:type;periods=eval(periods);var epsMax=1e-10;var iterMax=50;var y,y0,y1,x0,x1=0,f=0,i=0;var rate=guess;if(Math.abs(rate)<epsMax){y=present*(1+periods*rate)+payment*(1+rate*type)*periods+future}else{f=Math.exp(periods*Math.log(1+rate));y=present*f+payment*(1/rate+type)*(f-1)+future}
y0=present+payment*periods+future;y1=present*f+payment*(1/rate+type)*(f-1)+future;i=x0=0;x1=rate;while((Math.abs(y0-y1)>epsMax)&&(i<iterMax)){rate=(y1*x0-y0*x1)/(y1-y0);x0=x1;x1=rate;if(Math.abs(rate)<epsMax){y=present*(1+periods*rate)+payment*(1+rate*type)*periods+future}else{f=Math.exp(periods*Math.log(1+rate));y=present*f+payment*(1/rate+type)*(f-1)+future}
y0=y1;y1=y;++i}
return rate};Formula.RECEIVED=function(){return};Formula.RRI=function(periods,present,future){if(isNaN(periods)||isNaN(present)||isNaN(future)){return'#VALUE!'}
if(periods===0||present===0){return'#NUM!'}
return Math.pow(future/present,1/periods)-1};Formula.SLN=function(cost,salvage,life){if(isNaN(cost)||isNaN(salvage)||isNaN(life)){return'#VALUE!'}
if(life===0){return'#NUM!'}
return(cost-salvage)/life};Formula.SYD=function(cost,salvage,life,period){if(isNaN(cost)||isNaN(salvage)||isNaN(life)||isNaN(period)){return'#VALUE!'}
if(life===0){return'#NUM!'}
if(period<1||period>life){return'#NUM!'}
period=parseInt(period,10);return(cost-salvage)*(life-period+1)*2/(life*(life+1))};Formula.TBILLEQ=function(settlement,maturity,discount){if(!moment(settlement).isValid()||!moment(maturity).isValid()){return'#VALUE!'}
if(discount<=0){return'#NUM!'}
if(moment(settlement).diff(moment(maturity))>0){return'#NUM!'}
if(moment(maturity).diff(moment(settlement),'years')>1){return'#NUM!'}
return(365*discount)/(360-discount*Formula.DAYS360(settlement,maturity))};Formula.TBILLPRICE=function(settlement,maturity,discount){if(!moment(settlement).isValid()||!moment(maturity).isValid()){return'#VALUE!'}
if(discount<=0){return'#NUM!'}
if(moment(settlement).diff(moment(maturity))>0){return'#NUM!'}
if(moment(maturity).diff(moment(settlement),'years')>1){return'#NUM!'}
return 100*(1-discount*Formula.DAYS360(settlement,maturity)/360)};Formula.TBILLYIELD=function(settlement,maturity,price){if(!moment(settlement).isValid()||!moment(maturity).isValid()){return'#VALUE!'}
if(price<=0){return'#NUM!'}
if(moment(settlement).diff(moment(maturity))>0){return'#NUM!'}
if(moment(maturity).diff(moment(settlement),'years')>1){return'#NUM!'}
return(100-price)*360/(price*Formula.DAYS360(settlement,maturity))};Formula.VDB=function(){return};Formula.XIRR=function(values,dates,guess){var irrResult=function(values,dates,rate){var r=rate+1;var result=values[0];for(var i=1;i<values.length;i++){result+=values[i]/Math.pow(r,moment(dates[i]).diff(moment(dates[0]),'days')/365)}
return result};var irrResultDeriv=function(values,dates,rate){var r=rate+1;var result=0;for(var i=1;i<values.length;i++){var frac=moment(dates[i]).diff(moment(dates[0]),'days')/365;result-=frac*values[i]/Math.pow(r,frac+1)}
return result};var positive=!1;var negative=!1;for(var i=0;i<values.length;i++){if(values[i]>0){positive=!0}
if(values[i]<0){negative=!0}}
if(!positive||!negative){return'#NUM!'}
guess=guess||0.1;var resultRate=guess;var epsMax=1e-10;var iterMax=50;var newRate,epsRate,resultValue;var iteration=0;var contLoop=!0;do{resultValue=irrResult(values,dates,resultRate);newRate=resultRate-resultValue/irrResultDeriv(values,dates,resultRate);epsRate=Math.abs(newRate-resultRate);resultRate=newRate;contLoop=(epsRate>epsMax)&&(Math.abs(resultValue)>epsMax)}while(contLoop&&(++iteration<iterMax));if(contLoop){return'#NUM!'}
return resultRate};Formula.XNPV=function(rate,values,dates){var result=0;for(var i=0;i<values.length;i++){result+=values[i]/Math.pow(1+rate,moment(dates[i]).diff(moment(dates[0]),'days')/365)}
return result};Formula.YIELD=function(){return};Formula.YIELDDISC=function(){return};Formula.YIELDMAT=function(){return};Formula.ISNUMBER=function(number){return(!isNaN(parseFloat(number))&&isFinite(number))?!0:!1};Formula.AND=function(){var result=!0;for(var i=0;i<arguments.length;i++){if(!arguments[i]){result=!1}}
return result};Formula.FALSE=function(){return!1};Formula.SWITCH=function(){var result;if(arguments.length>0){var targetValue=arguments[0];var argc=arguments.length-1;var switchCount=Math.floor(argc/2);var switchSatisfied=!1;var defaultClause=argc%2===0?null:arguments[arguments.length-1];if(switchCount){for(var index=0;index<switchCount;index++){if(targetValue===arguments[index*2+1]){result=arguments[index*2+2];switchSatisfied=!0;break}}}
if(!switchSatisfied&&defaultClause){result=defaultClause}}
return result};Formula.IF=function(test,then_value,otherwise_value){return test?then_value:otherwise_value};Formula.IFNA=function(value,value_if_na){return(value==='#N/A')?value_if_na:value};Formula.NOT=function(logical){return!logical};Formula.OR=function(){var result=!1;for(var i=0;i<arguments.length;i++){if(arguments[i]){result=!0}}
return result};Formula.TRUE=function(){return!0};Formula.XOR=function(){var result=0;for(var i=0;i<arguments.length;i++){if(arguments[i]){result++}}
return(Math.floor(Math.abs(result))&1)?!0:!1};Formula.REFERENCE=function(context,reference){try{var path=reference.split('.'),result=context;_(path).forEach(function(step){if(step[step.length-1]===']'){var opening=step.indexOf('[');var index=step.substring(opening+1,step.length-1);result=result[step.substring(0,opening)][index]}else{result=result[step]}});return result}catch(error){return}};Formula.ABS=function(number){return Math.abs(number)};Formula.ACOS=function(number){return Math.acos(number)};Formula.ACOSH=function(number){return Math.log(number+Math.sqrt(number*number-1))};Formula.ACOT=function(number){return Math.atan(1/number)};Formula.ACOTH=function(number){return 0.5*Math.log((number+1)/(number-1))};Formula.AGGREGATE=function(function_code){var result=[];for(var i=2;i<arguments.length;i++){switch(function_code){case 1:result[i-2]=Formula.AVERAGE(arguments[i]);break;case 2:result[i-2]=Formula.COUNT(arguments[i]);break;case 3:result[i-2]=Formula.COUNTA(arguments[i]);break;case 4:result[i-2]=Formula.MAX(arguments[i]);break;case 5:result[i-2]=Formula.MIN(arguments[i]);break;case 6:result[i-2]=Formula.PRODUCT(arguments[i]);break;case 7:result[i-2]=Formula.STDEVS(arguments[i]);break;case 8:result[i-2]=Formula.STDEVP(arguments[i]);break;case 9:result[i-2]=Formula.SUM(arguments[i]);break;case 10:result[i-2]=Formula.VARS(arguments[i]);break;case 11:result[i-2]=Formula.VARP(arguments[i]);break;case 12:result[i-2]=Formula.MEDIAN(arguments[i]);break;case 13:result[i-2]=Formula.MODESNGL(arguments[i]);break;case 14:result[i-2]=Formula.LARGE(arguments[i]);break;case 15:result[i-2]=Formula.SMALL(arguments[i]);break;case 16:result[i-2]=Formula.PERCENTILEINC(arguments[i]);break;case 17:result[i-2]=Formula.QUARTILEINC(arguments[i]);break;case 18:result[i-2]=Formula.PERCENTILEEXC(arguments[i]);break;case 19:result[i-2]=Formula.QUARTILEEXC(arguments[i]);break}}
return result};Formula.ARABIC=function(text){if(!/^M*(?:D?C{0,3}|C[MD])(?:L?X{0,3}|X[CL])(?:V?I{0,3}|I[XV])$/.test(text)){throw new Error('Incorrect roman number')}
var r=0;text.replace(/[MDLV]|C[MD]?|X[CL]?|I[XV]?/g,function(i){r+={M:1000,CM:900,D:500,CD:400,C:100,XC:90,L:50,XL:40,X:10,IX:9,V:5,IV:4,I:1}[i]});return r};Formula.ASIN=function(number){return Math.asin(number)};Formula.ASINH=function(number){return Math.log(number+Math.sqrt(number*number+1))};Formula.ATAN=function(number){return Math.atan(number)};Formula.ATAN2=function(number_x,number_y){return Math.atan2(number_x,number_y)};Formula.ATANH=function(number){return Math.log((1+number)/(1-number))/2};Formula.BASE=function(number,radix,min_length){min_length=(typeof min_length==='undefined')?0:min_length;var result=number.toString(radix);return new Array(Math.max(min_length+1-result.length,0)).join('0')+result};Formula.CEILING=function(number,significance,mode){if(significance===0){return 0}
significance=(typeof significance==='undefined')?1:Math.abs(significance);mode=(typeof mode==='undefined')?0:mode;var precision=-Math.floor(Math.log(significance)/Math.log(10));if(number>=0){return Formula.ROUND(Math.ceil(number/significance)*significance,precision)}else{if(mode===0){return-Formula.ROUND(Math.floor(Math.abs(number)/significance)*significance,precision)}else{return-Formula.ROUND(Math.ceil(Math.abs(number)/significance)*significance,precision)}}};Formula.CEILINGMATH=Formula.CEILING;Formula.CEILINGPRECISE=Formula.CEILING;Formula.COMBIN=function(number,number_chosen){return Formula.FACT(number)/(Formula.FACT(number_chosen)*Formula.FACT(number-number_chosen))};Formula.COMBINA=function(number,number_chosen){return(number===0&&number_chosen===0)?1:Formula.COMBIN(number+number_chosen-1,number-1)};Formula.COS=Math.cos;Formula.COSH=function(number){return(Math.exp(number)+Math.exp(-number))/2};Formula.COT=function(number){return 1/Math.tan(number)};Formula.COTH=function(number){var e2=Math.exp(2*number);return(e2+1)/(e2-1)};Formula.CSC=function(number){return 1/Math.sin(number)};Formula.CSCH=function(number){return 2/(Math.exp(number)-Math.exp(-number))};Formula.DECIMAL=function(number,radix){return parseInt(number,radix)};Formula.DEGREES=function(number){return number*180/Math.PI};Formula.EVEN=function(number){return Formula.CEILING(number,-2,-1)};Formula.EXP=Math.exp;Formula.FACT=function(number){var n=Math.floor(number);if(n===0||n===1){return 1}else if(MEMOIZED_FACT[n]>0){return MEMOIZED_FACT[n]}else{MEMOIZED_FACT[n]=Formula.FACT(n-1)*n;return MEMOIZED_FACT[n]}};Formula.FACTDOUBLE=function(number){var n=Math.floor(number);if(n<=0){return 1}else{return n*Formula.FACTDOUBLE(n-2)}};Formula.FLOOR=function(number,significance,mode){if(significance===0){return 0}
significance=significance?Math.abs(significance):1;var precision=-Math.floor(Math.log(significance)/Math.log(10));if(number>=0){return Formula.ROUND(Math.floor(number/significance)*significance,precision)}else if(mode===0||typeof mode==='undefined'){return-Formula.ROUND(Math.ceil(Math.abs(number)/significance)*significance,precision)}
return-Formula.ROUND(Math.floor(Math.abs(number)/significance)*significance,precision)};Formula.FLOORMATH=Formula.FLOOR;Formula.FLOORPRECISE=function(number,significance){if(significance===0){return 0}
significance=significance?Math.abs(significance):1;var precision=-Math.floor(Math.log(significance)/Math.log(10));if(number>=0){return Formula.ROUND(Math.round(number/significance)*significance,precision)}
return-Formula.ROUND(Math.ceil(Math.abs(number)/significance)*significance,precision)};Formula.GCD=function(){for(var r,a,i=arguments.length-1,result=arguments[i];i;){for(a=arguments[--i];(r=a%result);a=result,result=r){}}
return result};Formula.INT=function(number){return Math.floor(number)};Formula.ISEVEN=function(number){return(Math.floor(Math.abs(number))&1)?!1:!0};Formula.ISOCEILING=Formula.CEILING;Formula.ISODD=function(number){return(Math.floor(Math.abs(number))&1)?!0:!1};Formula.LCM=function(){var o=Formula.ARGSTOARRAY(arguments);for(var i,j,n,d,r=1;(n=o.pop())!==undefined;){while(n>1){if(n%2){for(i=3,j=Math.floor(Math.sqrt(n));i<=j&&n%i;i+=2){}
d=(i<=j)?i:n}else{d=2}
for(n/=d,r*=d,i=o.length;i;(o[--i]%d)===0&&(o[i]/=d)===1&&o.splice(i,1)){}}}
return r};Formula.LN=function(number){return Math.log(number)};Formula.LOG=function(number,base){base=(typeof base==='undefined')?10:base;return Math.log(number)/Math.log(base)};Formula.LOG10=function(number){return Math.log(number)/Math.log(10)};Formula.MOD=function(dividend,divisor){var modulus=Math.abs(dividend%divisor);return(divisor>0)?modulus:-modulus};Formula.MROUND=function(number,multiple){if(number*multiple<0){throw new Error('Number and multiple must have the same sign.')}
return Math.round(number/multiple)*multiple};Formula.MULTINOMIAL=function(){var sum=0;var divisor=1;for(var i=0;i<arguments.length;i++){sum+=arguments[i];divisor*=Formula.FACT(arguments[i])}
return Formula.FACT(sum)/divisor};Formula.ODD=function(number){var temp=Math.ceil(Math.abs(number));temp=(temp&1)?temp:temp+1;return(number>0)?temp:-temp};Formula.E=function(){return Math.E};Formula.PI=function(){return Math.PI};Formula.POWER=function(number,power){var result=Math.pow(number,power);if(isNaN(result)){return'#NUM!'}
return result};Formula.PRODUCT=function(){var result=1;for(var i=0;i<arguments.length;i++){result*=arguments[i]}
return result};Formula.QUOTIENT=function(numerator,denominator){return(numerator/denominator).toFixed(0)};Formula.RADIANS=function(number){return number*Math.PI/180};Formula.RAND=function(){return Math.random()};Formula.RANDBETWEEN=function(bottom,top){return bottom+Math.ceil((top-bottom+1)*Math.random())-1};Formula.ROUND=function(number,digits){return Math.round(number*Math.pow(10,digits))/Math.pow(10,digits)};Formula.ROUNDDOWN=function(number,digits){var sign=(number>0)?1:-1;return sign*(Math.floor(Math.abs(number)*Math.pow(10,digits)))/Math.pow(10,digits)};Formula.ROUNDUP=function(number,digits){var sign=(number>0)?1:-1;return sign*(Math.ceil(Math.abs(number)*Math.pow(10,digits)))/Math.pow(10,digits)};Formula.SERIESSUM=function(x,n,m,coefficients){var result=coefficients[0]*Math.pow(x,n);for(var i=1;i<coefficients.length;i++){result+=coefficients[i]*Math.pow(x,n+i*m)}
return result};Formula.SEC=function(number){return 1/Math.cos(number)};Formula.SECH=function(number){return 2/(Math.exp(number)+Math.exp(-number))};Formula.SIGN=function(number){if(number<0){return-1}else if(number===0){return 0}else{return 1}};Formula.SIN=Math.sin;Formula.SINH=function(number){return(Math.exp(number)-Math.exp(-number))/2};Formula.SQRT=Math.sqrt;Formula.SQRTPI=function(number){return Math.sqrt(number*Math.PI)};Formula.SUBTOTAL=function(function_code){var result=[];for(var i=1;i<arguments.length;i++){switch(function_code){case 1:case 101:result[i-1]=Formula.AVERAGE(arguments[i]);break;case 2:case 102:result[i-1]=Formula.COUNT(arguments[i]);break;case 3:case 103:result[i-1]=Formula.COUNTA(arguments[i]);break;case 4:case 104:result[i-1]=Formula.MAX(arguments[i]);break;case 5:case 105:result[i-1]=Formula.MIN(arguments[i]);break;case 6:case 106:result[i-1]=Formula.PRODUCT(arguments[i]);break;case 7:case 107:result[i-1]=Formula.STDEV(arguments[i]);break;case 8:case 108:result[i-1]=Formula.STDEVP(arguments[i]);break;case 9:case 109:result[i-1]=Formula.SUM(arguments[i]);break;case 10:case 110:result[i-1]=Formula.VAR(arguments[i]);break;case 11:case 111:result[i-1]=Formula.VARP(arguments[i]);break;default:break}}
switch(function_code){case 1:case 101:return Formula.AVERAGE(result);break;case 2:case 102:return Formula.COUNT(result);break;case 3:case 103:return Formula.COUNTA(result);break;case 4:case 104:return Formula.MAX(result);break;case 5:case 105:return Formula.MIN(result);break;case 6:case 106:return Formula.PRODUCT(result);break;case 7:case 107:return Formula.STDEV(result);break;case 8:case 108:return Formula.STDEVP(result);break;case 9:case 109:return Formula.SUM(result);break;case 10:case 110:return Formula.VAR(result);break;case 11:case 111:return Formula.VARP(result);break;default:break}
return'#VALUE!'};Formula.SUM=function(){var numbers=Formula.FLATTEN(arguments);var result=0;for(var i=0;i<numbers.length;i++){if(numbers[i]instanceof Array){for(var j=0;j<numbers[i].length;j++){result+=(Formula.ISNUMBER(numbers[i][j]))?numbers[i][j]:0}}else{result+=(Formula.ISNUMBER(numbers[i]))?numbers[i]:0}}
return result};Formula.SUMIF=function(range,criteria,sum_range){sum_range=sum_range||range;range=Formula.FLATTEN(range);sum_range=Formula.FLATTEN(sum_range);var result=0;if(range.length==sum_range.length){for(var i=0;i<range.length;i++){result+=(eval(range[i]+criteria))?sum_range[i]:0}}else{result='#N/A'}
return result};Formula.SUMIFS=function(){var criteria=(arguments.length-1)/2;var range=arguments[0];var result=0;for(var i=0;i<range.length;i++){var fit=!0;for(var j=0;j<criteria;j++){if(!eval(arguments[2*j+1][i]+arguments[2*j+2])){fit=!1}}
result+=(fit)?range[i]:0}
return result};Formula.SUMPRODUCT=function(){var arrays=arguments.length+1;var result=0;for(var i=0;i<arguments[0].length;i++){for(var j=0;j<arguments[0][i].length;j++){var product=1;for(var k=1;k<arrays;k++){product*=arguments[k-1][i][j]}
result+=product}}
return result};Formula.SUMSQ=function(){var numbers=Formula.FLATTEN(arguments);var result=0;for(var i=0;i<numbers.length;i++){result+=(Formula.ISNUMBER(numbers[i]))?numbers[i]*numbers[i]:0}
return result};Formula.SUMX2MY2=function(array_x,array_y){var result=0;array_x=Formula.FLATTEN(array_x);array_y=Formula.FLATTEN(array_y);for(var i=0;i<array_x.length;i++){result+=array_x[i]*array_x[i]-array_y[i]*array_y[i]}
return result};Formula.SUMX2PY2=function(array_x,array_y){var result=0;array_x=Formula.FLATTEN(array_x);array_y=Formula.FLATTEN(array_y);for(var i=0;i<array_x.length;i++){result+=array_x[i]*array_x[i]+array_y[i]*array_y[i]}
return result};Formula.SUMXMY2=function(array_x,array_y){var result=0;array_x=Formula.FLATTEN(array_x);array_y=Formula.FLATTEN(array_y);for(var i=0;i<array_x.length;i++){result+=Math.pow(array_x[i]-array_y[i],2)}
return result};Formula.TAN=function(number){return Math.tan(number)};Formula.TANH=function(number){var e2=Math.exp(2*number);return(e2-1)/(e2+1)};Formula.TRUNC=function(number,digits){digits=(typeof digits==='undefined')?0:digits;var sign=(number>0)?1:-1;return sign*(Math.floor(Math.abs(number)*Math.pow(10,digits)))/Math.pow(10,digits)};Formula.AVEDEV=function(){var range=Formula.FLATTEN(arguments);return jStat.sum(jStat(range).subtract(jStat.mean(range)).abs()[0])/range.length};Formula.AVERAGE=function(){var range=Formula.NUMBERS(Formula.FLATTEN(arguments));var n=range.length;var sum=0;var count=0;for(var i=0;i<n;i++){sum+=range[i];count+=1}
return sum/count};Formula.AVERAGEA=function(){var range=Formula.FLATTEN(arguments);var n=range.length;var sum=0;var count=0;for(var i=0;i<n;i++){var el=range[i];if(typeof el==='number'){sum+=el}
if(el===!0){sum++}
if(el!==null){count++}}
return sum/count};Formula.AVERAGEIF=function(range,criteria,average_range){average_range=average_range||range;range=Formula.FLATTEN(range);average_range=Formula.FLATTEN(average_range);criteria=criteria.toString();var average_count=0;var result=0;if(range.length==average_range.length){for(var i=0;i<range.length;i++){var newCriteria=criteria;if(!isNaN(range[i])&&range[i]!=''){newCriteria=newCriteria.replace('=','');if(!/[<>=!]/.test(newCriteria)){newCriteria='=="'+newCriteria+'"'}
if(eval(range[i]+newCriteria)){result+=average_range[i];average_count++}}else{range[i]=range[i].toString().toUpperCase();if(range[i].match(new RegExp('^'+newCriteria+'$'))){result+=average_range[i];average_count++}}}
if(average_count===0||isNaN(result)){return'#DIV/0!'}
return result/average_count}else{return'#N/A'}};Formula.AVERAGEIFS=function(){var args=Formula.ARGSTOARRAY(arguments);var criteria=(args.length-1)/2;var range=Formula.FLATTEN(args[0]);var count=0;var result=0;for(var i=0;i<range.length;i++){var condition='';for(var j=0;j<criteria;j++){condition+=args[2*j+1][i]+args[2*j+2];if(j!==criteria-1){condition+='&&'}}
if(eval(condition)){result+=range[i];count++}}
var average=result/count;if(isNaN(average)){return 0}else{return average}};Formula.BETADIST=function(x,alpha,beta,cumulative,A,B){A=(typeof A==='undefined')?0:A;B=(typeof B==='undefined')?1:B;x=(x-A)/(B-A);return(cumulative)?jStat.beta.cdf(x,alpha,beta):jStat.beta.pdf(x,alpha,beta)};Formula.BETAINV=function(probability,alpha,beta,A,B){A=(typeof A==='undefined')?0:A;B=(typeof B==='undefined')?1:B;return jStat.beta.inv(probability,alpha,beta)*(B-A)+A};Formula.BINOMDIST=function(successes,trials,probability,cumulative){return(cumulative)?jStat.binomial.cdf(successes,trials,probability):jStat.binomial.pdf(successes,trials,probability)};Formula.BINOMDISTRANGE=function(trials,probability,successes,successes2){successes2=(typeof successes2==='undefined')?successes:successes2;var result=0;for(var i=successes;i<=successes2;i++){result+=Formula.COMBIN(trials,i)*Math.pow(probability,i)*Math.pow(1-probability,trials-i)}
return result};Formula.BINOMINV=function(trials,probability,alpha){var x=0;while(x<=trials){if(jStat.binomial.cdf(x,trials,probability)>=alpha){return x}
x++}};Formula.CHISQDIST=function(x,k,cumulative){return(cumulative)?jStat.chisquare.cdf(x,k):jStat.chisquare.pdf(x,k)};Formula.CHISQDISTRT=function(){return};Formula.CHISQINV=function(probability,k){return jStat.chisquare.inv(probability,k)};Formula.CHISQINVRT=function(){return};Formula.CHISQTEST=function(){return};Formula.CONFIDENCENORM=function(alpha,sd,n){return jStat.normalci(1,alpha,sd,n)[1]-1};Formula.CONFIDENCET=function(alpha,sd,n){return jStat.tci(1,alpha,sd,n)[1]-1};Formula.CORREL=function(){return jStat.corrcoeff.apply(this,arguments)};Formula.COUNT=function(){var numbers=Formula.NUMBERS(Formula.FLATTEN(arguments));return numbers.length};Formula.COUNTA=function(){var range=Formula.FLATTEN(arguments)
return range.length-Formula.COUNTBLANK(range)};Formula.COUNTBLANK=function(){var range=Formula.FLATTEN(arguments);var blanks=0;var element;for(var i=0;i<range.length;i++){element=range[i];if(element===null||element===''||!element){blanks++}}
return blanks};Formula.COUNTIF=function(range,criteria){var matches=0;range=Formula.FLATTEN(range);criteria=criteria.toString();for(var i=0;i<range.length;i++){var newCriteria=criteria;if(!isNaN(range[i])&&range[i]!=''){newCriteria=newCriteria.replace('=','');if(!/[<>=!]/.test(newCriteria)){newCriteria='=="'+newCriteria+'"'}
if(eval(range[i]+newCriteria)){matches++}}else{range[i]=range[i].toString().toUpperCase();newCriteria=newCriteria.replace(/\*/g,function(match,contents,offset,s){if(offset[contents-1]!='~'){return'.*'}
return'*'});newCriteria=newCriteria.replace(/\?/g,function(match,contents,offset,s){if(offset[contents-1]!='~'){return'.{1}'}
return'?'});newCriteria=newCriteria.replace(/~\*/g,'\\*');newCriteria=newCriteria.replace(/~\?/g,'\\?');if(range[i].match(new RegExp('^'+newCriteria+'$'))){matches++}}}
return matches};Formula.COUNTIFS=function(){var criteria=(arguments.length-1)/2;var range=arguments[0];var result=0;for(var i=0;i<range.length;i++){var fit=!0;for(var j=0;j<criteria;j++){if(!eval(arguments[2*j+1][i]+arguments[2*j+2])){fit=!1}}
result+=(fit)?1:0}
return result};Formula.COUNTUNIQUE=function(){return _.uniq(Formula.FLATTEN(arguments)).length};Formula.COVARIANCEP=function(array1,array2){array1=Formula.FLATTEN(array1);array2=Formula.FLATTEN(array2);var mean1=jStat.mean(array1);var mean2=jStat.mean(array2);var result=0;var n=array1.length;for(var i=0;i<n;i++){result+=(array1[i]-mean1)*(array2[i]-mean2)}
return result/n};Formula.COVARIANCES=function(){return jStat.covariance.apply(this,simplifyArguments(arguments))};Formula.DEVSQ=function(){var range=Formula.ARGSCONCAT(arguments);var mean=jStat.mean(range);var result=0;for(var i=0;i<range.length;i++){result+=Math.pow((range[i]-mean),2)}
return result};Formula.EXPONDIST=function(x,lambda,cumulative){return(cumulative)?jStat.exponential.cdf(x,lambda):jStat.exponential.pdf(x,lambda)};Formula.FDIST=function(x,d1,d2,cumulative){return(cumulative)?jStat.centralF.cdf(x,d1,d2):jStat.centralF.pdf(x,d1,d2)};Formula.FDISTRT=function(){return};Formula.FINV=function(probability,d1,d2){if(probability<=0.0||probability>1.0){return'#NUM!'}
return jStat.centralF.inv(1.0-probability,d1,d2)};Formula.FINVRT=function(){return};Formula.FTEST=function(){return};Formula.FISHER=function(x){return Math.log((1+x)/(1-x))/2};Formula.FISHERINV=function(y){var e2y=Math.exp(2*y);return(e2y-1)/(e2y+1)};Formula.FORECAST=function(x,data_y,data_x){data_x=Formula.FLATTEN(data_x);data_y=Formula.FLATTEN(data_y);var xmean=jStat.mean(data_x);var ymean=jStat.mean(data_y);var n=data_x.length;var num=0;var den=0;for(var i=0;i<n;i++){num+=(data_x[i]-xmean)*(data_y[i]-ymean);den+=Math.pow(data_x[i]-xmean,2)}
var b=num/den;var a=ymean-b*xmean;return a+b*x};Formula.FREQUENCY=function(data,bins){var n=data.length;var b=bins.length;var r=[];for(var i=0;i<=b;i++){r[i]=0;for(var j=0;j<n;j++){if(i===0){if(data[j]<=bins[0]){r[0]+=1}}else if(i<b){if(data[j]>bins[i-1]&&data[j]<=bins[i]){r[i]+=1}}else if(i===b){if(data[j]>bins[b-1]){r[b]+=1}}}}
return r};Formula.GAMMA=function(){return jStat.gammafn.apply(this,arguments)};Formula.GAMMADIST=function(){return};Formula.GAMMAINV=function(){return};Formula.GAMMALN=function(){return jStat.gammaln.apply(this,arguments)};Formula.GAMMALNPRECISE=function(){return};Formula.GAUSS=function(z){return jStat.normal.cdf(z,0,1)-0.5};Formula.GEOMEAN=function(){return jStat.geomean(Formula.ARGSCONCAT(arguments))};Formula.GROWTH=function(known_y,known_x,new_x,use_const){var i;if(typeof(known_x)==='undefined'){known_x=[];for(i=1;i<=known_y.length;i++){known_x.push(i)}}
if(typeof(new_x)==='undefined'){new_x=[];for(i=1;i<=known_y.length;i++){new_x.push(i)}}
if(typeof(use_const)==='undefined'){use_const=!0}
var n=known_y.length;var avg_x=0;var avg_y=0;var avg_xy=0;var avg_xx=0;for(i=0;i<n;i++){var x=known_x[i];var y=Math.log(known_y[i]);avg_x+=x;avg_y+=y;avg_xy+=x*y;avg_xx+=x*x}
avg_x/=n;avg_y/=n;avg_xy/=n;avg_xx/=n;var beta;var alpha;if(use_const){beta=(avg_xy-avg_x*avg_y)/(avg_xx-avg_x*avg_x);alpha=avg_y-beta*avg_x}else{beta=avg_xy/avg_xx;alpha=0}
var new_y=[];for(i=0;i<new_x.length;i++){new_y.push(Math.exp(alpha+beta*new_x[i]))}
return new_y};Formula.HARMEAN=function(){var range=Formula.ARGSCONCAT(arguments);var n=range.length;var den=0;for(var i=0;i<n;i++){den+=1/range[i]}
return n/den};Formula.HYPGEOMDIST=function(x,n,M,N,cumulative){function pdf(x,n,M,N){return Formula.COMBIN(M,x)*Formula.COMBIN(N-M,n-x)/Formula.COMBIN(N,n)}
function cdf(x,n,M,N){var result=0;for(var i=0;i<=x;i++){result+=pdf(i,n,M,N)}
return result}
return(cumulative)?cdf(x,n,M,N):pdf(x,n,M,N)};Formula.INTERCEPT=function(data_y,data_x){return Formula.FORECAST(0,data_y,data_x)};Formula.KURT=function(){var range=Formula.ARGSCONCAT(arguments);var mean=jStat.mean(range);var n=range.length;var sigma=0;for(var i=0;i<n;i++){sigma+=Math.pow(range[i]-mean,4)}
sigma=sigma/Math.pow(jStat.stdev(range,!0),4);return((n*(n+1))/((n-1)*(n-2)*(n-3)))*sigma-3*(n-1)*(n-1)/((n-2)*(n-3))};Formula.LARGE=function(array,k){return array.sort(function(a,b){return b-a})[k-1]};Formula.LINEST=function(data_y,data_x){var xmean=jStat.mean(data_x);var ymean=jStat.mean(data_y);var n=data_x.length;var num=0;var den=0;for(var i=0;i<n;i++){num+=(data_x[i]-xmean)*(data_y[i]-ymean);den+=Math.pow(data_x[i]-xmean,2)}
var m=num/den;var b=ymean-m*xmean;return[m,b]};Formula.LOGEST=function(){return};Formula.LOGNORMDIST=function(x,mean,sd,cumulative){return(cumulative)?jStat.lognormal.cdf(x,mean,sd):jStat.lognormal.pdf(x,mean,sd)};Formula.LOGNORMINV=function(probability,mean,sd){return jStat.lognormal.inv(probability,mean,sd)};Formula.MAX=function(){var range=Formula.FLATTEN(arguments);range=range.filter(function(x){return!isNaN(parseFloat(x))});var n=range.length;var max=(n>0)?range[0]:0;for(var i=0;i<n;i++){max=(range[i]>max&&(range[i]!==!0)&&(range[i]!==!1))?range[i]:max}
return max};Formula.MAXA=function(){var range=Formula.FLATTEN(arguments);return(range.length>0)?Math.max.apply(Math,range):0};Formula.MEDIAN=function(){return jStat.median(Formula.FLATTEN(arguments))};Formula.MIN=function(){var range=Formula.FLATTEN(arguments);range=range.filter(function(x){return!isNaN(parseFloat(x))});var n=range.length;var min=(n>0)?range[0]:0;for(var i=0;i<n;i++){min=(range[i]<min&&(range[i]!==!0)&&(range[i]!==!1))?range[i]:min}
return min};Formula.MINA=function(){var range=Formula.FLATTEN(arguments);return(range.length>0)?Math.min.apply(Math,range):0};Formula.MODEMULT=function(){var range=Formula.ARGSCONCAT(arguments),n=range.length,count={},maxItems=[],max=0,currentItem;for(var i=0;i<n;i++){currentItem=range[i];count[currentItem]=count[currentItem]?count[currentItem]+1:1;if(count[currentItem]>max){max=count[currentItem];maxItems=[]}
if(count[currentItem]===max){maxItems[maxItems.length]=currentItem}}
return maxItems};Formula.MODESNGL=function(){return Formula.MODEMULT(Formula.ARGSCONCAT(arguments)).sort(function(a,b){return a-b})[0]};Formula.NEGBINOMDIST=function(k,r,p,cumulative){return(cumulative)?jStat.negbin.cdf(k,r,p):jStat.negbin.pdf(k,r,p)};Formula.NORMDIST=function(x,mean,sd,cumulative){if(isNaN(x)||isNaN(mean)||isNaN(sd)){return'#VALUE!'}
if(sd<=0){return'#NUM!'}
return(cumulative)?jStat.normal.cdf(x,mean,sd):jStat.normal.pdf(x,mean,sd)};Formula.NORMINV=function(probability,mean,sd){return jStat.normal.inv(probability,mean,sd)};Formula.NORMSDIST=function(z,cumulative){return(cumulative)?jStat.normal.cdf(z,0,1):jStat.normal.pdf(z,0,1)};Formula.NORMSINV=function(probability){return jStat.normal.inv(probability,0,1)};Formula.PEARSON=function(data_x,data_y){var xmean=jStat.mean(data_x);var ymean=jStat.mean(data_y);var n=data_x.length;var num=0;var den1=0;var den2=0;for(var i=0;i<n;i++){num+=(data_x[i]-xmean)*(data_y[i]-ymean);den1+=Math.pow(data_x[i]-xmean,2);den2+=Math.pow(data_y[i]-ymean,2)}
return num/Math.sqrt(den1*den2)};Formula.PERCENTILEEXC=function(array,k){array=array.sort(function(a,b){{return a-b}});var n=array.length;if(k<1/(n+1)||k>1-1/(n+1)){return'#NUM!'}
var l=k*(n+1)-1;var fl=Math.floor(l);return Formula.CLEANFLOAT((l===fl)?array[l]:array[fl]+(l-fl)*(array[fl+1]-array[fl]))};Formula.PERCENTILEINC=function(array,k){array=array.sort(function(a,b){return a-b});var n=array.length;var l=k*(n-1);var fl=Math.floor(l);return Formula.CLEANFLOAT((l===fl)?array[l]:array[fl]+(l-fl)*(array[fl+1]-array[fl]))};Formula.PERCENTRANKEXC=function(array,x,significance){array=array.sort(function(a,b){return a-b});var uniques=_.uniq(array);var n=array.length;var m=uniques.length;significance=(typeof significance==='undefined')?3:significance;var power=Math.pow(10,significance);var result=0;var match=!1;var i=0;while(!match&&i<m){if(x===uniques[i]){result=(array.indexOf(uniques[i])+1)/(n+1);match=!0}else if(x>=uniques[i]&&(x<uniques[i+1]||i===m-1)){result=(array.indexOf(uniques[i])+1+(x-uniques[i])/(uniques[i+1]-uniques[i]))/(n+1);match=!0}
i++}
return Math.floor(result*power)/power};Formula.PERCENTRANKINC=function(array,x,significance){array=array.sort(function(a,b){return a-b});var uniques=_.uniq(array);var n=array.length;var m=uniques.length;significance=(typeof significance==='undefined')?3:significance;var power=Math.pow(10,significance);var result=0;var match=!1;var i=0;while(!match&&i<m){if(x===uniques[i]){result=array.indexOf(uniques[i])/(n-1);match=!0}else if(x>=uniques[i]&&(x<uniques[i+1]||i===m-1)){result=(array.indexOf(uniques[i])+(x-uniques[i])/(uniques[i+1]-uniques[i]))/(n-1);match=!0}
i++}
return Math.floor(result*power)/power};Formula.PERMUT=function(number,number_chosen){return Formula.FACT(number)/Formula.FACT(number-number_chosen)};Formula.PERMUTATIONA=function(number,number_chosen){return Math.pow(number,number_chosen)};Formula.PHI=function(x){return Math.exp(-0.5*x*x)/SQRT2PI};Formula.POISSONDIST=function(x,mean,cumulative){return(cumulative)?jStat.poisson.cdf(x,mean):jStat.poisson.pdf(x,mean)};Formula.PROB=function(range,probability,lower,upper){if(typeof lower==='undefined'){return 0}
upper=(typeof upper==='undefined')?lower:upper;if(lower===upper){return(range.indexOf(lower)>=0)?probability[range.indexOf(lower)]:0}
var sorted=range.sort(function(a,b){return a-b});var n=sorted.length;var result=0;for(var i=0;i<n;i++){if(sorted[i]>=lower&&sorted[i]<=upper){result+=probability[range.indexOf(sorted[i])]}}
return result};Formula.QUARTILEEXC=function(range,quart){switch(quart){case 1:return Formula.PERCENTILEEXC(range,0.25);case 2:return Formula.PERCENTILEEXC(range,0.5);case 3:return Formula.PERCENTILEEXC(range,0.75);default:return'#NUM!'}};Formula.QUARTILEINC=function(range,quart){switch(quart){case 1:return Formula.PERCENTILEINC(range,0.25);case 2:return Formula.PERCENTILEINC(range,0.5);case 3:return Formula.PERCENTILEINC(range,0.75);default:return'#NUM!'}};Formula.RANK=function(number,range,order){return Formula.RANKEQ(number,range,order)};Formula.RANKAVG=function(number,range,order){range=Formula.FLATTEN(range);order=(typeof order==='undefined')?!1:order;var sort=(order)?function(a,b){return a-b}:function(a,b){return b-a};range=range.sort(sort);var count=Formula.COUNTIN(range,number);return(count>1)?(2*range.indexOf(number)+count+1)/2:range.indexOf(number)+1};Formula.RANKEQ=function(number,range,order){range=Formula.FLATTEN(range);order=(typeof order==='undefined')?!1:order;var sort=(order)?function(a,b){return a-b}:function(a,b){return b-a};range=range.sort(sort);return range.indexOf(number)+1};Formula.RSQ=function(data_x,data_y){return Math.pow(Formula.PEARSON(data_x,data_y),2)};Formula.SKEW=function(){var range=Formula.ARGSCONCAT(arguments);var mean=jStat.mean(range);var n=range.length;var sigma=0;for(var i=0;i<n;i++){sigma+=Math.pow(range[i]-mean,3)}
return n*sigma/((n-1)*(n-2)*Math.pow(jStat.stdev(range,!0),3))};Formula.SKEWP=function(){var range=Formula.ARGSCONCAT(arguments);var mean=jStat.mean(range);var n=range.length;var m2=0;var m3=0;for(var i=0;i<n;i++){m3+=Math.pow(range[i]-mean,3);m2+=Math.pow(range[i]-mean,2)}
m3=m3/n;m2=m2/n;return m3/Math.pow(m2,3/2)};Formula.SLOPE=function(data_y,data_x){var xmean=jStat.mean(data_x);var ymean=jStat.mean(data_y);var n=data_x.length;var num=0;var den=0;for(var i=0;i<n;i++){num+=(data_x[i]-xmean)*(data_y[i]-ymean);den+=Math.pow(data_x[i]-xmean,2)}
return num/den};Formula.SMALL=function(array,k){return array.sort(function(a,b){return a-b})[k-1]};Formula.STANDARDIZE=function(x,mean,sd){return(x-mean)/sd};Formula.STDEVA=function(){var range=Formula.FLATTEN(arguments);var n=range.length;var sigma=0;var mean=jStat.mean(range);for(var i=0;i<n;i++){sigma+=Math.pow(range[i]-mean,2)}
return Math.sqrt(sigma/(n-1))};Formula.STDEVP=function(){var range=Formula.FLATTEN(arguments);var n=range.length;var sigma=0;var count=0;var mean=Formula.AVERAGE(range);for(var i=0;i<n;i++){if(range[i]!==!0&&range[i]!==!1){sigma+=Math.pow(range[i]-mean,2);count++}}
return Math.sqrt(sigma/count)};Formula.STDEVPA=function(){var range=Formula.ARGSCONCAT(arguments);var n=range.length;var sigma=0;var mean=jStat.mean(range);for(var i=0;i<n;i++){sigma+=Math.pow(range[i]-mean,2)}
return Math.sqrt(sigma/n)};Formula.STDEVS=function(){var range=Formula.FLATTEN(arguments);var n=range.length;var sigma=0;var count=0;var mean=Formula.AVERAGE(range);for(var i=0;i<n;i++){if(range[i]!==!0&&range[i]!==!1){sigma+=Math.pow(range[i]-mean,2);count++}}
return Math.sqrt(sigma/(count-1))};Formula.STEYX=function(data_y,data_x){var xmean=jStat.mean(data_x);var ymean=jStat.mean(data_y);var n=data_x.length;var lft=0;var num=0;var den=0;for(var i=0;i<n;i++){lft+=Math.pow(data_y[i]-ymean,2);num+=(data_x[i]-xmean)*(data_y[i]-ymean);den+=Math.pow(data_x[i]-xmean,2)}
return Math.sqrt((lft-num*num/den)/(n-2))};Formula.TDIST=function(x,df,cumulative){return(cumulative)?jStat.studentt.cdf(x,df):jStat.studentt.pdf(x,df)};Formula.TDIST2T=function(){return};Formula.TDISTRT=function(){return};Formula.TINV=function(probability,df){return jStat.studentt.inv(probability,df)};Formula.TINV2T=function(){return};Formula.TTEST=function(){return};Formula.TREND=function(){return};Formula.TRIMMEAN=function(range,percent){range=Formula.FLATTEN(range);var trim=Formula.FLOOR(range.length*percent,2)/2;return jStat.mean(_.initial(_.rest(range.sort(function(a,b){return a-b}),trim),trim))};Formula.VARA=function(){var range=Formula.FLATTEN(arguments);var n=range.length;var sigma=0;var count=0;var mean=Formula.AVERAGEA(range);for(var i=0;i<n;i++){var el=range[i];if(typeof el==='number'){sigma+=Math.pow(el-mean,2)}else if(el===!0){sigma+=Math.pow(1-mean,2)}else{sigma+=Math.pow(0-mean,2)}
if(el!==null){count++}}
return sigma/(count-1)};Formula.VARP=function(){var range=Formula.NUMBERS(Formula.FLATTEN(arguments));var n=range.length;var sigma=0;var count=0;var mean=Formula.AVERAGE(range);for(var i=0;i<n;i++){sigma+=Math.pow(range[i]-mean,2);count++}
return sigma/count};Formula.VARPA=function(){var range=Formula.FLATTEN(arguments);var n=range.length;var sigma=0;var count=0;var mean=Formula.AVERAGEA(range);for(var i=0;i<n;i++){var el=range[i];if(typeof el==='number'){sigma+=Math.pow(el-mean,2)}else if(el===!0){sigma+=Math.pow(1-mean,2)}else{sigma+=Math.pow(0-mean,2)}
if(el!==null){count++}}
return sigma/count};Formula.VARS=function(){var range=Formula.FLATTEN(arguments);var n=range.length;var sigma=0;var count=0;var mean=Formula.AVERAGE(range);for(var i=0;i<n;i++){if(range[i]!==!0&&range[i]!==!1){sigma+=Math.pow(range[i]-mean,2);count++}}
return sigma/(count-1)};Formula.WEIBULLDIST=function(x,alpha,beta,cumulative){return(cumulative)?1-Math.exp(-Math.pow(x/beta,alpha)):Math.pow(x,alpha-1)*Math.exp(-Math.pow(x/beta,alpha))*alpha/Math.pow(beta,alpha)};Formula.ZTEST=function(range,x,sigma){var n=range.length;var sd=(typeof sigma==='undefined')?Formula.STDEVS(range):sigma;return 1-Formula.NORMSDIST((Formula.AVERAGE(range)-x)/(sd/Math.sqrt(n)),Formula.TRUE)};Formula.CHAR=function(number){return String.fromCharCode(number)};Formula.CLEAN=function(text){return text.replace(/[\0-\x1F]/g,"")};Formula.CODE=function(text){return text.charCodeAt(0)};Formula.CONCATENATE=function(){var string='';for(var i=0;i<arguments.length;i++){if(arguments[i]!==null&&arguments[i]!==undefined){string+=arguments[i]}}
return string};Formula.DOLLAR=function(number,decimals){decimals=(typeof decimals==='undefined')?2:decimals;var format='';if(decimals<=0){number=Math.round(number*Math.pow(10,decimals))/Math.pow(10,decimals);format='$0,0'}else if(decimals>0){format='$0,0.'+new Array(decimals+1).join('0')}
return numeral(number).format(format)};Formula.EXACT=function(text1,text2){return text1===text2};Formula.FIND=function(find_text,within_text,position){position=(typeof position==='undefined')?0:position;return within_text?within_text.indexOf(find_text,position-1)+1:null};Formula.FIXED=function(number,decimals,no_commas){decimals=(typeof decimals==='undefined')?2:decimals;no_commas=(typeof no_commas==='undefined')?!1:no_commas;var format=no_commas?'0':'0,0';if(decimals<=0){number=Math.round(number*Math.pow(10,decimals))/Math.pow(10,decimals)}else if(decimals>0){format+='.'+new Array(decimals+1).join('0')}
return numeral(number).format(format)};Formula.HTML2TEXT=function(value){var result='';if(value){if(value instanceof Array){value.forEach(function(line){if(result!==''){result+='\n'}
result+=(line.replace(/<(?:.|\n)*?>/gm,''))})}else{result=value.replace(/<(?:.|\n)*?>/gm,'')}}
return result};Formula.HUMANIZE=function(value){if(value instanceof Date){var dvalue=moment(value);if(dvalue.hours()||dvalue.minutes()||dvalue.seconds()){return dvalue.format("dddd, MMMM Do YYYY, h:mm:ss")}else{return dvalue.format("dddd, MMMM Do YYYY")}}
return value};Formula.JOIN=function(array,separator){return array.join(separator)};Formula.LEFT=function(text,number){number=(typeof number==='undefined')?1:number;return text?text.substring(0,number):null};Formula.LEN=function(text){return text?text.length:0};Formula.LOWER=function(text){return text?text.toLowerCase():text};Formula.MID=function(text,start,number){text=text.toString();return text.substr(start-1,number)};Formula.NUMBERVALUE=function(text,decimal_separator,group_separator){decimal_separator=(typeof decimal_separator==='undefined')?'.':decimal_separator;group_separator=(typeof group_separator==='undefined')?',':group_separator;return Number(text.replace(decimal_separator,'.').replace(group_separator,''))};Formula.NUMBERS=function(){var possibleNumbers=Formula.FLATTEN(arguments);return possibleNumbers.filter(function(el){return typeof el==='number'})};Formula.PROPER=function(text){if(!text){return}
return text.replace(/\w\S*/g,function(txt){return txt.charAt(0).toUpperCase()+txt.substr(1).toLowerCase()})};Formula.REGEXEXTRACT=function(text,regular_expression){var match=text.match(new RegExp(regular_expression));return match?(match[match.length>1?match.length-1:0]):null};Formula.REGEXMATCH=function(text,regular_expression,full){var match=text.match(new RegExp(regular_expression));return full?match:!!match};Formula.REGEXREPLACE=function(text,regular_expression,replacement){return text.replace(new RegExp(regular_expression),replacement)};Formula.REPLACE=function(text,position,length,new_text){return text.substr(0,position-1)+new_text+text.substr(position-1+length)};Formula.REPT=function(text,number){return new Array(number+1).join(text)};Formula.RIGHT=function(text,number){number=(typeof number==='undefined')?1:number;return text?text.substring(text.length-number):null};Formula.ROMAN=function(number){var digits=String(number).split('');var key=['','C','CC','CCC','CD','D','DC','DCC','DCCC','CM','','X','XX','XXX','XL','L','LX','LXX','LXXX','XC','','I','II','III','IV','V','VI','VII','VIII','IX'];var roman='';var i=3;while(i--){roman=(key[+digits.pop()+(i*10)]||'')+roman}
return new Array(+digits.join('')+1).join('M')+roman};Formula.SEARCH=function(find_text,within_text,position){position=(typeof position==='undefined')?0:position;return within_text.toLowerCase().indexOf(find_text.toLowerCase(),position-1)+1};Formula.SPLIT=function(text,separator){return _s.words(text,separator)};Formula.SUBSTITUTE=function(text,old_text,new_text,occurrence){if(!text||!old_text||!new_text){return text}else if(typeof occurrence==='undefined'){return text.replace(new RegExp(old_text,'g'),new_text)}else{var index=0;var i=0;while(text.indexOf(old_text,index)>0){index=text.indexOf(old_text,index+1);i++;if(i===occurrence){return text.substring(0,index)+new_text+text.substring(index+old_text.length)}}}};Formula.T=function(value){return(typeof value==="string")?value:null};Formula.TEXT=function(value,format){if(!value){return''}
if(value instanceof Object){try{return JSON.stringify(value)}catch(err){return''}}
if(typeof value==='string'){if(!format){return value}
return(format.indexOf('0')>=0)?numeral(value).format(format):moment(new Date(value)).format(format)}
if(value.toString&&typeof value.toString==='function'){return value.toString()}
return''};Formula.TRIM=function(text){return _s.clean(text)};Formula.UNICHAR=Formula.CHAR;Formula.UNICODE=Formula.CODE;Formula.UPPER=function(text){return text.toUpperCase()};Formula.VALUE=function(text){return numeral().unformat(text)};Formula.MD5=function(data,key,raw){return md5(data,key,raw)};Formula.NUMERAL=function(number,format){return numeral(number).format(format)};Formula.ISERR=function(value){return(['#DIV/0!','#NAME?','#NUM!','#NULL!','#REF!','#VALUE!'].indexOf(value)>=0)?!0:!1};Formula.ISERROR=function(value){return Formula.ISERR(value)||value==='#N/A'};Formula.IFERROR=function(value,valueIfError){if(Formula.ISERROR(value)){return valueIfError}
return value};Formula.INDEX=function(arrayValues,rowNum,colNum){if((rowNum<0)||(colNum<0)){return'#VALUE!'}
if(!arrayValues){return'#REF!'}
rowNum=typeof rowNum!='undefined'&&rowNum>0?rowNum:1;colNum=typeof colNum!='undefined'&&colNum>0?colNum:1;arrayValues=Formula.FLATTEN(arrayValues);var chunkArr=Formula._CHUNK(arrayValues);if(chunkArr&&!Formula.ISERROR(chunkArr)){var chunkArrColsCount=chunkArr.length,chunkArrRowsCount=typeof chunkArr[0]!='undefined'?chunkArr[0].length:0;if(rowNum>chunkArrRowsCount){if(chunkArrRowsCount==1){colNum=rowNum;rowNum=chunkArrRowsCount}else{return'#NUM!'}}
if(colNum>chunkArrColsCount){return'#NUM!'}
return chunkArr[colNum-1][rowNum-1]}
return chunkArr};Formula.MATCH=function(lookupValue,lookupArray,matchType){matchType=typeof matchType!='undefined'&&matchType!=null?Formula.FLATTENSINGLE(matchType):1;lookupArray=Formula.FLATTEN(lookupArray);lookupValue=Formula.FLATTENSINGLE(lookupValue);var res='#N/A';lookupValue=lookupValue.toString().toLowerCase();if(typeof lookupValue!='number'&&typeof lookupValue!='string'&&typeof lookupValue!='boolean'){return res}
if(matchType!==0&&matchType!==-1&&matchType!==1){return res}
if(!lookupArray.length){return res}
for(var i in lookupArray){if(typeof lookupArray[i]!='number'&&typeof lookupArray[i]!='string'&&typeof lookupArray[i]!='boolean'&&lookupArray[i]!=null){return res}
if(typeof lookupArray[i]=='string'){lookupArray[i]=lookupArray[i].toLowerCase()}
if(lookupArray[i]==null&&(matchType==1||matchType==-1)){lookupArray=lookupArray.slice(0,i-1)}}
if(matchType==1){lookupArray=lookupArray.sort()}else if(matchType==-1){lookupArray=lookupArray.sort();lookupArray=lookupArray.reverse()}
for(var j in lookupArray){if(matchType==0&&lookupArray[j]==lookupValue){res=++j}else if(matchType==-1&&lookupArray[j]>=lookupValue){res=++j}else if(matchType==1&&lookupArray[j]<=lookupValue){res=++j}}
return res};Formula._CHUNK=function(array){var formula=window.supsystic.Tables._currentFormula;if(formula){var regexp=new RegExp(/([a-z]+([0-9]+)):?([a-z]+([0-9]+))?/,'gi'),rangeData=regexp.exec(formula),start=rangeData&&typeof rangeData[2]!='undefined'?rangeData[2]:0,end=rangeData&&typeof rangeData[4]!='undefined'?rangeData[4]:start,chunkStep=end-start+1;if(chunkStep<1){return'#REF!'}
return Formula._GETCHUNKARRAY(array,chunkStep)}
return array};Formula._GETCHUNKARRAY=function(arr,len){var chunks=[],i=0,n=arr.length;while(i<n){chunks.push(arr.slice(i,i+=len))}
return chunks};return Formula}}).call(this);if(typeof _u=='function'){_=_u.noConflict()};
var Parser=(function(){var o=function(k,v,o,l){for(o=o||{},l=k.length;l--;o[k[l]]=v);return o},$V0=[1,4],$V1=[1,5],$V2=[1,7],$V3=[1,10],$V4=[1,8],$V5=[1,9],$V6=[1,11],$V7=[1,16],$V8=[1,17],$V9=[1,14],$Va=[1,15],$Vb=[1,18],$Vc=[1,20],$Vd=[1,21],$Ve=[1,22],$Vf=[1,23],$Vg=[1,24],$Vh=[1,25],$Vi=[1,26],$Vj=[1,27],$Vk=[1,28],$Vl=[1,29],$Vm=[5,11,12,13,15,16,17,18,19,20,21,22,29,30,38],$Vn=[5,11,12,13,15,16,17,18,19,20,21,22,29,30,33,38],$Vo=[1,38],$Vp=[5,11,12,13,15,16,17,18,19,20,21,22,29,30,35,38],$Vq=[5,12,13,15,16,17,18,19,29,30,38],$Vr=[5,12,15,16,17,18,29,30,38],$Vs=[5,12,13,15,16,17,18,19,20,21,29,30,38],$Vt=[15,29,30],$Vu=[5,11,12,13,15,16,17,18,19,20,21,22,29,30,32,38,39],$Vv=[30,38];var parser={trace:function trace(){},yy:{},symbols_:{"error":2,"expressions":3,"expression":4,"EOF":5,"variableSequence":6,"TIME_AMPM":7,"TIME_24":8,"number":9,"STRING":10,"&":11,"=":12,"+":13,"(":14,")":15,"<":16,">":17,"NOT":18,"-":19,"*":20,"/":21,"^":22,"FUNCTION":23,"expseq":24,"cell":25,"FIXEDCELL":26,":":27,"CELL":28,";":29,",":30,"array":31,"VARIABLE":32,"DECIMAL":33,"NUMBER":34,"%":35,"{":36,"arrayElement":37,"}":38,"#":39,"!":40,"$accept":0,"$end":1},terminals_:{5:"EOF",7:"TIME_AMPM",8:"TIME_24",10:"STRING",11:"&",12:"=",13:"+",14:"(",15:")",16:"<",17:">",18:"NOT",19:"-",20:"*",21:"/",22:"^",23:"FUNCTION",26:"FIXEDCELL",27:":",28:"CELL",29:";",30:",",32:"VARIABLE",33:"DECIMAL",34:"NUMBER",35:"%",36:"{",38:"}",39:"#",40:"!"},productions_:[0,[3,2],[4,1],[4,1],[4,1],[4,1],[4,1],[4,3],[4,3],[4,3],[4,3],[4,4],[4,4],[4,4],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,2],[4,2],[4,3],[4,4],[4,1],[4,1],[4,2],[25,1],[25,3],[25,1],[25,3],[24,1],[24,3],[24,3],[24,1],[6,1],[6,3],[9,1],[9,3],[9,2],[31,3],[37,3],[37,1],[2,3],[2,4]],performAction:function anonymous(yytext,yyleng,yylineno,yy,yystate,$$,_$){var $0=$$.length-1;switch(yystate){case 1:return $$[$0-1];break;case 2:this.$=yy.handler.helper.callVariable.call(this,$$[$0]);break;case 3:this.$=yy.handler.time.call(yy.obj,$$[$0],!0);break;case 4:this.$=yy.handler.time.call(yy.obj,$$[$0]);break;case 5:this.$=yy.handler.helper.number($$[$0]);break;case 6:this.$=yy.handler.helper.string($$[$0]);break;case 7:this.$=yy.handler.helper.specialMatch('&',$$[$0-2],$$[$0]);break;case 8:this.$=yy.handler.helper.logicMatch('=',$$[$0-2],$$[$0]);break;case 9:this.$=yy.handler.helper.mathMatch('+',$$[$0-2],$$[$0]);break;case 10:this.$=yy.handler.helper.number($$[$0-1]);break;case 11:this.$=yy.handler.helper.logicMatch('<=',$$[$0-3],$$[$0]);break;case 12:this.$=yy.handler.helper.logicMatch('>=',$$[$0-3],$$[$0]);break;case 13:this.$=yy.handler.helper.logicMatch('<>',$$[$0-3],$$[$0]);break;case 14:this.$=yy.handler.helper.logicMatch('NOT',$$[$0-2],$$[$0]);break;case 15:this.$=yy.handler.helper.logicMatch('>',$$[$0-2],$$[$0]);break;case 16:this.$=yy.handler.helper.logicMatch('<',$$[$0-2],$$[$0]);break;case 17:this.$=yy.handler.helper.mathMatch('-',$$[$0-2],$$[$0]);break;case 18:this.$=yy.handler.helper.mathMatch('*',$$[$0-2],$$[$0]);break;case 19:this.$=yy.handler.helper.mathMatch('/',$$[$0-2],$$[$0]);break;case 20:this.$=yy.handler.helper.mathMatch('^',$$[$0-2],$$[$0]);break;case 21:var n1=yy.handler.helper.numberInverted($$[$0]);this.$=n1;if(isNaN(this.$)){this.$=0}
break;case 22:var n1=yy.handler.helper.number($$[$0]);this.$=n1;if(isNaN(this.$)){this.$=0}
break;case 23:this.$=yy.handler.helper.callFunction.call(this,$$[$0-2],'');break;case 24:this.$=yy.handler.helper.callFunction.call(this,$$[$0-3],$$[$0-1]);break;case 28:this.$=yy.handler.helper.fixedCellValue.call(yy.obj,$$[$0]);break;case 29:this.$=yy.handler.helper.fixedCellRangeValue.call(yy.obj,$$[$0-2],$$[$0]);break;case 30:this.$=yy.handler.helper.cellValue.call(yy.obj,$$[$0]);break;case 31:this.$=yy.handler.helper.cellRangeValue.call(yy.obj,$$[$0-2],$$[$0]);break;case 32:if(yy.handler.utils.isArray($$[$0])){this.$=$$[$0]}else{this.$=[$$[$0]]}
break;case 33:case 34:$$[$0-2].push($$[$0]);this.$=$$[$0-2];break;case 36:this.$=[$$[$0]];break;case 37:this.$=(yy.handler.utils.isArray($$[$0-2])?$$[$0-2]:[$$[$0-2]]);this.$.push($$[$0]);break;case 38:this.$=$$[$0];break;case 39:this.$=($$[$0-2]+'.'+$$[$0])*1;break;case 40:this.$=$$[$0-1]*0.01;break;case 41:this.$=[$$[$0-1].split(',')];break;case 42:this.$=$$[$0-2]+','+$$[$0];break;case 43:this.$=$$[$0];break;case 44:case 45:this.$=$$[$0-2]+$$[$0-1]+$$[$0];break}},table:[{2:13,3:1,4:2,6:3,7:$V0,8:$V1,9:6,10:$V2,13:$V3,14:$V4,19:$V5,23:$V6,25:12,26:$V7,28:$V8,32:$V9,34:$Va,39:$Vb},{1:[3]},{5:[1,19],11:$Vc,12:$Vd,13:$Ve,16:$Vf,17:$Vg,18:$Vh,19:$Vi,20:$Vj,21:$Vk,22:$Vl},o($Vm,[2,2],{33:[1,30]}),o($Vm,[2,3]),o($Vm,[2,4]),o($Vm,[2,5],{35:[1,31]}),o($Vm,[2,6]),{2:13,4:32,6:3,7:$V0,8:$V1,9:6,10:$V2,13:$V3,14:$V4,19:$V5,23:$V6,25:12,26:$V7,28:$V8,32:$V9,34:$Va,39:$Vb},{2:13,4:33,6:3,7:$V0,8:$V1,9:6,10:$V2,13:$V3,14:$V4,19:$V5,23:$V6,25:12,26:$V7,28:$V8,32:$V9,34:$Va,39:$Vb},{2:13,4:34,6:3,7:$V0,8:$V1,9:6,10:$V2,13:$V3,14:$V4,19:$V5,23:$V6,25:12,26:$V7,28:$V8,32:$V9,34:$Va,39:$Vb},{14:[1,35]},o($Vm,[2,25]),o($Vm,[2,26],{2:36,32:[1,37],39:$Vb}),o($Vn,[2,36],{39:$Vo}),o($Vp,[2,38],{33:[1,39]}),o($Vm,[2,28],{27:[1,40]}),o($Vm,[2,30],{27:[1,41]}),{32:[1,42]},{1:[2,1]},{2:13,4:43,6:3,7:$V0,8:$V1,9:6,10:$V2,13:$V3,14:$V4,19:$V5,23:$V6,25:12,26:$V7,28:$V8,32:$V9,34:$Va,39:$Vb},{2:13,4:44,6:3,7:$V0,8:$V1,9:6,10:$V2,13:$V3,14:$V4,19:$V5,23:$V6,25:12,26:$V7,28:$V8,32:$V9,34:$Va,39:$Vb},{2:13,4:45,6:3,7:$V0,8:$V1,9:6,10:$V2,13:$V3,14:$V4,19:$V5,23:$V6,25:12,26:$V7,28:$V8,32:$V9,34:$Va,39:$Vb},{2:13,4:48,6:3,7:$V0,8:$V1,9:6,10:$V2,12:[1,46],13:$V3,14:$V4,17:[1,47],19:$V5,23:$V6,25:12,26:$V7,28:$V8,32:$V9,34:$Va,39:$Vb},{2:13,4:50,6:3,7:$V0,8:$V1,9:6,10:$V2,12:[1,49],13:$V3,14:$V4,19:$V5,23:$V6,25:12,26:$V7,28:$V8,32:$V9,34:$Va,39:$Vb},{2:13,4:51,6:3,7:$V0,8:$V1,9:6,10:$V2,13:$V3,14:$V4,19:$V5,23:$V6,25:12,26:$V7,28:$V8,32:$V9,34:$Va,39:$Vb},{2:13,4:52,6:3,7:$V0,8:$V1,9:6,10:$V2,13:$V3,14:$V4,19:$V5,23:$V6,25:12,26:$V7,28:$V8,32:$V9,34:$Va,39:$Vb},{2:13,4:53,6:3,7:$V0,8:$V1,9:6,10:$V2,13:$V3,14:$V4,19:$V5,23:$V6,25:12,26:$V7,28:$V8,32:$V9,34:$Va,39:$Vb},{2:13,4:54,6:3,7:$V0,8:$V1,9:6,10:$V2,13:$V3,14:$V4,19:$V5,23:$V6,25:12,26:$V7,28:$V8,32:$V9,34:$Va,39:$Vb},{2:13,4:55,6:3,7:$V0,8:$V1,9:6,10:$V2,13:$V3,14:$V4,19:$V5,23:$V6,25:12,26:$V7,28:$V8,32:$V9,34:$Va,39:$Vb},{32:[1,56]},o($Vp,[2,40]),{11:$Vc,12:$Vd,13:$Ve,15:[1,57],16:$Vf,17:$Vg,18:$Vh,19:$Vi,20:$Vj,21:$Vk,22:$Vl},o($Vq,[2,21],{11:$Vc,20:$Vj,21:$Vk,22:$Vl}),o($Vq,[2,22],{11:$Vc,20:$Vj,21:$Vk,22:$Vl}),{2:13,4:60,6:3,7:$V0,8:$V1,9:6,10:$V2,13:$V3,14:$V4,15:[1,58],19:$V5,23:$V6,24:59,25:12,26:$V7,28:$V8,31:61,32:$V9,34:$Va,36:[1,62],39:$Vb},o($Vm,[2,27]),{39:$Vo},{32:[1,63]},{34:[1,64]},{26:[1,65]},{28:[1,66]},{40:[1,67]},o($Vm,[2,7]),o([5,12,15,29,30,38],[2,8],{11:$Vc,13:$Ve,16:$Vf,17:$Vg,18:$Vh,19:$Vi,20:$Vj,21:$Vk,22:$Vl}),o($Vq,[2,9],{11:$Vc,20:$Vj,21:$Vk,22:$Vl}),{2:13,4:68,6:3,7:$V0,8:$V1,9:6,10:$V2,13:$V3,14:$V4,19:$V5,23:$V6,25:12,26:$V7,28:$V8,32:$V9,34:$Va,39:$Vb},{2:13,4:69,6:3,7:$V0,8:$V1,9:6,10:$V2,13:$V3,14:$V4,19:$V5,23:$V6,25:12,26:$V7,28:$V8,32:$V9,34:$Va,39:$Vb},o($Vr,[2,16],{11:$Vc,13:$Ve,19:$Vi,20:$Vj,21:$Vk,22:$Vl}),{2:13,4:70,6:3,7:$V0,8:$V1,9:6,10:$V2,13:$V3,14:$V4,19:$V5,23:$V6,25:12,26:$V7,28:$V8,32:$V9,34:$Va,39:$Vb},o($Vr,[2,15],{11:$Vc,13:$Ve,19:$Vi,20:$Vj,21:$Vk,22:$Vl}),o([5,12,15,18,29,30,38],[2,14],{11:$Vc,13:$Ve,16:$Vf,17:$Vg,19:$Vi,20:$Vj,21:$Vk,22:$Vl}),o($Vq,[2,17],{11:$Vc,20:$Vj,21:$Vk,22:$Vl}),o($Vs,[2,18],{11:$Vc,22:$Vl}),o($Vs,[2,19],{11:$Vc,22:$Vl}),o([5,12,13,15,16,17,18,19,20,21,22,29,30,38],[2,20],{11:$Vc}),o($Vn,[2,37]),o($Vm,[2,10]),o($Vm,[2,23]),{15:[1,71],29:[1,72],30:[1,73]},o($Vt,[2,32],{11:$Vc,12:$Vd,13:$Ve,16:$Vf,17:$Vg,18:$Vh,19:$Vi,20:$Vj,21:$Vk,22:$Vl}),o($Vt,[2,35]),{2:13,4:75,6:3,7:$V0,8:$V1,9:6,10:$V2,13:$V3,14:$V4,19:$V5,23:$V6,25:12,26:$V7,28:$V8,32:$V9,34:$Va,37:74,39:$Vb},{40:[1,76]},o($Vp,[2,39]),o($Vm,[2,29]),o($Vm,[2,31]),o($Vu,[2,44]),o($Vr,[2,11],{11:$Vc,13:$Ve,19:$Vi,20:$Vj,21:$Vk,22:$Vl}),o($Vr,[2,13],{11:$Vc,13:$Ve,19:$Vi,20:$Vj,21:$Vk,22:$Vl}),o($Vr,[2,12],{11:$Vc,13:$Ve,19:$Vi,20:$Vj,21:$Vk,22:$Vl}),o($Vm,[2,24]),{2:13,4:77,6:3,7:$V0,8:$V1,9:6,10:$V2,13:$V3,14:$V4,19:$V5,23:$V6,25:12,26:$V7,28:$V8,32:$V9,34:$Va,39:$Vb},{2:13,4:78,6:3,7:$V0,8:$V1,9:6,10:$V2,13:$V3,14:$V4,19:$V5,23:$V6,25:12,26:$V7,28:$V8,32:$V9,34:$Va,39:$Vb},{30:[1,80],38:[1,79]},o($Vv,[2,43],{11:$Vc,12:$Vd,13:$Ve,16:$Vf,17:$Vg,18:$Vh,19:$Vi,20:$Vj,21:$Vk,22:$Vl}),o($Vu,[2,45]),o($Vt,[2,33],{11:$Vc,12:$Vd,13:$Ve,16:$Vf,17:$Vg,18:$Vh,19:$Vi,20:$Vj,21:$Vk,22:$Vl}),o($Vt,[2,34],{11:$Vc,12:$Vd,13:$Ve,16:$Vf,17:$Vg,18:$Vh,19:$Vi,20:$Vj,21:$Vk,22:$Vl}),o($Vt,[2,41]),{2:13,4:81,6:3,7:$V0,8:$V1,9:6,10:$V2,13:$V3,14:$V4,19:$V5,23:$V6,25:12,26:$V7,28:$V8,32:$V9,34:$Va,39:$Vb},o($Vv,[2,42],{11:$Vc,12:$Vd,13:$Ve,16:$Vf,17:$Vg,18:$Vh,19:$Vi,20:$Vj,21:$Vk,22:$Vl})],defaultActions:{19:[2,1]},parseError:function parseError(str,hash){if(hash.recoverable){this.trace(str)}else{throw new Error(str)}},parse:function parse(input){var self=this,stack=[0],tstack=[],vstack=[null],lstack=[],table=this.table,yytext='',yylineno=0,yyleng=0,recovering=0,TERROR=2,EOF=1;var args=lstack.slice.call(arguments,1);var lexer=Object.create(this.lexer);var sharedState={yy:{}};for(var k in this.yy){if(Object.prototype.hasOwnProperty.call(this.yy,k)){sharedState.yy[k]=this.yy[k]}}
lexer.setInput(input,sharedState.yy);sharedState.yy.lexer=lexer;sharedState.yy.parser=this;if(typeof lexer.yylloc=='undefined'){lexer.yylloc={}}
var yyloc=lexer.yylloc;lstack.push(yyloc);var ranges=lexer.options&&lexer.options.ranges;if(typeof sharedState.yy.parseError==='function'){this.parseError=sharedState.yy.parseError}else{this.parseError=Object.getPrototypeOf(this).parseError}
function popStack(n){stack.length=stack.length-2*n;vstack.length=vstack.length-n;lstack.length=lstack.length-n}
_token_stack:function lex(){var token;token=lexer.lex()||EOF;if(typeof token!=='number'){token=self.symbols_[token]||token}
return token}
var symbol,preErrorSymbol,state,action,a,r,yyval={},p,len,newState,expected;while(!0){state=stack[stack.length-1];if(this.defaultActions[state]){action=this.defaultActions[state]}else{if(symbol===null||typeof symbol=='undefined'){symbol=lex()}
action=table[state]&&table[state][symbol]}
_handle_error:if(typeof action==='undefined'||!action.length||!action[0]){var error_rule_depth;var errStr='';function locateNearestErrorRecoveryRule(state){var stack_probe=stack.length-1;var depth=0;for(;;){if((TERROR.toString())in table[state]){return depth}
if(state===0||stack_probe<2){return!1}
stack_probe-=2;state=stack[stack_probe];++depth}}
if(!recovering){error_rule_depth=locateNearestErrorRecoveryRule(state);expected=[];for(p in table[state]){if(this.terminals_[p]&&p>TERROR){expected.push("'"+this.terminals_[p]+"'")}}
if(lexer.showPosition){errStr='Parse error on line '+(yylineno+1)+":\n"+lexer.showPosition()+"\nExpecting "+expected.join(', ')+", got '"+(this.terminals_[symbol]||symbol)+"'"}else{errStr='Parse error on line '+(yylineno+1)+": Unexpected "+(symbol==EOF?"end of input":("'"+(this.terminals_[symbol]||symbol)+"'"))}
this.parseError(errStr,{text:lexer.match,token:this.terminals_[symbol]||symbol,line:lexer.yylineno,loc:yyloc,expected:expected,recoverable:(error_rule_depth!==!1)})}else if(preErrorSymbol!==EOF){error_rule_depth=locateNearestErrorRecoveryRule(state)}
if(recovering==3){if(symbol===EOF||preErrorSymbol===EOF){throw new Error(errStr||'Parsing halted while starting to recover from another error.')}
yyleng=lexer.yyleng;yytext=lexer.yytext;yylineno=lexer.yylineno;yyloc=lexer.yylloc;symbol=lex()}
if(error_rule_depth===!1){throw new Error(errStr||'Parsing halted. No suitable error recovery rule available.')}
popStack(error_rule_depth);preErrorSymbol=(symbol==TERROR?null:symbol);symbol=TERROR;state=stack[stack.length-1];action=table[state]&&table[state][TERROR];recovering=3}
if(action[0]instanceof Array&&action.length>1){throw new Error('Parse Error: multiple actions possible at state: '+state+', token: '+symbol)}
switch(action[0]){case 1:stack.push(symbol);vstack.push(lexer.yytext);lstack.push(lexer.yylloc);stack.push(action[1]);symbol=null;if(!preErrorSymbol){yyleng=lexer.yyleng;yytext=lexer.yytext;yylineno=lexer.yylineno;yyloc=lexer.yylloc;if(recovering>0){recovering--}}else{symbol=preErrorSymbol;preErrorSymbol=null}
break;case 2:len=this.productions_[action[1]][1];yyval.$=vstack[vstack.length-len];yyval._$={first_line:lstack[lstack.length-(len||1)].first_line,last_line:lstack[lstack.length-1].last_line,first_column:lstack[lstack.length-(len||1)].first_column,last_column:lstack[lstack.length-1].last_column};if(ranges){yyval._$.range=[lstack[lstack.length-(len||1)].range[0],lstack[lstack.length-1].range[1]]}
r=this.performAction.apply(yyval,[yytext,yyleng,yylineno,sharedState.yy,action[1],vstack,lstack].concat(args));if(typeof r!=='undefined'){return r}
if(len){stack=stack.slice(0,-1*len*2);vstack=vstack.slice(0,-1*len);lstack=lstack.slice(0,-1*len)}
stack.push(this.productions_[action[1]][0]);vstack.push(yyval.$);lstack.push(yyval._$);newState=table[stack[stack.length-2]][stack[stack.length-1]];stack.push(newState);break;case 3:return!0}}
return!0}};var lexer=(function(){var lexer=({EOF:1,parseError:function parseError(str,hash){if(this.yy.parser){this.yy.parser.parseError(str,hash)}else{throw new Error(str)}},setInput:function(input,yy){this.yy=yy||this.yy||{};this._input=input;this._more=this._backtrack=this.done=!1;this.yylineno=this.yyleng=0;this.yytext=this.matched=this.match='';this.conditionStack=['INITIAL'];this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0};if(this.options.ranges){this.yylloc.range=[0,0]}
this.offset=0;return this},input:function(){var ch=this._input[0];this.yytext+=ch;this.yyleng++;this.offset++;this.match+=ch;this.matched+=ch;var lines=ch.match(/(?:\r\n?|\n).*/g);if(lines){this.yylineno++;this.yylloc.last_line++}else{this.yylloc.last_column++}
if(this.options.ranges){this.yylloc.range[1]++}
this._input=this._input.slice(1);return ch},unput:function(ch){var len=ch.length;var lines=ch.split(/(?:\r\n?|\n)/g);this._input=ch+this._input;this.yytext=this.yytext.substr(0,this.yytext.length-len);this.offset-=len;var oldLines=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1);this.matched=this.matched.substr(0,this.matched.length-1);if(lines.length-1){this.yylineno-=lines.length-1}
var r=this.yylloc.range;this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:lines?(lines.length===oldLines.length?this.yylloc.first_column:0)+oldLines[oldLines.length-lines.length].length-lines[0].length:this.yylloc.first_column-len};if(this.options.ranges){this.yylloc.range=[r[0],r[0]+this.yyleng-len]}
this.yyleng=this.yytext.length;return this},more:function(){this._more=!0;return this},reject:function(){if(this.options.backtrack_lexer){this._backtrack=!0}else{return this.parseError('Lexical error on line '+(this.yylineno+1)+'. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n'+this.showPosition(),{text:"",token:null,line:this.yylineno})}
return this},less:function(n){this.unput(this.match.slice(n))},pastInput:function(){var past=this.matched.substr(0,this.matched.length-this.match.length);return(past.length>20?'...':'')+past.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var next=this.match;if(next.length<20){next+=this._input.substr(0,20-next.length)}
return(next.substr(0,20)+(next.length>20?'...':'')).replace(/\n/g,"")},showPosition:function(){var pre=this.pastInput();var c=new Array(pre.length+1).join("-");return pre+this.upcomingInput()+"\n"+c+"^"},test_match:function(match,indexed_rule){var token,lines,backup;if(this.options.backtrack_lexer){backup={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done};if(this.options.ranges){backup.yylloc.range=this.yylloc.range.slice(0)}}
lines=match[0].match(/(?:\r\n?|\n).*/g);if(lines){this.yylineno+=lines.length}
this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:lines?lines[lines.length-1].length-lines[lines.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+match[0].length};this.yytext+=match[0];this.match+=match[0];this.matches=match;this.yyleng=this.yytext.length;if(this.options.ranges){this.yylloc.range=[this.offset,this.offset+=this.yyleng]}
this._more=!1;this._backtrack=!1;this._input=this._input.slice(match[0].length);this.matched+=match[0];token=this.performAction.call(this,this.yy,this,indexed_rule,this.conditionStack[this.conditionStack.length-1]);if(this.done&&this._input){this.done=!1}
if(token){return token}else if(this._backtrack){for(var k in backup){this[k]=backup[k]}
return!1}
return!1},next:function(){if(this.done){return this.EOF}
if(!this._input){this.done=!0}
var token,match,tempMatch,index;if(!this._more){this.yytext='';this.match=''}
var rules=this._currentRules();for(var i=0;i<rules.length;i++){tempMatch=this._input.match(this.rules[rules[i]]);if(tempMatch&&(!match||tempMatch[0].length>match[0].length)){match=tempMatch;index=i;if(this.options.backtrack_lexer){token=this.test_match(tempMatch,rules[i]);if(token!==!1){return token}else if(this._backtrack){match=!1;continue}else{return!1}}else if(!this.options.flex){break}}}
if(match){token=this.test_match(match,rules[index]);if(token!==!1){return token}
return!1}
if(this._input===""){return this.EOF}else{return this.parseError('Lexical error on line '+(this.yylineno+1)+'. Unrecognized text.\n'+this.showPosition(),{text:"",token:null,line:this.yylineno})}},lex:function lex(){var r=this.next();if(r){return r}else{return this.lex()}},begin:function begin(condition){this.conditionStack.push(condition)},popState:function popState(){var n=this.conditionStack.length-1;if(n>0){return this.conditionStack.pop()}else{return this.conditionStack[0]}},_currentRules:function _currentRules(){if(this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules}else{return this.conditions.INITIAL.rules}},topState:function topState(n){n=this.conditionStack.length-1-Math.abs(n||0);if(n>=0){return this.conditionStack[n]}else{return"INITIAL"}},pushState:function pushState(condition){this.begin(condition)},stateStackSize:function stateStackSize(){return this.conditionStack.length},options:{},performAction:function anonymous(yy,yy_,$avoiding_name_collisions,YY_START){var YYSTATE=YY_START;switch($avoiding_name_collisions){case 0:break;case 1:return 10;break;case 2:return 10;break;case 3:return 23;break;case 4:return 7;break;case 5:return 8;break;case 6:return 26;break;case 7:return 26;break;case 8:return 26;break;case 9:return 28;break;case 10:return 23;break;case 11:return 32;break;case 12:return 32;break;case 13:return 34;break;case 14:break;case 15:return 11;break;case 16:return' ';break;case 17:return 33;break;case 18:return 27;break;case 19:return 29;break;case 20:return 30;break;case 21:return 20;break;case 22:return 21;break;case 23:return 19;break;case 24:return 13;break;case 25:return 22;break;case 26:return 14;break;case 27:return 15;break;case 28:return 36;break;case 29:return 38;break;case 30:return 17;break;case 31:return 16;break;case 32:return 18;break;case 33:return'"';break;case 34:return"'";break;case 35:return"!";break;case 36:return 12;break;case 37:return 35;break;case 38:return 39;break;case 39:return 5;break}},rules:[/^(?:\s+)/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:[A-Za-z]{1,}[A-Za-z_0-9]+(?=[(]))/,/^(?:([0]?[1-9]|1[0-2])[:][0-5][0-9]([:][0-5][0-9])?[ ]?(AM|am|aM|Am|PM|pm|pM|Pm))/,/^(?:([0]?[0-9]|1[0-9]|2[0-3])[:][0-5][0-9]([:][0-5][0-9])?)/,/^(?:\$[A-Za-z]+\$[0-9]+)/,/^(?:\$[A-Za-z]+[0-9]+)/,/^(?:[A-Za-z]+\$[0-9]+)/,/^(?:[A-Za-z]+[0-9]+)/,/^(?:[A-Za-z]+(?=[(]))/,/^(?:[A-Za-z]{1,}[A-Za-z_0-9]+)/,/^(?:[A-Za-z_]+)/,/^(?:[0-9]+)/,/^(?:\$)/,/^(?:&)/,/^(?: )/,/^(?:[.])/,/^(?::)/,/^(?:;)/,/^(?:,)/,/^(?:\*)/,/^(?:\/)/,/^(?:-)/,/^(?:\+)/,/^(?:\^)/,/^(?:\()/,/^(?:\))/,/^(?:\{)/,/^(?:\})/,/^(?:>)/,/^(?:<)/,/^(?:NOT\b)/,/^(?:")/,/^(?:')/,/^(?:!)/,/^(?:=)/,/^(?:%)/,/^(?:[#])/,/^(?:$)/],conditions:{"INITIAL":{"rules":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39],"inclusive":!0}}});return lexer})();parser.lexer=lexer;function Parser(){this.yy={}}
Parser.prototype=parser;parser.Parser=Parser;return new Parser})();
var ruleJS=(function(root){'use strict';var instance=this;var rootElement=document.getElementById(root)||null;var version='0.0.3';var parser={};var FormulaParser=function(handler){var formulaLexer=function(){};formulaLexer.prototype=Parser.lexer;var formulaParser=function(){this.lexer=new formulaLexer();this.yy={}};formulaParser.prototype=Parser;var newParser=new formulaParser;newParser.setObj=function(obj){newParser.yy.obj=obj};newParser.yy.parseError=function(str,hash){throw{name:'Parser error',message:str,prop:hash}};newParser.yy.handler=handler;return newParser};var Exception={errors:[{type:'NULL',output:'#NULL'},{type:'DIV_ZERO',output:'#DIV/0!'},{type:'VALUE',output:'#VALUE!'},{type:'REF',output:'#REF!'},{type:'NAME',output:'#NAME?'},{type:'NUM',output:'#NUM!'},{type:'NOT_AVAILABLE',output:'#N/A!'},{type:'ERROR',output:'#ERROR'},{type:'NEED_UPDATE',output:'#NEED_UPDATE'}],get:function(type){var error=Exception.errors.filter(function(item){return item.type===type||item.output===type})[0];return error?error.output:null}};var Matrix=function(){var item={id:'',formula:'',value:'',error:'',deps:[],formulaEdit:!1};this.data=[];var formElements=['input[type=text]','[data-formula]'];var listen=function(){if(document.activeElement&&document.activeElement!==document.body){document.activeElement.blur()}else if(!document.activeElement){document.body.focus()}};this.getItem=function(id){return instance.matrix.data.filter(function(item){return item.id===id})[0]};this.removeItem=function(id){instance.matrix.data=instance.matrix.data.filter(function(item){return item.id!==id})};this.removeItemsInCol=function(col){instance.matrix.data=instance.matrix.data.filter(function(item){return item.col!==col})};this.removeItemsInRow=function(row){instance.matrix.data=instance.matrix.data.filter(function(item){return item.row!==row})};this.removeItemsBelowCol=function(col){instance.matrix.data=instance.matrix.data.filter(function(item){return item.col<col})};this.removeItemsBelowRow=function(row){instance.matrix.data=instance.matrix.data.filter(function(item){return item.row<row})};this.updateItem=function(item,props){if(instance.utils.isString(item)){item=instance.matrix.getItem(item)}
if(item&&props){for(var p in props){if(item[p]&&instance.utils.isArray(item[p])){if(instance.utils.isArray(props[p])){props[p].forEach(function(i){if(item[p].indexOf(i)===-1){item[p].push(i)}})}else{if(item[p].indexOf(props[p])===-1){item[p].push(props[p])}}}else{item[p]=props[p]}}}};this.addItem=function(item){var cellId=item.id,coords=instance.utils.cellCoords(cellId);item.row=coords.row;item.col=coords.col;var cellExist=instance.matrix.data.filter(function(cell){return cell.id===cellId})[0];if(!cellExist){instance.matrix.data.push(item)}else{instance.matrix.updateItem(cellExist,item)}
return instance.matrix.getItem(cellId)};this.getRefItemsToColumn=function(col){var result=[];if(!instance.matrix.data.length){return result}
instance.matrix.data.forEach(function(item){if(item.deps){var deps=item.deps.filter(function(cell){var alpha=instance.utils.getCellAlphaNum(cell).alpha,num=instance.utils.toNum(alpha);return num>=col});if(deps.length>0&&result.indexOf(item.id)===-1){result.push(item.id)}}});return result};this.getRefItemsToRow=function(row){var result=[];if(!instance.matrix.data.length){return result}
instance.matrix.data.forEach(function(item){if(item.deps){var deps=item.deps.filter(function(cell){var num=instance.utils.getCellAlphaNum(cell).num;return num>row});if(deps.length>0&&result.indexOf(item.id)===-1){result.push(item.id)}}});return result};this.updateElementItem=function(element,props){var id=element.getAttribute('data-cell-id'),item=instance.matrix.getItem(id);instance.matrix.updateItem(item,props)};this.getDependencies=function(id){var getDependencies=function(id){var filtered=instance.matrix.data.filter(function(cell){if(cell.deps){return cell.deps.indexOf(id)>-1}});var deps=[];filtered.forEach(function(cell){if(deps.indexOf(cell.id)===-1){deps.push(cell.id)}});return deps};var allDependencies=[];var getTotalDependencies=function(id){var deps=getDependencies(id);if(deps.length){deps.forEach(function(refId){if(allDependencies.indexOf(refId)===-1){allDependencies.push(refId);var item=instance.matrix.getItem(refId);if(item.deps.length){getTotalDependencies(refId)}}})}};getTotalDependencies(id);return allDependencies};this.getElementDependencies=function(element){return instance.matrix.getDependencies(element.getAttribute('id'))};var recalculateElementDependencies=function(element){var allDependencies=instance.matrix.getElementDependencies(element),id=element.getAttribute('id');allDependencies.forEach(function(refId){var item=instance.matrix.getItem(refId);if(item&&item.formula){var refElement=document.getElementById(refId);calculateElementFormula(item.formula,refElement)}})};var calculateElementFormula=function(formula,element){var parsed=parse(formula,element),value=parsed.result,error=parsed.error,nodeName=element.nodeName.toUpperCase();if(parsed.error&&formula.indexOf('IFERROR')>-1){var matches=formula.match(/\((\(*.*\)*),(\(*.*\)*)\)$/);if(matches){var secondParse=parse(matches[2],element);if(!secondParse.error){error=null;value=secondParse.result}}}
instance.matrix.updateElementItem(element,{value:value,error:error});if(error==='#VALUE!'){error=0}
var renderedValue=value;if(['INPUT'].indexOf(nodeName)===-1){if(value!=='0'&&value!==0&&value%1!==0){var floatValue=parseFloat(value);if(floatValue.toString().indexOf('.')!==-1){var afterPointSybolsLength=floatValue.toString().split('.')[1].length;if(afterPointSybolsLength>4){renderedValue=floatValue.toFixed(4)}}}
if(element.innerText){element.innerText=renderedValue||error}else{element.textContent=renderedValue||error}}
element.value=value||error;return parsed};var registerElementInMatrix=function(element){var id=element.getAttribute('data-cell-id'),formula=element.getAttribute('data-formula');if(formula){instance.matrix.addItem({id:id,formula:formula});calculateElementFormula(formula,element)}};var registerElementEvents=function(element){var id=element.getAttribute('id');element.addEventListener('dblclick',function(){var item=instance.matrix.getItem(id);if(item&&item.formula){item.formulaEdit=!0;element.value='='+item.formula}});element.addEventListener('blur',function(){var item=instance.matrix.getItem(id);if(item){if(item.formulaEdit){element.value=item.value||item.error}
item.formulaEdit=!1}});element.addEventListener('keyup',function(event){switch(event.keyCode){case 13:case 27:listen();break}});element.addEventListener('change',function(){instance.matrix.removeItem(id);var value=element.value;if(value[0]==='='){element.setAttribute('data-formula',value.substr(1));registerElementInMatrix(element)}
recalculateElementDependencies(element)})};this.depsInFormula=function(item){var formula=item.formula,deps=item.deps;if(deps){deps=deps.filter(function(id){return formula.indexOf(id)!==-1});return deps.length>0}
return!1};this.scan=function(){var $totalElements=rootElement.querySelectorAll(formElements);[].slice.call($totalElements).forEach(function($item){registerElementInMatrix($item);registerElementEvents($item)})}};var utils={isArray:function(value){return Object.prototype.toString.call(value)==='[object Array]'},isNumber:function(value){return Object.prototype.toString.call(value)==='[object Number]'},isString:function(value){return Object.prototype.toString.call(value)==='[object String]'},isFunction:function(value){return Object.prototype.toString.call(value)==='[object Function]'},isUndefined:function(value){return Object.prototype.toString.call(value)==='[object Undefined]'},isNull:function(value){return Object.prototype.toString.call(value)==='[object Null]'},isSet:function(value){return!instance.utils.isUndefined(value)&&!instance.utils.isNull(value)},isCell:function(value){return value.match(/^[A-Za-z]+[0-9]+/)?!0:!1},getCellAlphaNum:function(cell){var num=cell.match(/\d+$/),alpha=cell.replace(num,'');return{alpha:alpha,num:parseInt(num[0],10)}},changeRowIndex:function(cell,counter){var alphaNum=instance.utils.getCellAlphaNum(cell),alpha=alphaNum.alpha,col=alpha,row=parseInt(alphaNum.num+counter,10);if(row<1){row=1}
return col+''+row},changeColIndex:function(cell,counter){var alphaNum=instance.utils.getCellAlphaNum(cell),alpha=alphaNum.alpha,col=instance.utils.toChar(parseInt(instance.utils.toNum(alpha)+counter,10)),row=alphaNum.num;if(!col||col.length===0){col='A'}
var fixedCol=alpha[0]==='$'||!1,fixedRow=alpha[alpha.length-1]==='$'||!1;col=(fixedCol?'$':'')+col;row=(fixedRow?'$':'')+row;return col+''+row},changeFormula:function(formula,delta,change){if(!delta){delta=1}
return formula.replace(/(\$?[A-Za-z]+\$?[0-9]+)/g,function(match){var alphaNum=instance.utils.getCellAlphaNum(match),alpha=alphaNum.alpha,num=alphaNum.num;if(instance.utils.isNumber(change.col)){num=instance.utils.toNum(alpha);if(change.col<=num){return instance.utils.changeColIndex(match,delta)}}
if(instance.utils.isNumber(change.row)){if(change.row<num){return instance.utils.changeRowIndex(match,delta)}}
return match})},updateFormula:function(formula,direction,delta){var type,counter;if(['left','right'].indexOf(direction)!==-1){type='col'}else if(['up','down'].indexOf(direction)!==-1){type='row'}
if(['down','right'].indexOf(direction)!==-1){counter=delta*1}else if(['up','left'].indexOf(direction)!==-1){counter=delta*(-1)}
if(type&&counter){return formula.replace(/(\$?[A-Za-z]+\$?[0-9]+)/g,function(match){var alpha=instance.utils.getCellAlphaNum(match).alpha;var fixedCol=alpha[0]==='$'||!1,fixedRow=alpha[alpha.length-1]==='$'||!1;if(type==='row'&&fixedRow){return match}
if(type==='col'&&fixedCol){return match}
return(type==='row'?instance.utils.changeRowIndex(match,counter):instance.utils.changeColIndex(match,counter))})}
return formula},toNum:function(chr){chr=instance.utils.clearFormula(chr);var baseUppercase='ABCDEFGHIJKLMNOPQRSTUVWXYZ',baseLowercase=baseUppercase.toLowerCase(),base,i,j,result=0;for(i=0,j=chr.length-1;i<chr.length;i+=1,j-=1){if(baseLowercase.indexOf(chr[i])===-1){base=baseUppercase}else{base=baseLowercase}
result+=Math.pow(base.length,j)*(base.indexOf(chr[i])+1)}
if(result){--result}
return result},toChar:function(num){var s='';while(num>=0){s=String.fromCharCode(num%26+97)+s;num=Math.floor(num/26)-1}
return s.toUpperCase()},cellCoords:function(cell){var num=cell.match(/\d+$/),alpha=cell.replace(num,'');return{row:parseInt(num[0],10)-1,col:instance.utils.toNum(alpha)}},clearFormula:function(formula){return formula.replace(/\$/g,'')},translateCellCoords:function(coords){return instance.utils.toChar(coords.col)+''+parseInt(coords.row+1,10)},iterateCells:function(startCell,endCell,callback){var result={index:[],value:[]};var cols={start:0,end:0};if(endCell.col>=startCell.col){cols={start:startCell.col,end:endCell.col}}else{cols={start:endCell.col,end:startCell.col}}
var rows={start:0,end:0};if(endCell.row>=startCell.row){rows={start:startCell.row,end:endCell.row}}else{rows={start:endCell.row,end:startCell.row}}
for(var column=cols.start;column<=cols.end;column++){for(var row=rows.start;row<=rows.end;row++){var cellIndex=instance.utils.toChar(column)+(row+1),cellValue=instance.helper.cellValue.call(this,cellIndex);result.index.push(cellIndex);result.value.push(cellValue)}}
if(instance.utils.isFunction(callback)){return callback.apply(callback,[result])}else{return result}},sort:function(rev){return function(a,b){return((a<b)?-1:((a>b)?1:0))*(rev?-1:1)}}};var helper={SUPPORTED_FORMULAS:["UNIQUE","FLATTEN","FUNCTION","MOMENT","MOMENTADD","MOMENTDIFF","MOMENTSUB","MOMENTUTC","MOMENTUTCADD","MOMENTUTCDIFF","MOMENTUTCSUB","MOMENTUNIX","MOMENTFORMAT","MOMENTISLEAPYEAR","MOMENTISDST","MOMENTSTARTOF","MOMENTENDOF","MOMENTISAFTER","MOMENTISBEFORE","INDEX","INTERVAL","ARGSCONCAT","ARGSTOARRAY","CLEANFLOAT","COUNTIN","FINDFIELD","FINDRESULTINDEX","DAVERAGE","DCOUNT","DCOUNTA","DGET","DMAX","DMIN","DPRODUCT","DSTDEV","DSTDEVP","DSUM","DVAR","DVARP","GETJSON","DATE","DATEVALUE","DAY","DAYS","DAYS360","EDATE","EOMONTH","FROMNOW","HOUR","MINUTE","MATCH","ISOWEEKNUM","MONTH","NETWORKDAYS","NETWORKDAYSINTL","NOW","SECOND","TIME","TIMEVALUE","TODAY","WEEKDAY","WEEKNUM","WORKDAY","WORKDAYINTL","YEAR","YEARFRAC","BESSELI","BESSELJ","BESSELK","BESSELY","VALIDBIN","BIN2DEC","BIN2HEX","BIN2OCT","BITAND","BITLSHIFT","BITOR","BITRSHIFT","BITXOR","COMPLEX","CONVERT","DEC2BIN","DEC2HEX","DEC2OCT","DELTA","ERF","ERFC","GESTEP","HEX2BIN","HEX2DEC","HEX2OCT","IMABS","IMAGINARY","IMARGUMENT","IMCONJUGATE","IMCOS","IMCOSH","IMCOT","IMCSC","IMCSCH","IMDIV","IMEXP","IMLN","IMLOG10","IMLOG2","IMPOWER","IMPRODUCT","IMREAL","IMSEC","IMSECH","IMSIN","IMSINH","IMSQRT","IMSUB","IMSUM","IMTAN","OCT2BIN","OCT2DEC","OCT2HEX","ACCRINT","CUMIPMT","CUMPRINC","DB","DDB","DOLLARDE","DOLLARFR","EFFECT","FV","FVSCHEDULE","IPMT","IRR","ISPMT","MIRR","NOMINAL","NPER","NPV","PDURATION","PMT","PPMT","PV","RATE","RRI","SLN","SYD","TBILLEQ","TBILLPRICE","TBILLYIELD","XIRR","XNPV","ISNUMBER","AND","FALSE","SWITCH","IF","IFNA","NOT","OR","TRUE","XOR","REFERENCE","ABS","ACOS","ACOSH","ACOT","ACOTH","AGGREGATE","ARABIC","ASIN","ASINH","ATAN","ATAN2","ATANH","BASE","CEILING","CEILINGMATH","CEILINGPRECISE","COMBIN","COMBINA","COS","COSH","COT","COTH","CSC","CSCH","DECIMAL","DEGREES","EVEN","EXP","FACT","FACTDOUBLE","FLOOR","FLOORMATH","FLOORPRECISE","GCD","INT","ISEVEN","ISOCEILING","ISODD","LCM","LN","LOG","LOG10","MOD","MROUND","MULTINOMIAL","ODD","E","PI","POWER","PRODUCT","QUOTIENT","RADIANS","RAND","RANDBETWEEN","ROUND","ROUNDDOWN","ROUNDUP","SERIESSUM","SEC","SECH","SIGN","SIN","SINH","SQRT","SQRTPI","SUBTOTAL","SUM","SUMIF","SUMIFS","SUMPRODUCT","SUMSQ","SUMX2MY2","SUMX2PY2","SUMXMY2","TAN","TANH","TRUNC","AVEDEV","AVERAGE","AVERAGEA","AVERAGEIF","AVERAGEIFS","BETADIST","BETAINV","BINOMDIST","BINOMDISTRANGE","BINOMINV","CHISQDIST","CONFIDENCENORM","CONFIDENCET","CORREL","COUNT","COUNTA","COUNTBLANK","COUNTIF","COUNTIFS","COUNTUNIQUE","COVARIANCEP","COVARIANCES","DEVSQ","EXPONDIST","FDIST","FINV","FISHER","FISHERINV","FORECAST","FREQUENCY","GAMMA","GAMMALN","GAUSS","GEOMEAN","GROWTH","HARMEAN","HYPGEOMDIST","INTERCEPT","KURT","LARGE","LINEST","LOGNORMDIST","LOGNORMINV","MAX","MAXA","MEDIAN","MIN","MINA","MODEMULT","MODESNGL","NEGBINOMDIST","NORMDIST","NORMINV","NORMSDIST","NORMSINV","PEARSON","PERCENTILEEXC","PERCENTILEINC","PERCENTRANKEXC","PERCENTRANKINC","PERMUT","PERMUTATIONA","PHI","POISSONDIST","PROB","QUARTILEEXC","QUARTILEINC","RANK","RANKAVG","RANKEQ","RSQ","SKEW","SKEWP","SLOPE","SMALL","STANDARDIZE","STDEVA","STDEVP","STDEVPA","STDEVS","STEYX","TDIST","TINV","TRIMMEAN","VARA","VARP","VARPA","VARS","WEIBULLDIST","ZTEST","CHAR","CLEAN","CODE","CONCATENATE","DOLLAR","EXACT","FIND","FIXED","HTML2TEXT","HUMANIZE","JOIN","LEFT","LEN","LOWER","MID","NUMBERVALUE","NUMBERS","PROPER","REGEXEXTRACT","REGEXMATCH","REGEXREPLACE","REPLACE","REPT","RIGHT","ROMAN","SEARCH","SPLIT","SUBSTITUTE","T","TEXT","TRIM","UNICHAR","UNICODE","UPPER","VALUE","MD5","NUMERAL","ISERR","ISERROR","IFERROR","POISSON","LOOKUP","VLOOKUP"],number:function(num){switch(typeof num){case 'number':return num;case 'string':if(!isNaN(num)){return num.indexOf('.')>-1?parseFloat(num):parseInt(num,10)}
if(!num){return 0}}
return num},string:function(str){return str.substring(1,str.length-1)},numberInverted:function(num){return this.number(num)*(-1)},specialMatch:function(type,exp1,exp2){var result;switch(type){case '&':result=exp1.toString()+exp2.toString();break}
return result},logicMatch:function(type,exp1,exp2){var result;switch(type){case '=':result=(exp1===exp2);break;case '>':result=(exp1>exp2);break;case '<':result=(exp1<exp2);break;case '>=':result=(exp1>=exp2);break;case '<=':result=(exp1===exp2);break;case '<>':result=(exp1!=exp2);break;case 'NOT':result=(exp1!=exp2);break}
return result},mathMatch:function(type,number1,number2){var result;var moment1=null;var moment2=null;number1=helper.number(number1);number2=helper.number(number2);if(isNaN(number1)||isNaN(number2)){if(number1[0]==='='||number2[0]==='='){throw Error('NEED_UPDATE')}
if(isNaN(number1)){moment1=moment(number1,window.supsystic.Tables._dateFormat);if(moment1&&moment1._pf&&moment1._pf.empty){moment1=null;number1=0}}
if(isNaN(number2)){moment2=moment(number2,window.supsystic.Tables._dateFormat);if(moment2&&moment2._pf&&moment2._pf.empty){moment2=null;number2=0}}}
switch(type){case '+':if(moment1||moment2){if(moment1&&moment2){throw Error('VALUE')}else if(moment1&&!moment2){result=moment1.add(number2,'days').format(window.supsystic.Tables._dateFormat)}else if(!moment1&&moment2){result=moment2.add(number1,'days').format(window.supsystic.Tables._dateFormat)}}else{result=number1+number2}
break;case '-':if(moment1||moment2){if(moment1&&moment2){result=moment1.diff(moment2,'days')}else if(moment1&&!moment2){result=moment1.add(-number2,'days').format(window.supsystic.Tables._dateFormat)}else if(!moment1&&moment2){throw Error('VALUE')}}else{result=number1-number2}
break;case '/':if(moment1||moment2){throw Error('VALUE')}else{result=number1/number2;if(result==Infinity){throw Error('DIV_ZERO')}else if(isNaN(result)){throw Error('VALUE')}}
break;case '*':if(moment1||moment2){throw Error('VALUE')}else{result=number1*number2}
break;case '^':if(moment1||moment2){throw Error('VALUE')}else{result=Math.pow(number1,number2)}
break}
return result},callFunction:function(fn,args){fn=fn.toUpperCase();args=args||[];if(instance.helper.SUPPORTED_FORMULAS.indexOf(fn)>-1){if(instance.formulas[fn]){return instance.formulas[fn].apply(this,args)}}
throw Error('NAME')},callVariable:function(args){args=args||[];var str=args[0];if(str){str=str.toUpperCase();if(instance.formulas[str]){return((typeof instance.formulas[str]==='function')?instance.formulas[str].apply(this,args):instance.formulas[str])}}
throw Error('NAME')},cellValue:function(cell){var value,fnCellValue=instance.custom.cellValue,element=this,item=instance.matrix.getItem(cell);if(instance.utils.isFunction(fnCellValue)){var cellCoords=instance.utils.cellCoords(cell),cellId=instance.utils.translateCellCoords({row:element.row,col:element.col});value=item?item.value:fnCellValue(cellCoords.row,cellCoords.col);if(instance.utils.isNull(value)){value=0}
if(cellId){instance.matrix.updateItem(cellId,{deps:[cell]})}}else{if(item){value=item.value}else{element=document.getElementById(cell);if(element){value=element.value}}
if(!value){element=rootElement.querySelector('[data-cell-id='+cell+']');var originalValue=element.getAttribute('data-original-value');if(originalValue!==undefined){value=originalValue}else{value=element.innerText||element.textContent}}
instance.matrix.updateElementItem(element,{deps:[cell]})}
if(item&&item.deps){if(item.deps.indexOf(cellId)!==-1){throw Error('REF')}}
if(item&&item.error){throw Error(item.error)}
if(instance.utils.isSet(value)){var result=instance.helper.number(value);return!isNaN(result)?result:value}
throw Error('NOT_AVAILABLE')},cellRangeValue:function(start,end){var fnCellValue=instance.custom.cellValue,coordsStart=instance.utils.cellCoords(start),coordsEnd=instance.utils.cellCoords(end),element=this;var cells=instance.utils.iterateCells.call(this,coordsStart,coordsEnd),result=[];if(instance.utils.isFunction(fnCellValue)){var cellId=instance.utils.translateCellCoords({row:element.row,col:element.col});instance.matrix.updateItem(cellId,{deps:cells.index})}else{instance.matrix.updateElementItem(element,{deps:cells.index})}
result.push(cells.value);return result},fixedCellValue:function(id){id=id.replace(/\$/g,'');return instance.helper.cellValue.call(this,id)},fixedCellRangeValue:function(start,end){start=start.replace(/\$/g,'');end=end.replace(/\$/g,'');return instance.helper.cellRangeValue.call(this,start,end)},unescapeHTML:function($table){$table=$table instanceof jQuery?$table:jQuery($table);$table.find('.unescapeHTML').each(function(){var cell=jQuery(this),cellContent=cell.html().replace(/&lt;/g,'<').replace(/&gt;/g,'>').replace(/&quot;/g,'"').replace(/&amp;/g,'&');cell.html(cellContent)})}};var parse=function(formula,element){formula=window.supsystic.Tables.prepareFormulaToParse(formula);window.supsystic.Tables._currentFormula=formula;window.supsystic.Tables._dateFormat='';window.supsystic.Tables._timeFormat='';if(SDT_DATA&&SDT_DATA.isAdmin&&typeof element.row!='undefined'&&typeof element.col!='undefined'){var cellMeta=window.editor.getCellMeta(element.row,element.col);window.supsystic.Tables._dateFormat=cellMeta&&cellMeta.dateFormat?cellMeta.dateFormat:jQuery('#editor-set-date-format').val();window.supsystic.Tables._timeFormat=cellMeta&&cellMeta.formatType=="time_duration"?cellMeta.format:jQuery('#editor-set-time-duration-format').val()}else{var elem=jQuery(element);window.supsystic.Tables._dateFormat=elem.data('cell-format')||elem.parents('.supsystic-table:first').data('date-format');window.supsystic.Tables._timeFormat=elem.data('cell-format')||elem.parents('.supsystic-table:first').data('time-format')}
var result=null,error=null;try{parser.setObj(element);result=parser.parse(formula);var id;if(element instanceof HTMLElement){id=element.getAttribute('data-cell-id')}else if(element&&element.id){id=element.id}
var deps=instance.matrix.getDependencies(id);if(deps.indexOf(id)!==-1){result=null;deps.forEach(function(id){instance.matrix.updateItem(id,{value:null,error:Exception.get('REF')})});throw Error('REF')}
if(!error&&result===0){result="0"}}catch(ex){var message=Exception.get(ex.message);if(message){error=message}else{error=Exception.get('ERROR')}}
return{error:error,result:result}};var init=function(){instance=this;parser=new FormulaParser(instance);instance.formulas=Formula;instance.formulas.POISSON=function(x,mean,cumulative){return instance.formulas.POISSONDIST(x,mean,cumulative)};instance.formulas.LOOKUP=function(lookup_value,lookup_vector,result_vector){var lookupRows,lookupColumns,l,r,k,resultRows,resultColumns,key1,key2,dataValue1,dataValue2;result_vector=(typeof(result_vector[0])=='object'?result_vector[0]:result_vector)||null;lookup_vector=typeof(lookup_vector[0])=='object'?lookup_vector[0]:lookup_vector;lookup_value=supsysticFlattenSingleValue(lookup_value);if(typeof(lookup_vector)!='object'){return Exception.get('NOT_AVAILABLE')}
lookupRows=lookup_vector.length;l=Object.keys(lookup_vector);l=l.shift();lookupColumns=lookup_vector[l].length;if(((lookupRows==1)&&(lookupColumns>1))||((lookupRows==2)&&(lookupColumns!=2))){lookup_vector=supsysticTranspose(lookup_vector);lookupRows=lookup_vector.length;l=Object.keys(lookup_vector);lookupColumns=lookup_vector[l.shift()].length}
if(result_vector==null){result_vector=lookup_vector}
resultRows=result_vector.length;l=Object.keys(result_vector);l=l.shift();resultColumns=result_vector[l].length;if(((resultRows==1)&&(resultColumns>1))||((resultRows==2)&&(resultColumns!=2))){result_vector=supsysticTranspose(result_vector);resultRows=result_vector.length;r=Object.keys(result_vector);resultColumns=result_vector[r.shift()].length}
if(lookupRows==2){result_vector=lookup_vector.pop();lookup_vector=lookup_vector.shift()}
if(lookupColumns!=2){for(var v in lookup_vector){if(typeof(lookup_vector[v])=='object'){k=Object.keys(lookup_vector[v]);key1=key2=k.shift();key2++;dataValue1=lookup_vector[v][key1]}else{key1=0;key2=1;dataValue1=lookup_vector[v]}
dataValue2=result_vector.shift();if(typeof(dataValue2)=='object'){dataValue2=dataValue2.shift()}
lookup_vector[v]={};lookup_vector[v][key1]=dataValue1;lookup_vector[v][key2]=dataValue2}}
return instance.formulas.VLOOKUP(lookup_value,lookup_vector,2,!1)};instance.formulas.VLOOKUP=function(lookup_value,lookup_array,index_number,not_exact_match){var f,firstRow,firstColumn,returnColumn,columnKeys,rowNumber=!1,rowValue=!1;not_exact_match=typeof(not_exact_match)!='undefined'?not_exact_match:!0;lookup_value=supsysticFlattenSingleValue(lookup_value);index_number=supsysticFlattenSingleValue(index_number);not_exact_match=supsysticFlattenSingleValue(not_exact_match);if(index_number<1){return Exception.get('VALUE')}
if(typeof(lookup_array)!='object'||!lookup_array.length){return Exception.get('REF')}else{f=Object.keys(lookup_array);firstRow=f.pop();if(typeof(lookup_array[firstRow])!='object'||index_number>lookup_array[firstRow].length){return Exception.get('REF')}else{columnKeys=Object.keys(lookup_array[firstRow]);returnColumn=columnKeys[--index_number];firstColumn=columnKeys.shift()}}
if(!not_exact_match){lookup_array.sort(supsysticVlookupSort)}
for(var i in lookup_array){if((!isNaN(lookup_value)&&!isNaN(lookup_array[i][firstColumn])&&lookup_array[i][firstColumn]>lookup_value)||(isNaN(lookup_value)&&isNaN(lookup_array[i][firstColumn])&&lookup_array[i][firstColumn].toLowerCase()>lookup_value.toLowerCase())){break}
rowNumber=i;rowValue=lookup_array[i][firstColumn]}
if(rowNumber!==!1){if(!not_exact_match&&rowValue!=lookup_value){return Exception.get('NOT_AVAILABLE')}else{return lookup_array[rowNumber][returnColumn]}}
return Exception.get('NOT_AVAILABLE')};instance.matrix=new Matrix();instance.custom={};if(rootElement){instance.matrix.scan();helper.unescapeHTML(rootElement)}};return{init:init,version:version,utils:utils,helper:helper,parse:parse}});function supsysticTranspose(matrixData){var returnMatrix=[],column=0;if(typeof(matrixData)!='object'){matrixData=[[matrixData]]}
for(var i in matrixData){var row=0;for(var j in matrixData[i]){returnMatrix[row]=returnMatrix[row]?returnMatrix[row]:[];returnMatrix[row][column]=matrixData[i][j];++row}
++column}
return returnMatrix}
function supsysticFlattenSingleValue(value){value=value?value:'';while(typeof(value)=='object'){value=value.pop()}
return value}
function supsysticVlookupSort(a,b){var aLower,bLower;if((aLower=a[0].toString().toLowerCase())==(bLower=b[0].toString().toLowerCase())){return 0}
return(aLower<bLower)?-1:1};
/*!
 DataTables 1.10.12
 Â©2008-2015 SpryMedia Ltd - datatables.net/license
*/
(function(h){/*"function"===typeof define&&define.amd?define(["jquery"],function(D){return h(D,window,document)}):"object"===typeof exports?module.exports=function(D,I){D||(D=window);I||(I="undefined"!==typeof window?require("jquery"):require("jquery")(D));return h(I,D,D.document)}:*/h(jQuery,window,document)})(function(h,D,I,k){function X(a){var b,c,d={};h.each(a,function(e){if((b=e.match(/^([^A-Z]+?)([A-Z])/))&&-1!=="a aa ai ao as b fn i m o s ".indexOf(b[1]+" "))c=e.replace(b[0],b[2].toLowerCase()),
d[c]=e,"o"===b[1]&&X(a[e])});a._hungarianMap=d}function K(a,b,c){a._hungarianMap||X(a);var d;h.each(b,function(e){d=a._hungarianMap[e];if(d!==k&&(c||b[d]===k))"o"===d.charAt(0)?(b[d]||(b[d]={}),h.extend(!0,b[d],b[e]),K(a[d],b[d],c)):b[d]=b[e]})}function Da(a){var b=m.defaults.oLanguage,c=a.sZeroRecords;!a.sEmptyTable&&(c&&"No data available in table"===b.sEmptyTable)&&E(a,a,"sZeroRecords","sEmptyTable");!a.sLoadingRecords&&(c&&"Loading..."===b.sLoadingRecords)&&E(a,a,"sZeroRecords","sLoadingRecords");
a.sInfoThousands&&(a.sThousands=a.sInfoThousands);(a=a.sDecimal)&&db(a)}function eb(a){A(a,"ordering","bSort");A(a,"orderMulti","bSortMulti");A(a,"orderClasses","bSortClasses");A(a,"orderCellsTop","bSortCellsTop");A(a,"order","aaSorting");A(a,"orderFixed","aaSortingFixed");A(a,"paging","bPaginate");A(a,"pagingType","sPaginationType");A(a,"pageLength","iDisplayLength");A(a,"searching","bFilter");"boolean"===typeof a.sScrollX&&(a.sScrollX=a.sScrollX?"100%":"");"boolean"===typeof a.scrollX&&(a.scrollX=
a.scrollX?"100%":"");if(a=a.aoSearchCols)for(var b=0,c=a.length;b<c;b++)a[b]&&K(m.models.oSearch,a[b])}function fb(a){A(a,"orderable","bSortable");A(a,"orderData","aDataSort");A(a,"orderSequence","asSorting");A(a,"orderDataType","sortDataType");var b=a.aDataSort;b&&!h.isArray(b)&&(a.aDataSort=[b])}function gb(a){if(!m.__browser){var b={};m.__browser=b;var c=h("<div/>").css({position:"fixed",top:0,left:0,height:1,width:1,overflow:"hidden"}).append(h("<div/>").css({position:"absolute",top:1,left:1,
width:100,overflow:"scroll"}).append(h("<div/>").css({width:"100%",height:10}))).appendTo("body"),d=c.children(),e=d.children();b.barWidth=d[0].offsetWidth-d[0].clientWidth;b.bScrollOversize=100===e[0].offsetWidth&&100!==d[0].clientWidth;b.bScrollbarLeft=1!==Math.round(e.offset().left);b.bBounding=c[0].getBoundingClientRect().width?!0:!1;c.remove()}h.extend(a.oBrowser,m.__browser);a.oScroll.iBarWidth=m.__browser.barWidth}function hb(a,b,c,d,e,f){var g,j=!1;c!==k&&(g=c,j=!0);for(;d!==e;)a.hasOwnProperty(d)&&
(g=j?b(g,a[d],d,a):a[d],j=!0,d+=f);return g}function Ea(a,b){var c=m.defaults.column,d=a.aoColumns.length,c=h.extend({},m.models.oColumn,c,{nTh:b?b:I.createElement("th"),sTitle:c.sTitle?c.sTitle:b?b.innerHTML:"",aDataSort:c.aDataSort?c.aDataSort:[d],mData:c.mData?c.mData:d,idx:d});a.aoColumns.push(c);c=a.aoPreSearchCols;c[d]=h.extend({},m.models.oSearch,c[d]);ja(a,d,h(b).data())}function ja(a,b,c){var b=a.aoColumns[b],d=a.oClasses,e=h(b.nTh);if(!b.sWidthOrig){b.sWidthOrig=e.attr("width")||null;var f=
(e.attr("style")||"").match(/width:\s*(\d+[pxem%]+)/);f&&(b.sWidthOrig=f[1])}c!==k&&null!==c&&(fb(c),K(m.defaults.column,c),c.mDataProp!==k&&!c.mData&&(c.mData=c.mDataProp),c.sType&&(b._sManualType=c.sType),c.className&&!c.sClass&&(c.sClass=c.className),h.extend(b,c),E(b,c,"sWidth","sWidthOrig"),c.iDataSort!==k&&(b.aDataSort=[c.iDataSort]),E(b,c,"aDataSort"));var g=b.mData,j=Q(g),i=b.mRender?Q(b.mRender):null,c=function(a){return"string"===typeof a&&-1!==a.indexOf("@")};b._bAttrSrc=h.isPlainObject(g)&&
(c(g.sort)||c(g.type)||c(g.filter));b._setter=null;b.fnGetData=function(a,b,c){var d=j(a,b,k,c);return i&&b?i(d,b,a,c):d};b.fnSetData=function(a,b,c){return R(g)(a,b,c)};"number"!==typeof g&&(a._rowReadObject=!0);a.oFeatures.bSort||(b.bSortable=!1,e.addClass(d.sSortableNone));a=-1!==h.inArray("asc",b.asSorting);c=-1!==h.inArray("desc",b.asSorting);!b.bSortable||!a&&!c?(b.sSortingClass=d.sSortableNone,b.sSortingClassJUI=""):a&&!c?(b.sSortingClass=d.sSortableAsc,b.sSortingClassJUI=d.sSortJUIAscAllowed):
!a&&c?(b.sSortingClass=d.sSortableDesc,b.sSortingClassJUI=d.sSortJUIDescAllowed):(b.sSortingClass=d.sSortable,b.sSortingClassJUI=d.sSortJUI)}function Y(a){if(!1!==a.oFeatures.bAutoWidth){var b=a.aoColumns;Fa(a);for(var c=0,d=b.length;c<d;c++)b[c].nTh.style.width=b[c].sWidth}b=a.oScroll;(""!==b.sY||""!==b.sX)&&ka(a);u(a,null,"column-sizing",[a])}function Z(a,b){var c=la(a,"bVisible");return"number"===typeof c[b]?c[b]:null}function $(a,b){var c=la(a,"bVisible"),c=h.inArray(b,c);return-1!==c?c:null}
function aa(a){var b=0;h.each(a.aoColumns,function(a,d){d.bVisible&&"none"!==h(d.nTh).css("display")&&b++});return b}function la(a,b){var c=[];h.map(a.aoColumns,function(a,e){a[b]&&c.push(e)});return c}function Ga(a){var b=a.aoColumns,c=a.aoData,d=m.ext.type.detect,e,f,g,j,i,h,l,q,t;e=0;for(f=b.length;e<f;e++)if(l=b[e],t=[],!l.sType&&l._sManualType)l.sType=l._sManualType;else if(!l.sType){g=0;for(j=d.length;g<j;g++){i=0;for(h=c.length;i<h;i++){t[i]===k&&(t[i]=B(a,i,e,"type"));q=d[g](t[i],a);if(!q&&
g!==d.length-1)break;if("html"===q)break}if(q){l.sType=q;break}}l.sType||(l.sType="string")}}function ib(a,b,c,d){var e,f,g,j,i,n,l=a.aoColumns;if(b)for(e=b.length-1;0<=e;e--){n=b[e];var q=n.targets!==k?n.targets:n.aTargets;h.isArray(q)||(q=[q]);f=0;for(g=q.length;f<g;f++)if("number"===typeof q[f]&&0<=q[f]){for(;l.length<=q[f];)Ea(a);d(q[f],n)}else if("number"===typeof q[f]&&0>q[f])d(l.length+q[f],n);else if("string"===typeof q[f]){j=0;for(i=l.length;j<i;j++)("_all"==q[f]||h(l[j].nTh).hasClass(q[f]))&&
d(j,n)}}if(c){e=0;for(a=c.length;e<a;e++)d(e,c[e])}}function N(a,b,c,d){var e=a.aoData.length,f=h.extend(!0,{},m.models.oRow,{src:c?"dom":"data",idx:e});f._aData=b;a.aoData.push(f);for(var g=a.aoColumns,j=0,i=g.length;j<i;j++)g[j].sType=null;a.aiDisplayMaster.push(e);b=a.rowIdFn(b);b!==k&&(a.aIds[b]=f);(c||!a.oFeatures.bDeferRender)&&Ha(a,e,c,d);return e}function ma(a,b){var c;b instanceof h||(b=h(b));return b.map(function(b,e){c=Ia(a,e);return N(a,c.data,e,c.cells)})}function B(a,b,c,d){var e=a.iDraw,
f=a.aoColumns[c],g=a.aoData[b]._aData,j=f.sDefaultContent,i=f.fnGetData(g,d,{settings:a,row:b,col:c});if(i===k)return a.iDrawError!=e&&null===j&&(L(a,0,"Requested unknown parameter "+("function"==typeof f.mData?"{function}":"'"+f.mData+"'")+" for row "+b+", column "+c,4),a.iDrawError=e),j;if((i===g||null===i)&&null!==j&&d!==k)i=j;else if("function"===typeof i)return i.call(g);return null===i&&"display"==d?"":i}function jb(a,b,c,d){a.aoColumns[c].fnSetData(a.aoData[b]._aData,d,{settings:a,row:b,col:c})}
function Ja(a){return h.map(a.match(/(\\.|[^\.])+/g)||[""],function(a){return a.replace(/\\./g,".")})}function Q(a){if(h.isPlainObject(a)){var b={};h.each(a,function(a,c){c&&(b[a]=Q(c))});return function(a,c,f,g){var j=b[c]||b._;return j!==k?j(a,c,f,g):a}}if(null===a)return function(a){return a};if("function"===typeof a)return function(b,c,f,g){return a(b,c,f,g)};if("string"===typeof a&&(-1!==a.indexOf(".")||-1!==a.indexOf("[")||-1!==a.indexOf("("))){var c=function(a,b,f){var g,j;if(""!==f){j=Ja(f);
for(var i=0,n=j.length;i<n;i++){f=j[i].match(ba);g=j[i].match(U);if(f){j[i]=j[i].replace(ba,"");""!==j[i]&&(a=a[j[i]]);g=[];j.splice(0,i+1);j=j.join(".");if(h.isArray(a)){i=0;for(n=a.length;i<n;i++)g.push(c(a[i],b,j))}a=f[0].substring(1,f[0].length-1);a=""===a?g:g.join(a);break}else if(g){j[i]=j[i].replace(U,"");a=a[j[i]]();continue}if(null===a||a[j[i]]===k)return k;a=a[j[i]]}}return a};return function(b,e){return c(b,e,a)}}return function(b){return b[a]}}function R(a){if(h.isPlainObject(a))return R(a._);
if(null===a)return function(){};if("function"===typeof a)return function(b,d,e){a(b,"set",d,e)};if("string"===typeof a&&(-1!==a.indexOf(".")||-1!==a.indexOf("[")||-1!==a.indexOf("("))){var b=function(a,d,e){var e=Ja(e),f;f=e[e.length-1];for(var g,j,i=0,n=e.length-1;i<n;i++){g=e[i].match(ba);j=e[i].match(U);if(g){e[i]=e[i].replace(ba,"");a[e[i]]=[];f=e.slice();f.splice(0,i+1);g=f.join(".");if(h.isArray(d)){j=0;for(n=d.length;j<n;j++)f={},b(f,d[j],g),a[e[i]].push(f)}else a[e[i]]=d;return}j&&(e[i]=e[i].replace(U,
""),a=a[e[i]](d));if(null===a[e[i]]||a[e[i]]===k)a[e[i]]={};a=a[e[i]]}if(f.match(U))a[f.replace(U,"")](d);else a[f.replace(ba,"")]=d};return function(c,d){return b(c,d,a)}}return function(b,d){b[a]=d}}function Ka(a){return G(a.aoData,"_aData")}function na(a){a.aoData.length=0;a.aiDisplayMaster.length=0;a.aiDisplay.length=0;a.aIds={}}function oa(a,b,c){for(var d=-1,e=0,f=a.length;e<f;e++)a[e]==b?d=e:a[e]>b&&a[e]--; -1!=d&&c===k&&a.splice(d,1)}function ca(a,b,c,d){var e=a.aoData[b],f,g=function(c,d){for(;c.childNodes.length;)c.removeChild(c.firstChild);
c.innerHTML=B(a,b,d,"display")};if("dom"===c||(!c||"auto"===c)&&"dom"===e.src)e._aData=Ia(a,e,d,d===k?k:e._aData).data;else{var j=e.anCells;if(j)if(d!==k)g(j[d],d);else{c=0;for(f=j.length;c<f;c++)g(j[c],c)}}e._aSortData=null;e._aFilterData=null;g=a.aoColumns;if(d!==k)g[d].sType=null;else{c=0;for(f=g.length;c<f;c++)g[c].sType=null;La(a,e)}}function Ia(a,b,c,d){var e=[],f=b.firstChild,g,j,i=0,n,l=a.aoColumns,q=a._rowReadObject,d=d!==k?d:q?{}:[],t=function(a,b){if("string"===typeof a){var c=a.indexOf("@");
-1!==c&&(c=a.substring(c+1),R(a)(d,b.getAttribute(c)))}},S=function(a){if(c===k||c===i)j=l[i],n=h.trim(a.innerHTML),j&&j._bAttrSrc?(R(j.mData._)(d,n),t(j.mData.sort,a),t(j.mData.type,a),t(j.mData.filter,a)):q?(j._setter||(j._setter=R(j.mData)),j._setter(d,n)):d[i]=n;i++};if(f)for(;f;){g=f.nodeName.toUpperCase();if("TD"==g||"TH"==g)S(f),e.push(f);f=f.nextSibling}else{e=b.anCells;f=0;for(g=e.length;f<g;f++)S(e[f])}if(b=b.firstChild?b:b.nTr)(b=b.getAttribute("id"))&&R(a.rowId)(d,b);return{data:d,cells:e}}
function Ha(a,b,c,d){var e=a.aoData[b],f=e._aData,g=[],j,i,n,l,q;if(null===e.nTr){j=c||I.createElement("tr");e.nTr=j;e.anCells=g;j._DT_RowIndex=b;La(a,e);l=0;for(q=a.aoColumns.length;l<q;l++){n=a.aoColumns[l];i=c?d[l]:I.createElement(n.sCellType);if(typeof i === "undefined"){continue;}i._DT_CellIndex={row:b,column:l};g.push(i);if((!c||n.mRender||n.mData!==l)&&(!h.isPlainObject(n.mData)||n.mData._!==l+".display"))i.innerHTML=B(a,b,l,"display");n.sClass&&(i.className+=" "+n.sClass);n.bVisible&&!c?j.appendChild(i):!n.bVisible&&c&&i.parentNode.removeChild(i);
n.fnCreatedCell&&n.fnCreatedCell.call(a.oInstance,i,B(a,b,l),f,b,l)}u(a,"aoRowCreatedCallback",null,[j,f,b])}e.nTr.setAttribute("role","row")}function La(a,b){var c=b.nTr,d=b._aData;if(c){var e=a.rowIdFn(d);e&&(c.id=e);d.DT_RowClass&&(e=d.DT_RowClass.split(" "),b.__rowc=b.__rowc?pa(b.__rowc.concat(e)):e,h(c).removeClass(b.__rowc.join(" ")).addClass(d.DT_RowClass));d.DT_RowAttr&&h(c).attr(d.DT_RowAttr);d.DT_RowData&&h(c).data(d.DT_RowData)}}function kb(a){var b,c,d,e,f,g=a.nTHead,j=a.nTFoot,i=0===
h("th, td",g).length,n=a.oClasses,l=a.aoColumns;i&&(e=h("<tr/>").appendTo(g));b=0;for(c=l.length;b<c;b++)f=l[b],d=h(f.nTh).addClass(f.sClass),i&&d.appendTo(e),a.oFeatures.bSort&&(d.addClass(f.sSortingClass),!1!==f.bSortable&&(d.attr("tabindex",a.iTabIndex).attr("aria-controls",a.sTableId),Ma(a,f.nTh,b))),f.sTitle!=d[0].innerHTML&&d.html(f.sTitle),Na(a,"header")(a,d,f,n);i&&da(a.aoHeader,g);h(g).find(">tr").attr("role","row");h(g).find(">tr>th, >tr>td").addClass(n.sHeaderTH);h(j).find(">tr>th, >tr>td").addClass(n.sFooterTH);
if(null!==j){a=a.aoFooter[0];b=0;for(c=a.length;b<c;b++)f=l[b],f.nTf=a[b].cell,f.sClass&&h(f.nTf).addClass(f.sClass)}}function ea(a,b,c){var d,e,f,g=[],j=[],i=a.aoColumns.length,n;if(b){c===k&&(c=!1);d=0;for(e=b.length;d<e;d++){g[d]=b[d].slice();g[d].nTr=b[d].nTr;for(f=i-1;0<=f;f--)!a.aoColumns[f].bVisible&&!c&&g[d].splice(f,1);j.push([])}d=0;for(e=g.length;d<e;d++){if(a=g[d].nTr)for(;f=a.firstChild;)a.removeChild(f);f=0;for(b=g[d].length;f<b;f++)if(n=i=1,j[d][f]===k){a.appendChild(g[d][f].cell);
for(j[d][f]=1;g[d+i]!==k&&g[d][f].cell==g[d+i][f].cell;)j[d+i][f]=1,i++;for(;g[d][f+n]!==k&&g[d][f].cell==g[d][f+n].cell;){for(c=0;c<i;c++)j[d+c][f+n]=1;n++}h(g[d][f].cell).attr("rowspan",i).attr("colspan",n)}}}}function O(a){var b=u(a,"aoPreDrawCallback","preDraw",[a]);if(-1!==h.inArray(!1,b))C(a,!1);else{var b=[],c=0,d=a.asStripeClasses,e=d.length,f=a.oLanguage,g=a.iInitDisplayStart,j="ssp"==y(a),i=a.aiDisplay;a.bDrawing=!0;g!==k&&-1!==g&&(a._iDisplayStart=j?g:g>=a.fnRecordsDisplay()?0:g,a.iInitDisplayStart=
-1);var g=a._iDisplayStart,n=a.fnDisplayEnd();if(a.bDeferLoading)a.bDeferLoading=!1,a.iDraw++,C(a,!1);else if(j){if(!a.bDestroying&&!lb(a))return}else a.iDraw++;if(0!==i.length){f=j?a.aoData.length:n;for(j=j?0:g;j<f;j++){var l=i[j],q=a.aoData[l];null===q.nTr&&Ha(a,l);l=q.nTr;if(0!==e){var t=d[c%e];q._sRowStripe!=t&&(h(l).removeClass(q._sRowStripe).addClass(t),q._sRowStripe=t)}u(a,"aoRowCallback",null,[l,q._aData,c,j]);b.push(l);c++}}else c=f.sZeroRecords,1==a.iDraw&&"ajax"==y(a)?c=f.sLoadingRecords:
f.sEmptyTable&&0===a.fnRecordsTotal()&&(c=f.sEmptyTable),b[0]=h("<tr/>",{"class":e?d[0]:""}).append(h("<td />",{valign:"top",colSpan:aa(a),"class":a.oClasses.sRowEmpty}).html(c))[0];u(a,"aoHeaderCallback","header",[h(a.nTHead).children("tr")[0],Ka(a),g,n,i]);u(a,"aoFooterCallback","footer",[h(a.nTFoot).children("tr")[0],Ka(a),g,n,i]);d=h(a.nTBody);d.children().detach();d.append(h(b));u(a,"aoDrawCallback","draw",[a]);a.bSorted=!1;a.bFiltered=!1;a.bDrawing=!1}}function T(a,b){var c=a.oFeatures,d=c.bFilter;
c.bSort&&mb(a);d?fa(a,a.oPreviousSearch):a.aiDisplay=a.aiDisplayMaster.slice();!0!==b&&(a._iDisplayStart=0);a._drawHold=b;O(a);a._drawHold=!1}function nb(a){var b=a.oClasses,c=h(a.nTable),c=h("<div/>").insertBefore(c),d=a.oFeatures,e=h("<div/>",{id:a.sTableId+"_wrapper","class":b.sWrapper+(a.nTFoot?"":" "+b.sNoFooter)});a.nHolding=c[0];a.nTableWrapper=e[0];a.nTableReinsertBefore=a.nTable.nextSibling;for(var f=a.sDom.split(""),g,j,i,n,l,q,t=0;t<f.length;t++){g=null;j=f[t];if("<"==j){i=h("<div/>")[0];
n=f[t+1];if("'"==n||'"'==n){l="";for(q=2;f[t+q]!=n;)l+=f[t+q],q++;"H"==l?l=b.sJUIHeader:"F"==l&&(l=b.sJUIFooter);-1!=l.indexOf(".")?(n=l.split("."),i.id=n[0].substr(1,n[0].length-1),i.className=n[1]):"#"==l.charAt(0)?i.id=l.substr(1,l.length-1):i.className=l;t+=q}e.append(i);e=h(i)}else if(">"==j)e=e.parent();else if("l"==j&&d.bPaginate&&d.bLengthChange)g=ob(a);else if("f"==j&&d.bFilter)g=pb(a);else if("r"==j&&d.bProcessing)g=qb(a);else if("t"==j)g=rb(a);else if("i"==j&&d.bInfo)g=sb(a);else if("p"==
j&&d.bPaginate)g=tb(a);else if(0!==m.ext.feature.length){i=m.ext.feature;q=0;for(n=i.length;q<n;q++)if(j==i[q].cFeature){g=i[q].fnInit(a);break}}g&&(i=a.aanFeatures,i[j]||(i[j]=[]),i[j].push(g),e.append(g))}c.replaceWith(e);a.nHolding=null}function da(a,b){var c=h(b).children("tr"),d,e,f,g,j,i,n,l,q,t;a.splice(0,a.length);f=0;for(i=c.length;f<i;f++)a.push([]);f=0;for(i=c.length;f<i;f++){d=c[f];for(e=d.firstChild;e;){if("TD"==e.nodeName.toUpperCase()||"TH"==e.nodeName.toUpperCase()){l=1*e.getAttribute("colspan");
q=1*e.getAttribute("rowspan");l=!l||0===l||1===l?1:l;q=!q||0===q||1===q?1:q;g=0;for(j=a[f];j[g];)g++;n=g;t=1===l?!0:!1;for(j=0;j<l;j++)for(g=0;g<q;g++)a[f+g][n+j]={cell:e,unique:t},a[f+g].nTr=d}e=e.nextSibling}}}function qa(a,b,c){var d=[];c||(c=a.aoHeader,b&&(c=[],da(c,b)));for(var b=0,e=c.length;b<e;b++)for(var f=0,g=c[b].length;f<g;f++)if(c[b][f].unique&&(!d[f]||!a.bSortCellsTop))d[f]=c[b][f].cell;return d}function ra(a,b,c){u(a,"aoServerParams","serverParams",[b]);if(b&&h.isArray(b)){var d={},
e=/(.*?)\[\]$/;h.each(b,function(a,b){var c=b.name.match(e);c?(c=c[0],d[c]||(d[c]=[]),d[c].push(b.value)):d[b.name]=b.value});b=d}var f,g=a.ajax,j=a.oInstance,i=function(b){u(a,null,"xhr",[a,b,a.jqXHR]);c(b)};if(h.isPlainObject(g)&&g.data){f=g.data;var n=h.isFunction(f)?f(b,a):f,b=h.isFunction(f)&&n?n:h.extend(!0,b,n);delete g.data}n={data:b,success:function(b){var c=b.error||b.sError;c&&L(a,0,c);a.json=b;i(b)},dataType:"json",cache:!1,type:a.sServerMethod,error:function(b,c){var d=u(a,null,"xhr",
[a,null,a.jqXHR]);-1===h.inArray(!0,d)&&("parsererror"==c?L(a,0,"Invalid JSON response",1):4===b.readyState&&L(a,0,"Ajax error",7));C(a,!1)}};a.oAjaxData=b;u(a,null,"preXhr",[a,b]);a.fnServerData?a.fnServerData.call(j,a.sAjaxSource,h.map(b,function(a,b){return{name:b,value:a}}),i,a):a.sAjaxSource||"string"===typeof g?a.jqXHR=h.ajax(h.extend(n,{url:g||a.sAjaxSource})):h.isFunction(g)?a.jqXHR=g.call(j,b,i,a):(a.jqXHR=h.ajax(h.extend(n,g)),g.data=f)}function lb(a){return a.bAjaxDataGet?(a.iDraw++,C(a,
!0),ra(a,ub(a),function(b){vb(a,b)}),!1):!0}function ub(a){var b=a.aoColumns,c=b.length,d=a.oFeatures,e=a.oPreviousSearch,f=a.aoPreSearchCols,g,j=[],i,n,l,q=V(a);g=a._iDisplayStart;i=!1!==d.bPaginate?a._iDisplayLength:-1;var k=function(a,b){j.push({name:a,value:b})};k("sEcho",a.iDraw);k("iColumns",c);k("sColumns",G(b,"sName").join(","));k("iDisplayStart",g);k("iDisplayLength",i);var S={draw:a.iDraw,columns:[],order:[],start:g,length:i,search:{value:e.sSearch,regex:e.bRegex}};for(g=0;g<c;g++)n=b[g],
l=f[g],i="function"==typeof n.mData?"function":n.mData,S.columns.push({data:i,name:n.sName,searchable:n.bSearchable,orderable:n.bSortable,search:{value:l.sSearch,regex:l.bRegex}}),k("mDataProp_"+g,i),d.bFilter&&(k("sSearch_"+g,l.sSearch),k("bRegex_"+g,l.bRegex),k("bSearchable_"+g,n.bSearchable)),d.bSort&&k("bSortable_"+g,n.bSortable);d.bFilter&&(k("sSearch",e.sSearch),k("bRegex",e.bRegex));d.bSort&&(h.each(q,function(a,b){S.order.push({column:b.col,dir:b.dir});k("iSortCol_"+a,b.col);k("sSortDir_"+
a,b.dir)}),k("iSortingCols",q.length));b=m.ext.legacy.ajax;return null===b?a.sAjaxSource?j:S:b?j:S}function vb(a,b){var c=sa(a,b),d=b.sEcho!==k?b.sEcho:b.draw,e=b.iTotalRecords!==k?b.iTotalRecords:b.recordsTotal,f=b.iTotalDisplayRecords!==k?b.iTotalDisplayRecords:b.recordsFiltered;if(d){if(1*d<a.iDraw)return;a.iDraw=1*d}na(a);a._iRecordsTotal=parseInt(e,10);a._iRecordsDisplay=parseInt(f,10);d=0;for(e=c.length;d<e;d++)N(a,c[d]);a.aiDisplay=a.aiDisplayMaster.slice();a.bAjaxDataGet=!1;O(a);a._bInitComplete||
ta(a,b);a.bAjaxDataGet=!0;C(a,!1)}function sa(a,b){var c=h.isPlainObject(a.ajax)&&a.ajax.dataSrc!==k?a.ajax.dataSrc:a.sAjaxDataProp;return"data"===c?b.aaData||b[c]:""!==c?Q(c)(b):b}function pb(a){var b=a.oClasses,c=a.sTableId,d=a.oLanguage,e=a.oPreviousSearch,f=a.aanFeatures,g='<input type="search" class="'+b.sFilterInput+'"/>',j=d.sSearch,j=j.match(/_INPUT_/)?j.replace("_INPUT_",g):j+g,b=h("<div/>",{id:!f.f?c+"_filter":null,"class":b.sFilter}).append(h("<label/>").append(j)),f=function(){var b=!this.value?
"":this.value;b!=e.sSearch&&(fa(a,{sSearch:b,bRegex:e.bRegex,bSmart:e.bSmart,bCaseInsensitive:e.bCaseInsensitive}),a._iDisplayStart=0,O(a))},g=null!==a.searchDelay?a.searchDelay:"ssp"===y(a)?400:0,i=h("input",b).val(e.sSearch).attr("placeholder",d.sSearchPlaceholder).bind("keyup.DT search.DT input.DT paste.DT cut.DT",g?Oa(f,g):f).bind("keypress.DT",function(a){if(13==a.keyCode)return!1}).attr("aria-controls",c);h(a.nTable).on("search.dt.DT",function(b,c){if(a===c)try{i[0]!==I.activeElement&&i.val(e.sSearch)}catch(d){}});
return b[0]}function fa(a,b,c){var d=a.oPreviousSearch,e=a.aoPreSearchCols,f=function(a){d.sSearch=a.sSearch;d.bRegex=a.bRegex;d.bSmart=a.bSmart;d.bCaseInsensitive=a.bCaseInsensitive};Ga(a);if("ssp"!=y(a)){wb(a,b.sSearch,c,b.bEscapeRegex!==k?!b.bEscapeRegex:b.bRegex,b.bSmart,b.bCaseInsensitive);f(b);for(b=0;b<e.length;b++)xb(a,e[b].sSearch,b,e[b].bEscapeRegex!==k?!e[b].bEscapeRegex:e[b].bRegex,e[b].bSmart,e[b].bCaseInsensitive);yb(a)}else f(b);a.bFiltered=!0;u(a,null,"search",[a])}function yb(a){for(var b=
m.ext.search,c=a.aiDisplay,d,e,f=0,g=b.length;f<g;f++){for(var j=[],i=0,n=c.length;i<n;i++)e=c[i],d=a.aoData[e],b[f](a,d._aFilterData,e,d._aData,i)&&j.push(e);c.length=0;h.merge(c,j)}}function xb(a,b,c,d,e,f){if(""!==b)for(var g=a.aiDisplay,d=Pa(b,d,e,f),e=g.length-1;0<=e;e--)b=a.aoData[g[e]]._aFilterData[c],d.test(b)||g.splice(e,1)}function wb(a,b,c,d,e,f){var d=Pa(b,d,e,f),e=a.oPreviousSearch.sSearch,f=a.aiDisplayMaster,g;0!==m.ext.search.length&&(c=!0);g=zb(a);if(0>=b.length)a.aiDisplay=f.slice();
else{if(g||c||e.length>b.length||0!==b.indexOf(e)||a.bSorted)a.aiDisplay=f.slice();b=a.aiDisplay;for(c=b.length-1;0<=c;c--)d.test(a.aoData[b[c]]._sFilterRow)||b.splice(c,1)}}function Pa(a,b,c,d){a=b?a:Qa(a);c&&(a="^(?=.*?"+h.map(a.match(/"[^"]+"|[^ ]+/g)||[""],function(a){if('"'===a.charAt(0))var b=a.match(/^"(.*)"$/),a=b?b[1]:a;return a.replace('"',"")}).join(")(?=.*?")+").*$");return RegExp(a,d?"i":"")}function zb(a){var b=a.aoColumns,c,d,e,f,g,j,i,h,l=m.ext.type.search;c=!1;d=0;for(f=a.aoData.length;d<
f;d++)if(h=a.aoData[d],!h._aFilterData){j=[];e=0;for(g=b.length;e<g;e++)c=b[e],c.bSearchable?(i=B(a,d,e,"filter"),l[c.sType]&&(i=l[c.sType](i)),null===i&&(i=""),"string"!==typeof i&&i.toString&&(i=i.toString())):i="",i.indexOf&&-1!==i.indexOf("&")&&(ua.innerHTML=i,i=Zb?ua.textContent:ua.innerText),i.replace&&(i=i.replace(/[\r\n]/g,"")),j.push(i);h._aFilterData=j;h._sFilterRow=j.join("  ");c=!0}return c}function Ab(a){return{search:a.sSearch,smart:a.bSmart,regex:a.bRegex,caseInsensitive:a.bCaseInsensitive}}
function Bb(a){return{sSearch:a.search,bSmart:a.smart,bRegex:a.regex,bCaseInsensitive:a.caseInsensitive}}function sb(a){var b=a.sTableId,c=a.aanFeatures.i,d=h("<div/>",{"class":a.oClasses.sInfo,id:!c?b+"_info":null});c||(a.aoDrawCallback.push({fn:Cb,sName:"information"}),d.attr("role","status").attr("aria-live","polite"),h(a.nTable).attr("aria-describedby",b+"_info"));return d[0]}function Cb(a){var b=a.aanFeatures.i;if(0!==b.length){var c=a.oLanguage,d=a._iDisplayStart+1,e=a.fnDisplayEnd(),f=a.fnRecordsTotal(),
g=a.fnRecordsDisplay(),j=g?c.sInfo:c.sInfoEmpty;g!==f&&(j+=" "+c.sInfoFiltered);j+=c.sInfoPostFix;j=Db(a,j);c=c.fnInfoCallback;null!==c&&(j=c.call(a.oInstance,a,d,e,f,g,j));h(b).html(j)}}function Db(a,b){var c=a.fnFormatNumber,d=a._iDisplayStart+1,e=a._iDisplayLength,f=a.fnRecordsDisplay(),g=-1===e;return b.replace(/_START_/g,c.call(a,d)).replace(/_END_/g,c.call(a,a.fnDisplayEnd())).replace(/_MAX_/g,c.call(a,a.fnRecordsTotal())).replace(/_TOTAL_/g,c.call(a,f)).replace(/_PAGE_/g,c.call(a,g?1:Math.ceil(d/
e))).replace(/_PAGES_/g,c.call(a,g?1:Math.ceil(f/e)))}function ga(a){var b,c,d=a.iInitDisplayStart,e=a.aoColumns,f;c=a.oFeatures;var g=a.bDeferLoading;if(a.bInitialised){nb(a);kb(a);ea(a,a.aoHeader);ea(a,a.aoFooter);C(a,!0);c.bAutoWidth&&Fa(a);b=0;for(c=e.length;b<c;b++)f=e[b],f.sWidth&&(f.nTh.style.width=x(f.sWidth));u(a,null,"preInit",[a]);T(a);e=y(a);if("ssp"!=e||g)"ajax"==e?ra(a,[],function(c){var f=sa(a,c);for(b=0;b<f.length;b++)N(a,f[b]);a.iInitDisplayStart=d;T(a);C(a,!1);ta(a,c)},a):(C(a,!1),
ta(a))}else setTimeout(function(){ga(a)},200)}function ta(a,b){a._bInitComplete=!0;(b||a.oInit.aaData)&&Y(a);u(a,null,"plugin-init",[a,b]);u(a,"aoInitComplete","init",[a,b])}function Ra(a,b){var c=parseInt(b,10);a._iDisplayLength=c;Sa(a);u(a,null,"length",[a,c])}function ob(a){for(var b=a.oClasses,c=a.sTableId,d=a.aLengthMenu,e=h.isArray(d[0]),f=e?d[0]:d,d=e?d[1]:d,e=h("<select/>",{name:c+"_length","aria-controls":c,"class":b.sLengthSelect}),g=0,j=f.length;g<j;g++)e[0][g]=new Option(d[g],f[g]);var i=
h("<div><label/></div>").addClass(b.sLength);a.aanFeatures.l||(i[0].id=c+"_length");i.children().append(a.oLanguage.sLengthMenu.replace("_MENU_",e[0].outerHTML));h("select",i).val(a._iDisplayLength).bind("change.DT",function(){Ra(a,h(this).val());O(a)});h(a.nTable).bind("length.dt.DT",function(b,c,d){a===c&&h("select",i).val(d)});return i[0]}function tb(a){var b=a.sPaginationType,c=m.ext.pager[b],d="function"===typeof c,e=function(a){O(a)},b=h("<div/>").addClass(a.oClasses.sPaging+b)[0],f=a.aanFeatures;
d||c.fnInit(a,b,e);f.p||(b.id=a.sTableId+"_paginate",a.aoDrawCallback.push({fn:function(a){if(d){var b=a._iDisplayStart,i=a._iDisplayLength,h=a.fnRecordsDisplay(),l=-1===i,b=l?0:Math.ceil(b/i),i=l?1:Math.ceil(h/i),h=c(b,i),k,l=0;for(k=f.p.length;l<k;l++)Na(a,"pageButton")(a,f.p[l],l,h,b,i)}else c.fnUpdate(a,e)},sName:"pagination"}));return b}function Ta(a,b,c){var d=a._iDisplayStart,e=a._iDisplayLength,f=a.fnRecordsDisplay();0===f||-1===e?d=0:"number"===typeof b?(d=b*e,d>f&&(d=0)):"first"==b?d=0:
"previous"==b?(d=0<=e?d-e:0,0>d&&(d=0)):"next"==b?d+e<f&&(d+=e):"last"==b?d=Math.floor((f-1)/e)*e:L(a,0,"Unknown paging action: "+b,5);b=a._iDisplayStart!==d;a._iDisplayStart=d;b&&(u(a,null,"page",[a]),c&&O(a));return b}function qb(a){return h("<div/>",{id:!a.aanFeatures.r?a.sTableId+"_processing":null,"class":a.oClasses.sProcessing}).html(a.oLanguage.sProcessing).insertBefore(a.nTable)[0]}function C(a,b){a.oFeatures.bProcessing&&h(a.aanFeatures.r).css("display",b?"block":"none");u(a,null,"processing",
[a,b])}function rb(a){var b=h(a.nTable);b.attr("role","grid");var c=a.oScroll;if(""===c.sX&&""===c.sY)return a.nTable;var d=c.sX,e=c.sY,f=a.oClasses,g=b.children("caption"),j=g.length?g[0]._captionSide:null,i=h(b[0].cloneNode(!1)),n=h(b[0].cloneNode(!1)),l=b.children("tfoot");l.length||(l=null);i=h("<div/>",{"class":f.sScrollWrapper}).append(h("<div/>",{"class":f.sScrollHead}).css({overflow:"hidden",position:"relative",border:0,width:d?!d?null:x(d):"100%"}).append(h("<div/>",{"class":f.sScrollHeadInner}).css({"box-sizing":"content-box",
width:c.sXInner||"100%"}).append(i.removeAttr("id").css("margin-left",0).append("top"===j?g:null).append(b.children("thead"))))).append(h("<div/>",{"class":f.sScrollBody}).css({position:"relative",overflow:"auto",width:!d?null:x(d)}).append(b));l&&i.append(h("<div/>",{"class":f.sScrollFoot}).css({overflow:"hidden",border:0,width:d?!d?null:x(d):"100%"}).append(h("<div/>",{"class":f.sScrollFootInner}).append(n.removeAttr("id").css("margin-left",0).append("bottom"===j?g:null).append(b.children("tfoot")))));
var b=i.children(),k=b[0],f=b[1],t=l?b[2]:null;if(d)h(f).on("scroll.DT",function(){var a=this.scrollLeft;k.scrollLeft=a;l&&(t.scrollLeft=a)});h(f).css(e&&c.bCollapse?"max-height":"height",e);a.nScrollHead=k;a.nScrollBody=f;a.nScrollFoot=t;a.aoDrawCallback.push({fn:ka,sName:"scrolling"});return i[0]}function ka(a){var b=a.oScroll,c=b.sX,d=b.sXInner,e=b.sY,b=b.iBarWidth,f=h(a.nScrollHead),g=f[0].style,j=f.children("div"),i=j[0].style,n=j.children("table"),j=a.nScrollBody,l=h(j),q=j.style,t=h(a.nScrollFoot).children("div"),
m=t.children("table"),o=h(a.nTHead),F=h(a.nTable),p=F[0],r=p.style,u=a.nTFoot?h(a.nTFoot):null,Eb=a.oBrowser,Ua=Eb.bScrollOversize,s=G(a.aoColumns,"nTh"),P,v,w,y,z=[],A=[],B=[],C=[],D,E=function(a){a=a.style;a.paddingTop="0";a.paddingBottom="0";a.borderTopWidth="0";a.borderBottomWidth="0";a.height=0};v=j.scrollHeight>j.clientHeight;if(a.scrollBarVis!==v&&a.scrollBarVis!==k)a.scrollBarVis=v,Y(a);else{a.scrollBarVis=v;F.children("thead, tfoot").remove();u&&(w=u.clone().prependTo(F),P=u.find("tr"),w=
w.find("tr"));y=o.clone().prependTo(F);o=o.find("tr");v=y.find("tr");y.find("th, td").removeAttr("tabindex");c||(q.width="100%",f[0].style.width="100%");h.each(qa(a,y),function(b,c){D=Z(a,b);if(a.aoColumns[D]) {c.style.width=a.aoColumns[D].sWidth;}});u&&J(function(a){a.style.width=""},w);f=F.outerWidth();if(""===c){r.width="100%";if(Ua&&(F.find("tbody").height()>j.offsetHeight||"scroll"==l.css("overflow-y")))r.width=x(F.outerWidth()-b);f=F.outerWidth()}else""!==d&&(r.width=x(d),f=F.outerWidth());J(E,v);J(function(a){B.push(a.innerHTML);
z.push(x(h(a).css("width")))},v);J(function(a,b){if(h.inArray(a,s)!==-1)a.style.width=z[b]},o);h(v).height(0);u&&(J(E,w),J(function(a){C.push(a.innerHTML);A.push(x(h(a).css("width")))},w),J(function(a,b){a.style.width=A[b]},P),h(w).height(0));J(function(a,b){a.innerHTML='<div class="dataTables_sizing" style="height:0;overflow:hidden;">'+B[b]+"</div>";a.style.width=z[b]},v);u&&J(function(a,b){a.innerHTML='<div class="dataTables_sizing" style="height:0;overflow:hidden;">'+C[b]+"</div>";a.style.width=
A[b]},w);if(F.outerWidth()<f){P=j.scrollHeight>j.offsetHeight||"scroll"==l.css("overflow-y")?f+b:f;if(Ua&&(j.scrollHeight>j.offsetHeight||"scroll"==l.css("overflow-y")))r.width=x(P-b);(""===c||""!==d)&&L(a,1,"Possible column misalignment",6)}else P="100%";q.width=x(P);g.width=x(P);u&&(a.nScrollFoot.style.width=x(P));!e&&Ua&&(q.height=x(p.offsetHeight+b));c=F.outerWidth();n[0].style.width=x(c);i.width=x(c);d=F.height()>j.clientHeight||"scroll"==l.css("overflow-y");e="padding"+(Eb.bScrollbarLeft?"Left":
"Right");i[e]=d?b+"px":"0px";u&&(m[0].style.width=x(c),t[0].style.width=x(c),t[0].style[e]=d?b+"px":"0px");F.children("colgroup").insertBefore(F.children("thead"));l.scroll();if((a.bSorted||a.bFiltered)&&!a._drawHold)j.scrollTop=0}}function J(a,b,c){for(var d=0,e=0,f=b.length,g,j;e<f;){g=b[e].firstChild;for(j=c?c[e].firstChild:null;g;)1===g.nodeType&&(c?a(g,j,d):a(g,d),d++),g=g.nextSibling,j=c?j.nextSibling:null;e++}}function Fa(a){var b=a.nTable,c=a.aoColumns,d=a.oScroll,e=d.sY,f=d.sX,g=d.sXInner,
j=c.length,i=la(a,"bVisible"),n=h("th",a.nTHead),l=b.getAttribute("width"),k=b.parentNode,t=!1,m,o,p=a.oBrowser,d=p.bScrollOversize;(m=b.style.width)&&-1!==m.indexOf("%")&&(l=m);for(m=0;m<i.length;m++)o=c[i[m]],null!==o.sWidth&&(o.sWidth=Fb(o.sWidthOrig,k),t=!0);if(d||!t&&!f&&!e&&j==aa(a)&&j==n.length)for(m=0;m<j;m++)i=Z(a,m),null!==i&&(c[i].sWidth=x(n.eq(m).width()));else{j=h(b).clone().css("visibility","hidden").removeAttr("id");j.find("tbody tr").remove();var r=h("<tr/>").appendTo(j.find("tbody"));
j.find("thead, tfoot").remove();j.append(h(a.nTHead).clone()).append(h(a.nTFoot).clone());j.find("tfoot th, tfoot td").css("width","");n=qa(a,j.find("thead")[0]);for(m=0;m<i.length;m++)o=c[i[m]],n[m].style.width=null!==o.sWidthOrig&&""!==o.sWidthOrig?x(o.sWidthOrig):"",o.sWidthOrig&&f&&h(n[m]).append(h("<div/>").css({width:o.sWidthOrig,margin:0,padding:0,border:0,height:1}));if(a.aoData.length)for(m=0;m<i.length;m++)t=i[m],o=c[t],h(Gb(a,t)).clone(!1).append(o.sContentPadding).appendTo(r);h("[name]",
j).removeAttr("name");o=h("<div/>").css(f||e?{position:"absolute",top:0,left:0,height:1,right:0,overflow:"hidden"}:{}).append(j).appendTo(k);f&&g?j.width(g):f?(j.css("width","auto"),j.removeAttr("width"),j.width()<k.clientWidth&&l&&j.width(k.clientWidth)):e?j.width(k.clientWidth):l&&j.width(l);for(m=e=0;m<i.length;m++)k=h(n[m]),g=k.outerWidth()-k.width(),k=p.bBounding?Math.ceil(n[m].getBoundingClientRect().width):k.outerWidth(),e+=k,c[i[m]].sWidth=x(k-g);b.style.width=x(e);o.remove()}l&&(b.style.width=
x(l));if((l||f)&&!a._reszEvt)b=function(){h(D).bind("resize.DT-"+a.sInstance,Oa(function(){Y(a)}))},d?setTimeout(b,1E3):b(),a._reszEvt=!0}function Fb(a,b){if(!a)return 0;var c=h("<div/>").css("width",x(a)).appendTo(b||I.body),d=c[0].offsetWidth;c.remove();return d}function Gb(a,b){var c=Hb(a,b);if(0>c)return null;var d=a.aoData[c];return!d.nTr?h("<td/>").html(B(a,c,b,"display"))[0]:d.anCells[b]}function Hb(a,b){for(var c,d=-1,e=-1,f=0,g=a.aoData.length;f<g;f++)c=B(a,f,b,"display")+"",c=c.replace($b,
""),c=c.replace(/&nbsp;/g," "),c.length>d&&(d=c.length,e=f);return e}function x(a){return null===a?"0px":"number"==typeof a?0>a?"0px":a+"px":a.match(/\d$/)?a+"px":a}function V(a){var b,c,d=[],e=a.aoColumns,f,g,j,i;b=a.aaSortingFixed;c=h.isPlainObject(b);var n=[];f=function(a){a.length&&!h.isArray(a[0])?n.push(a):h.merge(n,a)};h.isArray(b)&&f(b);c&&b.pre&&f(b.pre);f(a.aaSorting);c&&b.post&&f(b.post);for(a=0;a<n.length;a++){i=n[a][0];f=e[i].aDataSort;b=0;for(c=f.length;b<c;b++)g=f[b],j=e[g].sType||
"string",n[a]._idx===k&&(n[a]._idx=h.inArray(n[a][1],e[g].asSorting)),d.push({src:i,col:g,dir:n[a][1],index:n[a]._idx,type:j,formatter:m.ext.type.order[j+"-pre"]})}return d}function mb(a){var b,c,d=[],e=m.ext.type.order,f=a.aoData,g=0,j,i=a.aiDisplayMaster,h;Ga(a);h=V(a);b=0;for(c=h.length;b<c;b++)j=h[b],j.formatter&&g++,Ib(a,j.col);if("ssp"!=y(a)&&0!==h.length){b=0;for(c=i.length;b<c;b++)d[i[b]]=b;g===h.length?i.sort(function(a,b){var c,e,g,j,i=h.length,k=f[a]._aSortData,m=f[b]._aSortData;for(g=
0;g<i;g++)if(j=h[g],c=k[j.col],e=m[j.col],c=c<e?-1:c>e?1:0,0!==c)return"asc"===j.dir?c:-c;c=d[a];e=d[b];return c<e?-1:c>e?1:0}):i.sort(function(a,b){var c,g,j,i,k=h.length,m=f[a]._aSortData,p=f[b]._aSortData;for(j=0;j<k;j++)if(i=h[j],c=m[i.col],g=p[i.col],i=e[i.type+"-"+i.dir]||e["string-"+i.dir],c=i(c,g),0!==c)return c;c=d[a];g=d[b];return c<g?-1:c>g?1:0})}a.bSorted=!0}function Jb(a){for(var b,c,d=a.aoColumns,e=V(a),a=a.oLanguage.oAria,f=0,g=d.length;f<g;f++){c=d[f];var j=c.asSorting;b=c.sTitle.replace(/<.*?>/g,
"");var i=c.nTh;i.removeAttribute("aria-sort");c.bSortable&&(0<e.length&&e[0].col==f?(i.setAttribute("aria-sort","asc"==e[0].dir?"ascending":"descending"),c=j[e[0].index+1]||j[0]):c=j[0],b+="asc"===c?a.sSortAscending:a.sSortDescending);i.setAttribute("aria-label",b)}}function Va(a,b,c,d){var e=a.aaSorting,f=a.aoColumns[b].asSorting,g=function(a,b){var c=a._idx;c===k&&(c=h.inArray(a[1],f));return c+1<f.length?c+1:b?null:0};"number"===typeof e[0]&&(e=a.aaSorting=[e]);c&&a.oFeatures.bSortMulti?(c=h.inArray(b,
G(e,"0")),-1!==c?(b=g(e[c],!0),null===b&&1===e.length&&(b=0),null===b?e.splice(c,1):(e[c][1]=f[b],e[c]._idx=b)):(e.push([b,f[0],0]),e[e.length-1]._idx=0)):e.length&&e[0][0]==b?(b=g(e[0]),e.length=1,e[0][1]=f[b],e[0]._idx=b):(e.length=0,e.push([b,f[0]]),e[0]._idx=0);T(a);"function"==typeof d&&d(a)}function Ma(a,b,c,d){var e=a.aoColumns[c];Wa(b,{},function(b){!1!==e.bSortable&&(a.oFeatures.bProcessing?(C(a,!0),setTimeout(function(){Va(a,c,b.shiftKey,d);"ssp"!==y(a)&&C(a,!1)},0)):Va(a,c,b.shiftKey,d))})}
function va(a){var b=a.aLastSort,c=a.oClasses.sSortColumn,d=V(a),e=a.oFeatures,f,g;if(e.bSort&&e.bSortClasses){e=0;for(f=b.length;e<f;e++)g=b[e].src,h(G(a.aoData,"anCells",g)).removeClass(c+(2>e?e+1:3));e=0;for(f=d.length;e<f;e++)g=d[e].src,h(G(a.aoData,"anCells",g)).addClass(c+(2>e?e+1:3))}a.aLastSort=d}function Ib(a,b){var c=a.aoColumns[b],d=m.ext.order[c.sSortDataType],e;d&&(e=d.call(a.oInstance,a,b,$(a,b)));for(var f,g=m.ext.type.order[c.sType+"-pre"],j=0,i=a.aoData.length;j<i;j++)if(c=a.aoData[j],
c._aSortData||(c._aSortData=[]),!c._aSortData[b]||d)f=d?e[j]:B(a,j,b,"sort"),c._aSortData[b]=g?g(f):f}function wa(a){if(a.oFeatures.bStateSave&&!a.bDestroying){var b={time:+new Date,start:a._iDisplayStart,length:a._iDisplayLength,order:h.extend(!0,[],a.aaSorting),search:Ab(a.oPreviousSearch),columns:h.map(a.aoColumns,function(b,d){return{visible:b.bVisible,search:Ab(a.aoPreSearchCols[d])}})};u(a,"aoStateSaveParams","stateSaveParams",[a,b]);a.oSavedState=b;a.fnStateSaveCallback.call(a.oInstance,a,
b)}}function Kb(a){var b,c,d=a.aoColumns;if(a.oFeatures.bStateSave){var e=a.fnStateLoadCallback.call(a.oInstance,a);if(e&&e.time&&(b=u(a,"aoStateLoadParams","stateLoadParams",[a,e]),-1===h.inArray(!1,b)&&(b=a.iStateDuration,!(0<b&&e.time<+new Date-1E3*b)&&d.length===e.columns.length))){a.oLoadedState=h.extend(!0,{},e);e.start!==k&&(a._iDisplayStart=e.start,a.iInitDisplayStart=e.start);e.length!==k&&(a._iDisplayLength=e.length);e.order!==k&&(a.aaSorting=[],h.each(e.order,function(b,c){a.aaSorting.push(c[0]>=
d.length?[0,c[1]]:c)}));e.search!==k&&h.extend(a.oPreviousSearch,Bb(e.search));b=0;for(c=e.columns.length;b<c;b++){var f=e.columns[b];f.visible!==k&&(d[b].bVisible=f.visible);f.search!==k&&h.extend(a.aoPreSearchCols[b],Bb(f.search))}u(a,"aoStateLoaded","stateLoaded",[a,e])}}}function xa(a){var b=m.settings,a=h.inArray(a,G(b,"nTable"));return-1!==a?b[a]:null}function L(a,b,c,d){c="DataTables warning: "+(a?"table id="+a.sTableId+" - ":"")+c;d&&(c+=". For more information about this error, please see https://datatables.net/tn/"+
d);if(b)D.console&&console.log&&console.log(c);else if(b=m.ext,b=b.sErrMode||b.errMode,a&&u(a,null,"error",[a,d,c]),"alert"==b)alert(c);else{if("throw"==b)throw Error(c);"function"==typeof b&&b(a,d,c)}}function E(a,b,c,d){h.isArray(c)?h.each(c,function(c,d){h.isArray(d)?E(a,b,d[0],d[1]):E(a,b,d)}):(d===k&&(d=c),b[c]!==k&&(a[d]=b[c]))}function Lb(a,b,c){var d,e;for(e in b)b.hasOwnProperty(e)&&(d=b[e],h.isPlainObject(d)?(h.isPlainObject(a[e])||(a[e]={}),h.extend(!0,a[e],d)):a[e]=c&&"data"!==e&&"aaData"!==
e&&h.isArray(d)?d.slice():d);return a}function Wa(a,b,c){h(a).bind("click.DT",b,function(b){a.blur();c(b)}).bind("keypress.DT",b,function(a){13===a.which&&(a.preventDefault(),c(a))}).bind("selectstart.DT",function(){return!1})}function z(a,b,c,d){c&&a[b].push({fn:c,sName:d})}function u(a,b,c,d){var e=[];b&&(e=h.map(a[b].slice().reverse(),function(b){return b.fn.apply(a.oInstance,d)}));null!==c&&(b=h.Event(c+".dt"),h(a.nTable).trigger(b,d),e.push(b.result));return e}function Sa(a){var b=a._iDisplayStart,
c=a.fnDisplayEnd(),d=a._iDisplayLength;b>=c&&(b=c-d);b-=b%d;if(-1===d||0>b)b=0;a._iDisplayStart=b}function Na(a,b){var c=a.renderer,d=m.ext.renderer[b];return h.isPlainObject(c)&&c[b]?d[c[b]]||d._:"string"===typeof c?d[c]||d._:d._}function y(a){return a.oFeatures.bServerSide?"ssp":a.ajax||a.sAjaxSource?"ajax":"dom"}function ya(a,b){var c=[],c=Mb.numbers_length,d=Math.floor(c/2);b<=c?c=W(0,b):a<=d?(c=W(0,c-2),c.push("ellipsis"),c.push(b-1)):(a>=b-1-d?c=W(b-(c-2),b):(c=W(a-d+2,a+d-1),c.push("ellipsis"),
c.push(b-1)),c.splice(0,0,"ellipsis"),c.splice(0,0,0));c.DT_el="span";return c}function db(a){h.each({num:function(b){return za(b,a)},"num-fmt":function(b){return za(b,a,Xa)},"html-num":function(b){return za(b,a,Aa)},"html-num-fmt":function(b){return za(b,a,Aa,Xa)}},function(b,c){v.type.order[b+a+"-pre"]=c;b.match(/^html\-/)&&(v.type.search[b+a]=v.type.search.html)})}function Nb(a){return function(){var b=[xa(this[m.ext.iApiIndex])].concat(Array.prototype.slice.call(arguments));return m.ext.internal[a].apply(this,
b)}}var m=function(a){this.$=function(a,b){return this.api(!0).$(a,b)};this._=function(a,b){return this.api(!0).rows(a,b).data()};this.api=function(a){return a?new r(xa(this[v.iApiIndex])):new r(this)};this.fnAddData=function(a,b){var c=this.api(!0),d=h.isArray(a)&&(h.isArray(a[0])||h.isPlainObject(a[0]))?c.rows.add(a):c.row.add(a);(b===k||b)&&c.draw();return d.flatten().toArray()};this.fnAdjustColumnSizing=function(a){var b=this.api(!0).columns.adjust(),c=b.settings()[0],d=c.oScroll;a===k||a?b.draw(!1):
(""!==d.sX||""!==d.sY)&&ka(c)};this.fnClearTable=function(a){var b=this.api(!0).clear();(a===k||a)&&b.draw()};this.fnClose=function(a){this.api(!0).row(a).child.hide()};this.fnDeleteRow=function(a,b,c){var d=this.api(!0),a=d.rows(a),e=a.settings()[0],h=e.aoData[a[0][0]];a.remove();b&&b.call(this,e,h);(c===k||c)&&d.draw();return h};this.fnDestroy=function(a){this.api(!0).destroy(a)};this.fnDraw=function(a){this.api(!0).draw(a)};this.fnFilter=function(a,b,c,d,e,h){e=this.api(!0);null===b||b===k?e.search(a,
c,d,h):e.column(b).search(a,c,d,h);e.draw()};this.fnGetData=function(a,b){var c=this.api(!0);if(a!==k){var d=a.nodeName?a.nodeName.toLowerCase():"";return b!==k||"td"==d||"th"==d?c.cell(a,b).data():c.row(a).data()||null}return c.data().toArray()};this.fnGetNodes=function(a){var b=this.api(!0);return a!==k?b.row(a).node():b.rows().nodes().flatten().toArray()};this.fnGetPosition=function(a){var b=this.api(!0),c=a.nodeName.toUpperCase();return"TR"==c?b.row(a).index():"TD"==c||"TH"==c?(a=b.cell(a).index(),
[a.row,a.columnVisible,a.column]):null};this.fnIsOpen=function(a){return this.api(!0).row(a).child.isShown()};this.fnOpen=function(a,b,c){return this.api(!0).row(a).child(b,c).show().child()[0]};this.fnPageChange=function(a,b){var c=this.api(!0).page(a);(b===k||b)&&c.draw(!1)};this.fnSetColumnVis=function(a,b,c){a=this.api(!0).column(a).visible(b);(c===k||c)&&a.columns.adjust().draw()};this.fnSettings=function(){return xa(this[v.iApiIndex])};this.fnSort=function(a){this.api(!0).order(a).draw()};this.fnSortListener=
function(a,b,c){this.api(!0).order.listener(a,b,c)};this.fnUpdate=function(a,b,c,d,e){var h=this.api(!0);c===k||null===c?h.row(b).data(a):h.cell(b,c).data(a);(e===k||e)&&h.columns.adjust();(d===k||d)&&h.draw();return 0};this.fnVersionCheck=v.fnVersionCheck;var b=this,c=a===k,d=this.length;c&&(a={});this.oApi=this.internal=v.internal;for(var e in m.ext.internal)e&&(this[e]=Nb(e));this.each(function(){var e={},e=1<d?Lb(e,a,!0):a,g=0,j,i=this.getAttribute("id"),n=!1,l=m.defaults,q=h(this);if("table"!=
this.nodeName.toLowerCase())L(null,0,"Non-table node initialisation ("+this.nodeName+")",2);else{eb(l);fb(l.column);K(l,l,!0);K(l.column,l.column,!0);K(l,h.extend(e,q.data()));var t=m.settings,g=0;for(j=t.length;g<j;g++){var p=t[g];if(p.nTable==this||p.nTHead.parentNode==this||p.nTFoot&&p.nTFoot.parentNode==this){g=e.bRetrieve!==k?e.bRetrieve:l.bRetrieve;if(c||g)return p.oInstance;if(e.bDestroy!==k?e.bDestroy:l.bDestroy){p.oInstance.fnDestroy();break}else{L(p,0,"Cannot reinitialise DataTable",3);
return}}if(p.sTableId==this.id){t.splice(g,1);break}}if(null===i||""===i)this.id=i="DataTables_Table_"+m.ext._unique++;var o=h.extend(!0,{},m.models.oSettings,{sDestroyWidth:q[0].style.width,sInstance:i,sTableId:i});o.nTable=this;o.oApi=b.internal;o.oInit=e;t.push(o);o.oInstance=1===b.length?b:q.dataTable();eb(e);e.oLanguage&&Da(e.oLanguage);e.aLengthMenu&&!e.iDisplayLength&&(e.iDisplayLength=h.isArray(e.aLengthMenu[0])?e.aLengthMenu[0][0]:e.aLengthMenu[0]);e=Lb(h.extend(!0,{},l),e);E(o.oFeatures,
e,"bPaginate bLengthChange bFilter bSort bSortMulti bInfo bProcessing bAutoWidth bSortClasses bServerSide bDeferRender".split(" "));E(o,e,["asStripeClasses","ajax","fnServerData","fnFormatNumber","sServerMethod","aaSorting","aaSortingFixed","aLengthMenu","sPaginationType","sAjaxSource","sAjaxDataProp","iStateDuration","sDom","bSortCellsTop","iTabIndex","fnStateLoadCallback","fnStateSaveCallback","renderer","searchDelay","rowId",["iCookieDuration","iStateDuration"],["oSearch","oPreviousSearch"],["aoSearchCols",
"aoPreSearchCols"],["iDisplayLength","_iDisplayLength"],["bJQueryUI","bJUI"]]);E(o.oScroll,e,[["sScrollX","sX"],["sScrollXInner","sXInner"],["sScrollY","sY"],["bScrollCollapse","bCollapse"]]);E(o.oLanguage,e,"fnInfoCallback");z(o,"aoDrawCallback",e.fnDrawCallback,"user");z(o,"aoServerParams",e.fnServerParams,"user");z(o,"aoStateSaveParams",e.fnStateSaveParams,"user");z(o,"aoStateLoadParams",e.fnStateLoadParams,"user");z(o,"aoStateLoaded",e.fnStateLoaded,"user");z(o,"aoRowCallback",e.fnRowCallback,
"user");z(o,"aoRowCreatedCallback",e.fnCreatedRow,"user");z(o,"aoHeaderCallback",e.fnHeaderCallback,"user");z(o,"aoFooterCallback",e.fnFooterCallback,"user");z(o,"aoInitComplete",e.fnInitComplete,"user");z(o,"aoPreDrawCallback",e.fnPreDrawCallback,"user");o.rowIdFn=Q(e.rowId);gb(o);i=o.oClasses;e.bJQueryUI?(h.extend(i,m.ext.oJUIClasses,e.oClasses),e.sDom===l.sDom&&"lfrtip"===l.sDom&&(o.sDom='<"H"lfr>t<"F"ip>'),o.renderer)?h.isPlainObject(o.renderer)&&!o.renderer.header&&(o.renderer.header="jqueryui"):
o.renderer="jqueryui":h.extend(i,m.ext.classes,e.oClasses);q.addClass(i.sTable);o.iInitDisplayStart===k&&(o.iInitDisplayStart=e.iDisplayStart,o._iDisplayStart=e.iDisplayStart);null!==e.iDeferLoading&&(o.bDeferLoading=!0,g=h.isArray(e.iDeferLoading),o._iRecordsDisplay=g?e.iDeferLoading[0]:e.iDeferLoading,o._iRecordsTotal=g?e.iDeferLoading[1]:e.iDeferLoading);var r=o.oLanguage;h.extend(!0,r,e.oLanguage);""!==r.sUrl&&(h.ajax({dataType:"json",url:r.sUrl,success:function(a){Da(a);K(l.oLanguage,a);h.extend(true,
r,a);ga(o)},error:function(){ga(o)}}),n=!0);null===e.asStripeClasses&&(o.asStripeClasses=[i.sStripeOdd,i.sStripeEven]);var g=o.asStripeClasses,v=q.children("tbody").find("tr").eq(0);-1!==h.inArray(!0,h.map(g,function(a){return v.hasClass(a)}))&&(h("tbody tr",this).removeClass(g.join(" ")),o.asDestroyStripes=g.slice());t=[];g=this.getElementsByTagName("thead");0!==g.length&&(da(o.aoHeader,g[0]),t=qa(o));if(null===e.aoColumns){p=[];g=0;for(j=t.length;g<j;g++)p.push(null)}else p=e.aoColumns;g=0;for(j=
p.length;g<j;g++)Ea(o,t?t[g]:null);ib(o,e.aoColumnDefs,p,function(a,b){ja(o,a,b)});if(v.length){var s=function(a,b){return a.getAttribute("data-"+b)!==null?b:null};h(v[0]).children("th, td").each(function(a,b){var c=o.aoColumns[a];if(c.mData===a){var d=s(b,"sort")||s(b,"order"),e=s(b,"filter")||s(b,"search");if(d!==null||e!==null){c.mData={_:a+".display",sort:d!==null?a+".@data-"+d:k,type:d!==null?a+".@data-"+d:k,filter:e!==null?a+".@data-"+e:k};ja(o,a)}}})}var w=o.oFeatures;e.bStateSave&&(w.bStateSave=
!0,Kb(o,e),z(o,"aoDrawCallback",wa,"state_save"));if(e.aaSorting===k){t=o.aaSorting;g=0;for(j=t.length;g<j;g++)t[g][1]=o.aoColumns[g].asSorting[0]}va(o);w.bSort&&z(o,"aoDrawCallback",function(){if(o.bSorted){var a=V(o),b={};h.each(a,function(a,c){b[c.src]=c.dir});u(o,null,"order",[o,a,b]);Jb(o)}});z(o,"aoDrawCallback",function(){(o.bSorted||y(o)==="ssp"||w.bDeferRender)&&va(o)},"sc");g=q.children("caption").each(function(){this._captionSide=q.css("caption-side")});j=q.children("thead");0===j.length&&
(j=h("<thead/>").appendTo(this));o.nTHead=j[0];j=q.children("tbody");0===j.length&&(j=h("<tbody/>").appendTo(this));o.nTBody=j[0];j=q.children("tfoot");if(0===j.length&&0<g.length&&(""!==o.oScroll.sX||""!==o.oScroll.sY))j=h("<tfoot/>").appendTo(this);0===j.length||0===j.children().length?q.addClass(i.sNoFooter):0<j.length&&(o.nTFoot=j[0],da(o.aoFooter,o.nTFoot));if(e.aaData)for(g=0;g<e.aaData.length;g++)N(o,e.aaData[g]);else(o.bDeferLoading||"dom"==y(o))&&ma(o,h(o.nTBody).children("tr"));o.aiDisplay=
o.aiDisplayMaster.slice();o.bInitialised=!0;!1===n&&ga(o)}});b=null;return this},v,r,p,s,Ya={},Ob=/[\r\n]/g,Aa=/<.*?>/g,ac=/^[\w\+\-]/,bc=/[\w\+\-]$/,cc=RegExp("(\\/|\\.|\\*|\\+|\\?|\\||\\(|\\)|\\[|\\]|\\{|\\}|\\\\|\\$|\\^|\\-)","g"),Xa=/[',$Â£â¬Â¥%\u2009\u202F\u20BD\u20a9\u20BArfk]/gi,M=function(a){return!a||!0===a||"-"===a?!0:!1},Pb=function(a){var b=parseInt(a,10);return!isNaN(b)&&isFinite(a)?b:null},Qb=function(a,b){Ya[b]||(Ya[b]=RegExp(Qa(b),"g"));return"string"===typeof a&&"."!==b?a.replace(/\./g,
"").replace(Ya[b],"."):a},Za=function(a,b,c){var d="string"===typeof a;if(M(a))return!0;b&&d&&(a=Qb(a,b));c&&d&&(a=a.replace(Xa,""));return!isNaN(parseFloat(a))&&isFinite(a)},Rb=function(a,b,c){return M(a)?!0:!(M(a)||"string"===typeof a)?null:Za(a.replace(Aa,""),b,c)?!0:null},G=function(a,b,c){var d=[],e=0,f=a.length;if(c!==k)for(;e<f;e++)a[e]&&a[e][b]&&d.push(a[e][b][c]);else for(;e<f;e++)a[e]&&d.push(a[e][b]);return d},ha=function(a,b,c,d){var e=[],f=0,g=b.length;if(d!==k)for(;f<g;f++)a[b[f]][c]&&
e.push(a[b[f]][c][d]);else for(;f<g;f++)e.push(a[b[f]][c]);return e},W=function(a,b){var c=[],d;b===k?(b=0,d=a):(d=b,b=a);for(var e=b;e<d;e++)c.push(e);return c},Sb=function(a){for(var b=[],c=0,d=a.length;c<d;c++)a[c]&&b.push(a[c]);return b},pa=function(a){var b=[],c,d,e=a.length,f,g=0;d=0;a:for(;d<e;d++){c=a[d];for(f=0;f<g;f++)if(b[f]===c)continue a;b.push(c);g++}return b};m.util={throttle:function(a,b){var c=b!==k?b:200,d,e;return function(){var b=this,g=+new Date,h=arguments;d&&g<d+c?(clearTimeout(e),
e=setTimeout(function(){d=k;a.apply(b,h)},c)):(d=g,a.apply(b,h))}},escapeRegex:function(a){return a.replace(cc,"\\$1")}};var A=function(a,b,c){a[b]!==k&&(a[c]=a[b])},ba=/\[.*?\]$/,U=/\(\)$/,Qa=m.util.escapeRegex,ua=h("<div>")[0],Zb=ua.textContent!==k,$b=/<.*?>/g,Oa=m.util.throttle,Tb=[],w=Array.prototype,dc=function(a){var b,c,d=m.settings,e=h.map(d,function(a){return a.nTable});if(a){if(a.nTable&&a.oApi)return[a];if(a.nodeName&&"table"===a.nodeName.toLowerCase())return b=h.inArray(a,e),-1!==b?[d[b]]:
null;if(a&&"function"===typeof a.settings)return a.settings().toArray();"string"===typeof a?c=h(a):a instanceof h&&(c=a)}else return[];if(c)return c.map(function(){b=h.inArray(this,e);return-1!==b?d[b]:null}).toArray()};r=function(a,b){if(!(this instanceof r))return new r(a,b);var c=[],d=function(a){(a=dc(a))&&(c=c.concat(a))};if(h.isArray(a))for(var e=0,f=a.length;e<f;e++)d(a[e]);else d(a);this.context=pa(c);b&&h.merge(this,b);this.selector={rows:null,cols:null,opts:null};r.extend(this,this,Tb)};
m.Api=r;h.extend(r.prototype,{any:function(){return 0!==this.count()},concat:w.concat,context:[],count:function(){return this.flatten().length},each:function(a){for(var b=0,c=this.length;b<c;b++)a.call(this,this[b],b,this);return this},eq:function(a){var b=this.context;return b.length>a?new r(b[a],this[a]):null},filter:function(a){var b=[];if(w.filter)b=w.filter.call(this,a,this);else for(var c=0,d=this.length;c<d;c++)a.call(this,this[c],c,this)&&b.push(this[c]);return new r(this.context,b)},flatten:function(){var a=
[];return new r(this.context,a.concat.apply(a,this.toArray()))},join:w.join,indexOf:w.indexOf||function(a,b){for(var c=b||0,d=this.length;c<d;c++)if(this[c]===a)return c;return-1},iterator:function(a,b,c,d){var e=[],f,g,h,i,n,l=this.context,m,t,p=this.selector;"string"===typeof a&&(d=c,c=b,b=a,a=!1);g=0;for(h=l.length;g<h;g++){var o=new r(l[g]);if("table"===b)f=c.call(o,l[g],g),f!==k&&e.push(f);else if("columns"===b||"rows"===b)f=c.call(o,l[g],this[g],g),f!==k&&e.push(f);else if("column"===b||"column-rows"===
b||"row"===b||"cell"===b){t=this[g];"column-rows"===b&&(m=Ba(l[g],p.opts));i=0;for(n=t.length;i<n;i++)f=t[i],f="cell"===b?c.call(o,l[g],f.row,f.column,g,i):c.call(o,l[g],f,g,i,m),f!==k&&e.push(f)}}return e.length||d?(a=new r(l,a?e.concat.apply([],e):e),b=a.selector,b.rows=p.rows,b.cols=p.cols,b.opts=p.opts,a):this},lastIndexOf:w.lastIndexOf||function(a,b){return this.indexOf.apply(this.toArray.reverse(),arguments)},length:0,map:function(a){var b=[];if(w.map)b=w.map.call(this,a,this);else for(var c=
0,d=this.length;c<d;c++)b.push(a.call(this,this[c],c));return new r(this.context,b)},pluck:function(a){return this.map(function(b){return b[a]})},pop:w.pop,push:w.push,reduce:w.reduce||function(a,b){return hb(this,a,b,0,this.length,1)},reduceRight:w.reduceRight||function(a,b){return hb(this,a,b,this.length-1,-1,-1)},reverse:w.reverse,selector:null,shift:w.shift,sort:w.sort,splice:w.splice,toArray:function(){return w.slice.call(this)},to$:function(){return h(this)},toJQuery:function(){return h(this)},
unique:function(){return new r(this.context,pa(this))},unshift:w.unshift});r.extend=function(a,b,c){if(c.length&&b&&(b instanceof r||b.__dt_wrapper)){var d,e,f,g=function(a,b,c){return function(){var d=b.apply(a,arguments);r.extend(d,d,c.methodExt);return d}};d=0;for(e=c.length;d<e;d++)f=c[d],b[f.name]="function"===typeof f.val?g(a,f.val,f):h.isPlainObject(f.val)?{}:f.val,b[f.name].__dt_wrapper=!0,r.extend(a,b[f.name],f.propExt)}};r.register=p=function(a,b){if(h.isArray(a))for(var c=0,d=a.length;c<
d;c++)r.register(a[c],b);else for(var e=a.split("."),f=Tb,g,j,c=0,d=e.length;c<d;c++){g=(j=-1!==e[c].indexOf("()"))?e[c].replace("()",""):e[c];var i;a:{i=0;for(var n=f.length;i<n;i++)if(f[i].name===g){i=f[i];break a}i=null}i||(i={name:g,val:{},methodExt:[],propExt:[]},f.push(i));c===d-1?i.val=b:f=j?i.methodExt:i.propExt}};r.registerPlural=s=function(a,b,c){r.register(a,c);r.register(b,function(){var a=c.apply(this,arguments);return a===this?this:a instanceof r?a.length?h.isArray(a[0])?new r(a.context,
a[0]):a[0]:k:a})};p("tables()",function(a){var b;if(a){b=r;var c=this.context;if("number"===typeof a)a=[c[a]];else var d=h.map(c,function(a){return a.nTable}),a=h(d).filter(a).map(function(){var a=h.inArray(this,d);return c[a]}).toArray();b=new b(a)}else b=this;return b});p("table()",function(a){var a=this.tables(a),b=a.context;return b.length?new r(b[0]):a});s("tables().nodes()","table().node()",function(){return this.iterator("table",function(a){return a.nTable},1)});s("tables().body()","table().body()",
function(){return this.iterator("table",function(a){return a.nTBody},1)});s("tables().header()","table().header()",function(){return this.iterator("table",function(a){return a.nTHead},1)});s("tables().footer()","table().footer()",function(){return this.iterator("table",function(a){return a.nTFoot},1)});s("tables().containers()","table().container()",function(){return this.iterator("table",function(a){return a.nTableWrapper},1)});p("draw()",function(a){return this.iterator("table",function(b){"page"===
a?O(b):("string"===typeof a&&(a="full-hold"===a?!1:!0),T(b,!1===a))})});p("page()",function(a){return a===k?this.page.info().page:this.iterator("table",function(b){Ta(b,a)})});p("page.info()",function(){if(0===this.context.length)return k;var a=this.context[0],b=a._iDisplayStart,c=a.oFeatures.bPaginate?a._iDisplayLength:-1,d=a.fnRecordsDisplay(),e=-1===c;return{page:e?0:Math.floor(b/c),pages:e?1:Math.ceil(d/c),start:b,end:a.fnDisplayEnd(),length:c,recordsTotal:a.fnRecordsTotal(),recordsDisplay:d,
serverSide:"ssp"===y(a)}});p("page.len()",function(a){return a===k?0!==this.context.length?this.context[0]._iDisplayLength:k:this.iterator("table",function(b){Ra(b,a)})});var Ub=function(a,b,c){if(c){var d=new r(a);d.one("draw",function(){c(d.ajax.json())})}if("ssp"==y(a))T(a,b);else{C(a,!0);var e=a.jqXHR;e&&4!==e.readyState&&e.abort();ra(a,[],function(c){na(a);for(var c=sa(a,c),d=0,e=c.length;d<e;d++)N(a,c[d]);T(a,b);C(a,!1)})}};p("ajax.json()",function(){var a=this.context;if(0<a.length)return a[0].json});
p("ajax.params()",function(){var a=this.context;if(0<a.length)return a[0].oAjaxData});p("ajax.reload()",function(a,b){return this.iterator("table",function(c){Ub(c,!1===b,a)})});p("ajax.url()",function(a){var b=this.context;if(a===k){if(0===b.length)return k;b=b[0];return b.ajax?h.isPlainObject(b.ajax)?b.ajax.url:b.ajax:b.sAjaxSource}return this.iterator("table",function(b){h.isPlainObject(b.ajax)?b.ajax.url=a:b.ajax=a})});p("ajax.url().load()",function(a,b){return this.iterator("table",function(c){Ub(c,
!1===b,a)})});var $a=function(a,b,c,d,e){var f=[],g,j,i,n,l,m;i=typeof b;if(!b||"string"===i||"function"===i||b.length===k)b=[b];i=0;for(n=b.length;i<n;i++){j=b[i]&&b[i].split?b[i].split(","):[b[i]];l=0;for(m=j.length;l<m;l++)(g=c("string"===typeof j[l]?h.trim(j[l]):j[l]))&&g.length&&(f=f.concat(g))}a=v.selector[a];if(a.length){i=0;for(n=a.length;i<n;i++)f=a[i](d,e,f)}return pa(f)},ab=function(a){a||(a={});a.filter&&a.search===k&&(a.search=a.filter);return h.extend({search:"none",order:"current",
page:"all"},a)},bb=function(a){for(var b=0,c=a.length;b<c;b++)if(0<a[b].length)return a[0]=a[b],a[0].length=1,a.length=1,a.context=[a.context[b]],a;a.length=0;return a},Ba=function(a,b){var c,d,e,f=[],g=a.aiDisplay;c=a.aiDisplayMaster;var j=b.search;d=b.order;e=b.page;if("ssp"==y(a))return"removed"===j?[]:W(0,c.length);if("current"==e){c=a._iDisplayStart;for(d=a.fnDisplayEnd();c<d;c++)f.push(g[c])}else if("current"==d||"applied"==d)f="none"==j?c.slice():"applied"==j?g.slice():h.map(c,function(a){return-1===
h.inArray(a,g)?a:null});else if("index"==d||"original"==d){c=0;for(d=a.aoData.length;c<d;c++)"none"==j?f.push(c):(e=h.inArray(c,g),(-1===e&&"removed"==j||0<=e&&"applied"==j)&&f.push(c))}return f};p("rows()",function(a,b){a===k?a="":h.isPlainObject(a)&&(b=a,a="");var b=ab(b),c=this.iterator("table",function(c){var e=b;return $a("row",a,function(a){var b=Pb(a);if(b!==null&&!e)return[b];var j=Ba(c,e);if(b!==null&&h.inArray(b,j)!==-1)return[b];if(!a)return j;if(typeof a==="function")return h.map(j,function(b){var e=
c.aoData[b];return a(b,e._aData,e.nTr)?b:null});b=Sb(ha(c.aoData,j,"nTr"));if(a.nodeName){if(a._DT_RowIndex!==k)return[a._DT_RowIndex];if(a._DT_CellIndex)return[a._DT_CellIndex.row];b=h(a).closest("*[data-dt-row]");return b.length?[b.data("dt-row")]:[]}if(typeof a==="string"&&a.charAt(0)==="#"){j=c.aIds[a.replace(/^#/,"")];if(j!==k)return[j.idx]}return h(b).filter(a).map(function(){return this._DT_RowIndex}).toArray()},c,e)},1);c.selector.rows=a;c.selector.opts=b;return c});p("rows().nodes()",function(){return this.iterator("row",
function(a,b){return a.aoData[b].nTr||k},1)});p("rows().data()",function(){return this.iterator(!0,"rows",function(a,b){return ha(a.aoData,b,"_aData")},1)});s("rows().cache()","row().cache()",function(a){return this.iterator("row",function(b,c){var d=b.aoData[c];return"search"===a?d._aFilterData:d._aSortData},1)});s("rows().invalidate()","row().invalidate()",function(a){return this.iterator("row",function(b,c){ca(b,c,a)})});s("rows().indexes()","row().index()",function(){return this.iterator("row",
function(a,b){return b},1)});s("rows().ids()","row().id()",function(a){for(var b=[],c=this.context,d=0,e=c.length;d<e;d++)for(var f=0,g=this[d].length;f<g;f++){var h=c[d].rowIdFn(c[d].aoData[this[d][f]]._aData);b.push((!0===a?"#":"")+h)}return new r(c,b)});s("rows().remove()","row().remove()",function(){var a=this;this.iterator("row",function(b,c,d){var e=b.aoData,f=e[c],g,h,i,n,l;e.splice(c,1);g=0;for(h=e.length;g<h;g++)if(i=e[g],l=i.anCells,null!==i.nTr&&(i.nTr._DT_RowIndex=g),null!==l){i=0;for(n=
l.length;i<n;i++)l[i]._DT_CellIndex.row=g}oa(b.aiDisplayMaster,c);oa(b.aiDisplay,c);oa(a[d],c,!1);Sa(b);c=b.rowIdFn(f._aData);c!==k&&delete b.aIds[c]});this.iterator("table",function(a){for(var c=0,d=a.aoData.length;c<d;c++)a.aoData[c].idx=c});return this});p("rows.add()",function(a){var b=this.iterator("table",function(b){var c,f,g,h=[];f=0;for(g=a.length;f<g;f++)c=a[f],c.nodeName&&"TR"===c.nodeName.toUpperCase()?h.push(ma(b,c)[0]):h.push(N(b,c));return h},1),c=this.rows(-1);c.pop();h.merge(c,b);
return c});p("row()",function(a,b){return bb(this.rows(a,b))});p("row().data()",function(a){var b=this.context;if(a===k)return b.length&&this.length?b[0].aoData[this[0]]._aData:k;b[0].aoData[this[0]]._aData=a;ca(b[0],this[0],"data");return this});p("row().node()",function(){var a=this.context;return a.length&&this.length?a[0].aoData[this[0]].nTr||null:null});p("row.add()",function(a){a instanceof h&&a.length&&(a=a[0]);var b=this.iterator("table",function(b){return a.nodeName&&"TR"===a.nodeName.toUpperCase()?
ma(b,a)[0]:N(b,a)});return this.row(b[0])});var cb=function(a,b){var c=a.context;if(c.length&&(c=c[0].aoData[b!==k?b:a[0]])&&c._details)c._details.remove(),c._detailsShow=k,c._details=k},Vb=function(a,b){var c=a.context;if(c.length&&a.length){var d=c[0].aoData[a[0]];if(d._details){(d._detailsShow=b)?d._details.insertAfter(d.nTr):d._details.detach();var e=c[0],f=new r(e),g=e.aoData;f.off("draw.dt.DT_details column-visibility.dt.DT_details destroy.dt.DT_details");0<G(g,"_details").length&&(f.on("draw.dt.DT_details",
function(a,b){e===b&&f.rows({page:"current"}).eq(0).each(function(a){a=g[a];a._detailsShow&&a._details.insertAfter(a.nTr)})}),f.on("column-visibility.dt.DT_details",function(a,b){if(e===b)for(var c,d=aa(b),f=0,h=g.length;f<h;f++)c=g[f],c._details&&c._details.children("td[colspan]").attr("colspan",d)}),f.on("destroy.dt.DT_details",function(a,b){if(e===b)for(var c=0,d=g.length;c<d;c++)g[c]._details&&cb(f,c)}))}}};p("row().child()",function(a,b){var c=this.context;if(a===k)return c.length&&this.length?
c[0].aoData[this[0]]._details:k;if(!0===a)this.child.show();else if(!1===a)cb(this);else if(c.length&&this.length){var d=c[0],c=c[0].aoData[this[0]],e=[],f=function(a,b){if(h.isArray(a)||a instanceof h)for(var c=0,k=a.length;c<k;c++)f(a[c],b);else a.nodeName&&"tr"===a.nodeName.toLowerCase()?e.push(a):(c=h("<tr><td/></tr>").addClass(b),h("td",c).addClass(b).html(a)[0].colSpan=aa(d),e.push(c[0]))};f(a,b);c._details&&c._details.remove();c._details=h(e);c._detailsShow&&c._details.insertAfter(c.nTr)}return this});
p(["row().child.show()","row().child().show()"],function(){Vb(this,!0);return this});p(["row().child.hide()","row().child().hide()"],function(){Vb(this,!1);return this});p(["row().child.remove()","row().child().remove()"],function(){cb(this);return this});p("row().child.isShown()",function(){var a=this.context;return a.length&&this.length?a[0].aoData[this[0]]._detailsShow||!1:!1});var ec=/^(.+):(name|visIdx|visible)$/,Wb=function(a,b,c,d,e){for(var c=[],d=0,f=e.length;d<f;d++)c.push(B(a,e[d],b));
return c};p("columns()",function(a,b){a===k?a="":h.isPlainObject(a)&&(b=a,a="");var b=ab(b),c=this.iterator("table",function(c){var e=a,f=b,g=c.aoColumns,j=G(g,"sName"),i=G(g,"nTh");return $a("column",e,function(a){var b=Pb(a);if(a==="")return W(g.length);if(b!==null)return[b>=0?b:g.length+b];if(typeof a==="function"){var e=Ba(c,f);return h.map(g,function(b,f){return a(f,Wb(c,f,0,0,e),i[f])?f:null})}var k=typeof a==="string"?a.match(ec):"";if(k)switch(k[2]){case "visIdx":case "visible":b=parseInt(k[1],
10);if(b<0){var m=h.map(g,function(a,b){return a.bVisible?b:null});return[m[m.length+b]]}return[Z(c,b)];case "name":return h.map(j,function(a,b){return a===k[1]?b:null});default:return[]}if(a.nodeName&&a._DT_CellIndex)return[a._DT_CellIndex.column];b=h(i).filter(a).map(function(){return h.inArray(this,i)}).toArray();if(b.length||!a.nodeName)return b;b=h(a).closest("*[data-dt-column]");return b.length?[b.data("dt-column")]:[]},c,f)},1);c.selector.cols=a;c.selector.opts=b;return c});s("columns().header()",
"column().header()",function(){return this.iterator("column",function(a,b){return a.aoColumns[b].nTh},1)});s("columns().footer()","column().footer()",function(){return this.iterator("column",function(a,b){return a.aoColumns[b].nTf},1)});s("columns().data()","column().data()",function(){return this.iterator("column-rows",Wb,1)});s("columns().dataSrc()","column().dataSrc()",function(){return this.iterator("column",function(a,b){return a.aoColumns[b].mData},1)});s("columns().cache()","column().cache()",
function(a){return this.iterator("column-rows",function(b,c,d,e,f){return ha(b.aoData,f,"search"===a?"_aFilterData":"_aSortData",c)},1)});s("columns().nodes()","column().nodes()",function(){return this.iterator("column-rows",function(a,b,c,d,e){return ha(a.aoData,e,"anCells",b)},1)});s("columns().visible()","column().visible()",function(a,b){var c=this.iterator("column",function(b,c){if(a===k)return b.aoColumns[c].bVisible;var f=b.aoColumns,g=f[c],j=b.aoData,i,n,l;if(a!==k&&g.bVisible!==a){if(a){var m=
h.inArray(!0,G(f,"bVisible"),c+1);i=0;for(n=j.length;i<n;i++)l=j[i].nTr,f=j[i].anCells,l&&l.insertBefore(f[c],f[m]||null)}else h(G(b.aoData,"anCells",c)).detach();g.bVisible=a;ea(b,b.aoHeader);ea(b,b.aoFooter);wa(b)}});a!==k&&(this.iterator("column",function(c,e){u(c,null,"column-visibility",[c,e,a,b])}),(b===k||b)&&this.columns.adjust());return c});s("columns().indexes()","column().index()",function(a){return this.iterator("column",function(b,c){return"visible"===a?$(b,c):c},1)});p("columns.adjust()",
function(){return this.iterator("table",function(a){Y(a)},1)});p("column.index()",function(a,b){if(0!==this.context.length){var c=this.context[0];if("fromVisible"===a||"toData"===a)return Z(c,b);if("fromData"===a||"toVisible"===a)return $(c,b)}});p("column()",function(a,b){return bb(this.columns(a,b))});p("cells()",function(a,b,c){h.isPlainObject(a)&&(a.row===k?(c=a,a=null):(c=b,b=null));h.isPlainObject(b)&&(c=b,b=null);if(null===b||b===k)return this.iterator("table",function(b){var d=a,e=ab(c),f=
b.aoData,g=Ba(b,e),j=Sb(ha(f,g,"anCells")),i=h([].concat.apply([],j)),l,n=b.aoColumns.length,m,p,r,u,v,s;return $a("cell",d,function(a){var c=typeof a==="function";if(a===null||a===k||c){m=[];p=0;for(r=g.length;p<r;p++){l=g[p];for(u=0;u<n;u++){v={row:l,column:u};if(c){s=f[l];a(v,B(b,l,u),s.anCells?s.anCells[u]:null)&&m.push(v)}else m.push(v)}}return m}if(h.isPlainObject(a))return[a];c=i.filter(a).map(function(a,b){return{row:b._DT_CellIndex.row,column:b._DT_CellIndex.column}}).toArray();if(c.length||
!a.nodeName)return c;s=h(a).closest("*[data-dt-row]");return s.length?[{row:s.data("dt-row"),column:s.data("dt-column")}]:[]},b,e)});var d=this.columns(b,c),e=this.rows(a,c),f,g,j,i,n,l=this.iterator("table",function(a,b){f=[];g=0;for(j=e[b].length;g<j;g++){i=0;for(n=d[b].length;i<n;i++)f.push({row:e[b][g],column:d[b][i]})}return f},1);h.extend(l.selector,{cols:b,rows:a,opts:c});return l});s("cells().nodes()","cell().node()",function(){return this.iterator("cell",function(a,b,c){return(a=a.aoData[b])&&
a.anCells?a.anCells[c]:k},1)});p("cells().data()",function(){return this.iterator("cell",function(a,b,c){return B(a,b,c)},1)});s("cells().cache()","cell().cache()",function(a){a="search"===a?"_aFilterData":"_aSortData";return this.iterator("cell",function(b,c,d){return b.aoData[c][a][d]},1)});s("cells().render()","cell().render()",function(a){return this.iterator("cell",function(b,c,d){return B(b,c,d,a)},1)});s("cells().indexes()","cell().index()",function(){return this.iterator("cell",function(a,
b,c){return{row:b,column:c,columnVisible:$(a,c)}},1)});s("cells().invalidate()","cell().invalidate()",function(a){return this.iterator("cell",function(b,c,d){ca(b,c,a,d)})});p("cell()",function(a,b,c){return bb(this.cells(a,b,c))});p("cell().data()",function(a){var b=this.context,c=this[0];if(a===k)return b.length&&c.length?B(b[0],c[0].row,c[0].column):k;jb(b[0],c[0].row,c[0].column,a);ca(b[0],c[0].row,"data",c[0].column);return this});p("order()",function(a,b){var c=this.context;if(a===k)return 0!==
c.length?c[0].aaSorting:k;"number"===typeof a?a=[[a,b]]:a.length&&!h.isArray(a[0])&&(a=Array.prototype.slice.call(arguments));return this.iterator("table",function(b){b.aaSorting=a.slice()})});p("order.listener()",function(a,b,c){return this.iterator("table",function(d){Ma(d,a,b,c)})});p("order.fixed()",function(a){if(!a){var b=this.context,b=b.length?b[0].aaSortingFixed:k;return h.isArray(b)?{pre:b}:b}return this.iterator("table",function(b){b.aaSortingFixed=h.extend(!0,{},a)})});p(["columns().order()",
"column().order()"],function(a){var b=this;return this.iterator("table",function(c,d){var e=[];h.each(b[d],function(b,c){e.push([c,a])});c.aaSorting=e})});p("search()",function(a,b,c,d){var e=this.context;return a===k?0!==e.length?e[0].oPreviousSearch.sSearch:k:this.iterator("table",function(e){e.oFeatures.bFilter&&fa(e,h.extend({},e.oPreviousSearch,{sSearch:a+"",bRegex:null===b?!1:b,bSmart:null===c?!0:c,bCaseInsensitive:null===d?!0:d}),1)})});s("columns().search()","column().search()",function(a,
b,c,d){return this.iterator("column",function(e,f){var g=e.aoPreSearchCols;if(a===k)return g[f].sSearch;e.oFeatures.bFilter&&(h.extend(g[f],{sSearch:a+"",bRegex:null===b?!1:b,bSmart:null===c?!0:c,bCaseInsensitive:null===d?!0:d}),fa(e,e.oPreviousSearch,1))})});p("state()",function(){return this.context.length?this.context[0].oSavedState:null});p("state.clear()",function(){return this.iterator("table",function(a){a.fnStateSaveCallback.call(a.oInstance,a,{})})});p("state.loaded()",function(){return this.context.length?
this.context[0].oLoadedState:null});p("state.save()",function(){return this.iterator("table",function(a){wa(a)})});m.versionCheck=m.fnVersionCheck=function(a){for(var b=m.version.split("."),a=a.split("."),c,d,e=0,f=a.length;e<f;e++)if(c=parseInt(b[e],10)||0,d=parseInt(a[e],10)||0,c!==d)return c>d;return!0};m.isDataTable=m.fnIsDataTable=function(a){var b=h(a).get(0),c=!1;h.each(m.settings,function(a,e){var f=e.nScrollHead?h("table",e.nScrollHead)[0]:null,g=e.nScrollFoot?h("table",e.nScrollFoot)[0]:
null;if(e.nTable===b||f===b||g===b)c=!0});return c};m.tables=m.fnTables=function(a){var b=!1;h.isPlainObject(a)&&(b=a.api,a=a.visible);var c=h.map(m.settings,function(b){if(!a||a&&h(b.nTable).is(":visible"))return b.nTable});return b?new r(c):c};m.camelToHungarian=K;p("$()",function(a,b){var c=this.rows(b).nodes(),c=h(c);return h([].concat(c.filter(a).toArray(),c.find(a).toArray()))});h.each(["on","one","off"],function(a,b){p(b+"()",function(){var a=Array.prototype.slice.call(arguments);a[0].match(/\.dt\b/)||
(a[0]+=".dt");var d=h(this.tables().nodes());d[b].apply(d,a);return this})});p("clear()",function(){return this.iterator("table",function(a){na(a)})});p("settings()",function(){return new r(this.context,this.context)});p("init()",function(){var a=this.context;return a.length?a[0].oInit:null});p("data()",function(){return this.iterator("table",function(a){return G(a.aoData,"_aData")}).flatten()});p("destroy()",function(a){a=a||!1;return this.iterator("table",function(b){var c=b.nTableWrapper.parentNode,
d=b.oClasses,e=b.nTable,f=b.nTBody,g=b.nTHead,j=b.nTFoot,i=h(e),f=h(f),k=h(b.nTableWrapper),l=h.map(b.aoData,function(a){return a.nTr}),p;b.bDestroying=!0;u(b,"aoDestroyCallback","destroy",[b]);a||(new r(b)).columns().visible(!0);k.unbind(".DT").find(":not(tbody *)").unbind(".DT");h(D).unbind(".DT-"+b.sInstance);e!=g.parentNode&&(i.children("thead").detach(),i.append(g));j&&e!=j.parentNode&&(i.children("tfoot").detach(),i.append(j));b.aaSorting=[];b.aaSortingFixed=[];va(b);h(l).removeClass(b.asStripeClasses.join(" "));
h("th, td",g).removeClass(d.sSortable+" "+d.sSortableAsc+" "+d.sSortableDesc+" "+d.sSortableNone);b.bJUI&&(h("th span."+d.sSortIcon+", td span."+d.sSortIcon,g).detach(),h("th, td",g).each(function(){var a=h("div."+d.sSortJUIWrapper,this);h(this).append(a.contents());a.detach()}));f.children().detach();f.append(l);g=a?"remove":"detach";i[g]();k[g]();!a&&c&&(c.insertBefore(e,b.nTableReinsertBefore),i.css("width",b.sDestroyWidth).removeClass(d.sTable),(p=b.asDestroyStripes.length)&&f.children().each(function(a){h(this).addClass(b.asDestroyStripes[a%
p])}));c=h.inArray(b,m.settings);-1!==c&&m.settings.splice(c,1)})});h.each(["column","row","cell"],function(a,b){p(b+"s().every()",function(a){var d=this.selector.opts,e=this;return this.iterator(b,function(f,g,h,i,n){a.call(e[b](g,"cell"===b?h:d,"cell"===b?d:k),g,h,i,n)})})});p("i18n()",function(a,b,c){var d=this.context[0],a=Q(a)(d.oLanguage);a===k&&(a=b);c!==k&&h.isPlainObject(a)&&(a=a[c]!==k?a[c]:a._);return a.replace("%d",c)});m.version="1.10.12";m.settings=[];m.models={};m.models.oSearch={bCaseInsensitive:!0,
sSearch:"",bRegex:!1,bSmart:!0};m.models.oRow={nTr:null,anCells:null,_aData:[],_aSortData:null,_aFilterData:null,_sFilterRow:null,_sRowStripe:"",src:null,idx:-1};m.models.oColumn={idx:null,aDataSort:null,asSorting:null,bSearchable:null,bSortable:null,bVisible:null,_sManualType:null,_bAttrSrc:!1,fnCreatedCell:null,fnGetData:null,fnSetData:null,mData:null,mRender:null,nTh:null,nTf:null,sClass:null,sContentPadding:null,sDefaultContent:null,sName:null,sSortDataType:"std",sSortingClass:null,sSortingClassJUI:null,
sTitle:null,sType:null,sWidth:null,sWidthOrig:null};m.defaults={aaData:null,aaSorting:[[0,"asc"]],aaSortingFixed:[],ajax:null,aLengthMenu:[10,25,50,100],aoColumns:null,aoColumnDefs:null,aoSearchCols:[],asStripeClasses:null,bAutoWidth:!0,bDeferRender:!1,bDestroy:!1,bFilter:!0,bInfo:!0,bJQueryUI:!1,bLengthChange:!0,bPaginate:!0,bProcessing:!1,bRetrieve:!1,bScrollCollapse:!1,bServerSide:!1,bSort:!0,bSortMulti:!0,bSortCellsTop:!1,bSortClasses:!0,bStateSave:!1,fnCreatedRow:null,fnDrawCallback:null,fnFooterCallback:null,
fnFormatNumber:function(a){return a.toString().replace(/\B(?=(\d{3})+(?!\d))/g,this.oLanguage.sThousands)},fnHeaderCallback:null,fnInfoCallback:null,fnInitComplete:null,fnPreDrawCallback:null,fnRowCallback:null,fnServerData:null,fnServerParams:null,fnStateLoadCallback:function(a){try{return JSON.parse((-1===a.iStateDuration?sessionStorage:localStorage).getItem("DataTables_"+a.sInstance+"_"+location.pathname))}catch(b){}},fnStateLoadParams:null,fnStateLoaded:null,fnStateSaveCallback:function(a,b){try{(-1===
a.iStateDuration?sessionStorage:localStorage).setItem("DataTables_"+a.sInstance+"_"+location.pathname,JSON.stringify(b))}catch(c){}},fnStateSaveParams:null,iStateDuration:7200,iDeferLoading:null,iDisplayLength:10,iDisplayStart:0,iTabIndex:0,oClasses:{},oLanguage:{oAria:{sSortAscending:": activate to sort column ascending",sSortDescending:": activate to sort column descending"},oPaginate:{sFirst:"First",sLast:"Last",sNext:"Next",sPrevious:"Previous"},sEmptyTable:"No data available in table",sInfo:"Showing _START_ to _END_ of _TOTAL_ entries",
sInfoEmpty:"Showing 0 to 0 of 0 entries",sInfoFiltered:"(filtered from _MAX_ total entries)",sInfoPostFix:"",sDecimal:"",sThousands:",",sLengthMenu:"Show _MENU_ entries",sLoadingRecords:"Loading...",sProcessing:"Processing...",sSearch:"Search:",sSearchPlaceholder:"",sUrl:"",sZeroRecords:"No matching records found"},oSearch:h.extend({},m.models.oSearch),sAjaxDataProp:"data",sAjaxSource:null,sDom:"lfrtip",searchDelay:null,sPaginationType:"simple_numbers",sScrollX:"",sScrollXInner:"",sScrollY:"",sServerMethod:"GET",
renderer:null,rowId:"DT_RowId"};X(m.defaults);m.defaults.column={aDataSort:null,iDataSort:-1,asSorting:["asc","desc"],bSearchable:!0,bSortable:!0,bVisible:!0,fnCreatedCell:null,mData:null,mRender:null,sCellType:"td",sClass:"",sContentPadding:"",sDefaultContent:null,sName:"",sSortDataType:"std",sTitle:null,sType:null,sWidth:null};X(m.defaults.column);m.models.oSettings={oFeatures:{bAutoWidth:null,bDeferRender:null,bFilter:null,bInfo:null,bLengthChange:null,bPaginate:null,bProcessing:null,bServerSide:null,
bSort:null,bSortMulti:null,bSortClasses:null,bStateSave:null},oScroll:{bCollapse:null,iBarWidth:0,sX:null,sXInner:null,sY:null},oLanguage:{fnInfoCallback:null},oBrowser:{bScrollOversize:!1,bScrollbarLeft:!1,bBounding:!1,barWidth:0},ajax:null,aanFeatures:[],aoData:[],aiDisplay:[],aiDisplayMaster:[],aIds:{},aoColumns:[],aoHeader:[],aoFooter:[],oPreviousSearch:{},aoPreSearchCols:[],aaSorting:null,aaSortingFixed:[],asStripeClasses:null,asDestroyStripes:[],sDestroyWidth:0,aoRowCallback:[],aoHeaderCallback:[],
aoFooterCallback:[],aoDrawCallback:[],aoRowCreatedCallback:[],aoPreDrawCallback:[],aoInitComplete:[],aoStateSaveParams:[],aoStateLoadParams:[],aoStateLoaded:[],sTableId:"",nTable:null,nTHead:null,nTFoot:null,nTBody:null,nTableWrapper:null,bDeferLoading:!1,bInitialised:!1,aoOpenRows:[],sDom:null,searchDelay:null,sPaginationType:"two_button",iStateDuration:0,aoStateSave:[],aoStateLoad:[],oSavedState:null,oLoadedState:null,sAjaxSource:null,sAjaxDataProp:null,bAjaxDataGet:!0,jqXHR:null,json:k,oAjaxData:k,
fnServerData:null,aoServerParams:[],sServerMethod:null,fnFormatNumber:null,aLengthMenu:null,iDraw:0,bDrawing:!1,iDrawError:-1,_iDisplayLength:10,_iDisplayStart:0,_iRecordsTotal:0,_iRecordsDisplay:0,bJUI:null,oClasses:{},bFiltered:!1,bSorted:!1,bSortCellsTop:null,oInit:null,aoDestroyCallback:[],fnRecordsTotal:function(){return"ssp"==y(this)?1*this._iRecordsTotal:this.aiDisplayMaster.length},fnRecordsDisplay:function(){return"ssp"==y(this)?1*this._iRecordsDisplay:this.aiDisplay.length},fnDisplayEnd:function(){var a=
this._iDisplayLength,b=this._iDisplayStart,c=b+a,d=this.aiDisplay.length,e=this.oFeatures,f=e.bPaginate;return e.bServerSide?!1===f||-1===a?b+d:Math.min(b+a,this._iRecordsDisplay):!f||c>d||-1===a?d:c},oInstance:null,sInstance:null,iTabIndex:0,nScrollHead:null,nScrollFoot:null,aLastSort:[],oPlugins:{},rowIdFn:null,rowId:null};m.ext=v={buttons:{},classes:{},builder:"-source-",errMode:"alert",feature:[],search:[],selector:{cell:[],column:[],row:[]},internal:{},legacy:{ajax:null},pager:{},renderer:{pageButton:{},
header:{}},order:{},type:{detect:[],search:{},order:{}},_unique:0,fnVersionCheck:m.fnVersionCheck,iApiIndex:0,oJUIClasses:{},sVersion:m.version};h.extend(v,{afnFiltering:v.search,aTypes:v.type.detect,ofnSearch:v.type.search,oSort:v.type.order,afnSortData:v.order,aoFeatures:v.feature,oApi:v.internal,oStdClasses:v.classes,oPagination:v.pager});h.extend(m.ext.classes,{sTable:"dataTable",sNoFooter:"no-footer",sPageButton:"paginate_button",sPageButtonActive:"current",sPageButtonDisabled:"disabled",sStripeOdd:"odd",
sStripeEven:"even",sRowEmpty:"dataTables_empty",sWrapper:"dataTables_wrapper",sFilter:"dataTables_filter",sInfo:"dataTables_info",sPaging:"dataTables_paginate paging_",sLength:"dataTables_length",sProcessing:"dataTables_processing",sSortAsc:"sorting_asc",sSortDesc:"sorting_desc",sSortable:"sorting",sSortableAsc:"sorting_asc_disabled",sSortableDesc:"sorting_desc_disabled",sSortableNone:"sorting_disabled",sSortColumn:"sorting_",sFilterInput:"",sLengthSelect:"",sScrollWrapper:"dataTables_scroll",sScrollHead:"dataTables_scrollHead",
sScrollHeadInner:"dataTables_scrollHeadInner",sScrollBody:"dataTables_scrollBody",sScrollFoot:"dataTables_scrollFoot",sScrollFootInner:"dataTables_scrollFootInner",sHeaderTH:"",sFooterTH:"",sSortJUIAsc:"",sSortJUIDesc:"",sSortJUI:"",sSortJUIAscAllowed:"",sSortJUIDescAllowed:"",sSortJUIWrapper:"",sSortIcon:"",sJUIHeader:"",sJUIFooter:""});var Ca="",Ca="",H=Ca+"ui-state-default",ia=Ca+"css_right ui-icon ui-icon-",Xb=Ca+"fg-toolbar ui-toolbar ui-widget-header ui-helper-clearfix";h.extend(m.ext.oJUIClasses,
m.ext.classes,{sPageButton:"fg-button ui-button "+H,sPageButtonActive:"ui-state-disabled",sPageButtonDisabled:"ui-state-disabled",sPaging:"dataTables_paginate fg-buttonset ui-buttonset fg-buttonset-multi ui-buttonset-multi paging_",sSortAsc:H+" sorting_asc",sSortDesc:H+" sorting_desc",sSortable:H+" sorting",sSortableAsc:H+" sorting_asc_disabled",sSortableDesc:H+" sorting_desc_disabled",sSortableNone:H+" sorting_disabled",sSortJUIAsc:ia+"triangle-1-n",sSortJUIDesc:ia+"triangle-1-s",sSortJUI:ia+"carat-2-n-s",
sSortJUIAscAllowed:ia+"carat-1-n",sSortJUIDescAllowed:ia+"carat-1-s",sSortJUIWrapper:"DataTables_sort_wrapper",sSortIcon:"DataTables_sort_icon",sScrollHead:"dataTables_scrollHead "+H,sScrollFoot:"dataTables_scrollFoot "+H,sHeaderTH:H,sFooterTH:H,sJUIHeader:Xb+" ui-corner-tl ui-corner-tr",sJUIFooter:Xb+" ui-corner-bl ui-corner-br"});var Mb=m.ext.pager;h.extend(Mb,{simple:function(){return["previous","next"]},full:function(){return["first","previous","next","last"]},numbers:function(a,b){return[ya(a,
b)]},simple_numbers:function(a,b){return["previous",ya(a,b),"next"]},full_numbers:function(a,b){return["first","previous",ya(a,b),"next","last"]},_numbers:ya,numbers_length:7});h.extend(!0,m.ext.renderer,{pageButton:{_:function(a,b,c,d,e,f){var g=a.oClasses,j=a.oLanguage.oPaginate,i=a.oLanguage.oAria.paginate||{},k,l,m=0,p=function(b,d){var o,r,u,s,v=function(b){Ta(a,b.data.action,true)};o=0;for(r=d.length;o<r;o++){s=d[o];if(h.isArray(s)){u=h("<"+(s.DT_el||"div")+"/>").appendTo(b);p(u,s)}else{k=null;
l="";switch(s){case "ellipsis":b.append('<span class="ellipsis">&#x2026;</span>');break;case "first":k=j.sFirst;l=s+(e>0?"":" "+g.sPageButtonDisabled);break;case "previous":k=j.sPrevious;l=s+(e>0?"":" "+g.sPageButtonDisabled);break;case "next":k=j.sNext;l=s+(e<f-1?"":" "+g.sPageButtonDisabled);break;case "last":k=j.sLast;l=s+(e<f-1?"":" "+g.sPageButtonDisabled);break;default:k=s+1;l=e===s?g.sPageButtonActive:""}if(k!==null){u=h("<a>",{"class":g.sPageButton+" "+l,"aria-controls":a.sTableId,"aria-label":i[s],
"data-dt-idx":m,tabindex:a.iTabIndex,id:c===0&&typeof s==="string"?a.sTableId+"_"+s:null}).html(k).appendTo(b);Wa(u,{action:s},v);m++}}}},r;try{r=h(b).find(I.activeElement).data("dt-idx")}catch(o){}p(h(b).empty(),d);r&&h(b).find("[data-dt-idx="+r+"]").focus()}}});h.extend(m.ext.type.detect,[function(a,b){var c=b.oLanguage.sDecimal;return Za(a,c)?"num"+c:null},function(a){if(a&&!(a instanceof Date)&&(!ac.test(a)||!bc.test(a)))return null;var b=Date.parse(a);return null!==b&&!isNaN(b)||M(a)?"date":
null},function(a,b){var c=b.oLanguage.sDecimal;return Za(a,c,!0)?"num-fmt"+c:null},function(a,b){var c=b.oLanguage.sDecimal;return Rb(a,c)?"html-num"+c:null},function(a,b){var c=b.oLanguage.sDecimal;return Rb(a,c,!0)?"html-num-fmt"+c:null},function(a){return M(a)||"string"===typeof a&&-1!==a.indexOf("<")?"html":null}]);h.extend(m.ext.type.search,{html:function(a){return M(a)?a:"string"===typeof a?a.replace(Ob," ").replace(Aa,""):""},string:function(a){return M(a)?a:"string"===typeof a?a.replace(Ob,
" "):a}});var za=function(a,b,c,d){if(0!==a&&(!a||"-"===a))return-Infinity;b&&(a=Qb(a,b));a.replace&&(c&&(a=a.replace(c,"")),d&&(a=a.replace(d,"")));return 1*a};h.extend(v.type.order,{"date-pre":function(a){return Date.parse(a)||0},"html-pre":function(a){return M(a)?"":a.replace?a.replace(/<.*?>/g,"").toLowerCase():a+""},"string-pre":function(a){return M(a)?"":"string"===typeof a?a.toLowerCase():!a.toString?"":a.toString()},"string-asc":function(a,b){return a<b?-1:a>b?1:0},"string-desc":function(a,
b){return a<b?1:a>b?-1:0}});db("");h.extend(!0,m.ext.renderer,{header:{_:function(a,b,c,d){h(a.nTable).on("order.dt.DT",function(e,f,g,h){if(a===f){e=c.idx;b.removeClass(c.sSortingClass+" "+d.sSortAsc+" "+d.sSortDesc).addClass(h[e]=="asc"?d.sSortAsc:h[e]=="desc"?d.sSortDesc:c.sSortingClass)}})},jqueryui:function(a,b,c,d){h("<div/>").addClass(d.sSortJUIWrapper).append(b.contents()).append(h("<span/>").addClass(d.sSortIcon+" "+c.sSortingClassJUI)).appendTo(b);h(a.nTable).on("order.dt.DT",function(e,
f,g,h){if(a===f){e=c.idx;b.removeClass(d.sSortAsc+" "+d.sSortDesc).addClass(h[e]=="asc"?d.sSortAsc:h[e]=="desc"?d.sSortDesc:c.sSortingClass);b.find("span."+d.sSortIcon).removeClass(d.sSortJUIAsc+" "+d.sSortJUIDesc+" "+d.sSortJUI+" "+d.sSortJUIAscAllowed+" "+d.sSortJUIDescAllowed).addClass(h[e]=="asc"?d.sSortJUIAsc:h[e]=="desc"?d.sSortJUIDesc:c.sSortingClassJUI)}})}}});var Yb=function(a){return"string"===typeof a?a.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"):a};m.render={number:function(a,
b,c,d,e){return{display:function(f){if("number"!==typeof f&&"string"!==typeof f)return f;var g=0>f?"-":"",h=parseFloat(f);if(isNaN(h))return Yb(f);f=Math.abs(h);h=parseInt(f,10);f=c?b+(f-h).toFixed(c).substring(2):"";return g+(d||"")+h.toString().replace(/\B(?=(\d{3})+(?!\d))/g,a)+f+(e||"")}}},text:function(){return{display:Yb}}};h.extend(m.ext.internal,{_fnExternApiFunc:Nb,_fnBuildAjax:ra,_fnAjaxUpdate:lb,_fnAjaxParameters:ub,_fnAjaxUpdateDraw:vb,_fnAjaxDataSrc:sa,_fnAddColumn:Ea,_fnColumnOptions:ja,
_fnAdjustColumnSizing:Y,_fnVisibleToColumnIndex:Z,_fnColumnIndexToVisible:$,_fnVisbleColumns:aa,_fnGetColumns:la,_fnColumnTypes:Ga,_fnApplyColumnDefs:ib,_fnHungarianMap:X,_fnCamelToHungarian:K,_fnLanguageCompat:Da,_fnBrowserDetect:gb,_fnAddData:N,_fnAddTr:ma,_fnNodeToDataIndex:function(a,b){return b._DT_RowIndex!==k?b._DT_RowIndex:null},_fnNodeToColumnIndex:function(a,b,c){return h.inArray(c,a.aoData[b].anCells)},_fnGetCellData:B,_fnSetCellData:jb,_fnSplitObjNotation:Ja,_fnGetObjectDataFn:Q,_fnSetObjectDataFn:R,
_fnGetDataMaster:Ka,_fnClearTable:na,_fnDeleteIndex:oa,_fnInvalidate:ca,_fnGetRowElements:Ia,_fnCreateTr:Ha,_fnBuildHead:kb,_fnDrawHead:ea,_fnDraw:O,_fnReDraw:T,_fnAddOptionsHtml:nb,_fnDetectHeader:da,_fnGetUniqueThs:qa,_fnFeatureHtmlFilter:pb,_fnFilterComplete:fa,_fnFilterCustom:yb,_fnFilterColumn:xb,_fnFilter:wb,_fnFilterCreateSearch:Pa,_fnEscapeRegex:Qa,_fnFilterData:zb,_fnFeatureHtmlInfo:sb,_fnUpdateInfo:Cb,_fnInfoMacros:Db,_fnInitialise:ga,_fnInitComplete:ta,_fnLengthChange:Ra,_fnFeatureHtmlLength:ob,
_fnFeatureHtmlPaginate:tb,_fnPageChange:Ta,_fnFeatureHtmlProcessing:qb,_fnProcessingDisplay:C,_fnFeatureHtmlTable:rb,_fnScrollDraw:ka,_fnApplyToChildren:J,_fnCalculateColumnWidths:Fa,_fnThrottle:Oa,_fnConvertToWidth:Fb,_fnGetWidestNode:Gb,_fnGetMaxLenString:Hb,_fnStringToCss:x,_fnSortFlatten:V,_fnSort:mb,_fnSortAria:Jb,_fnSortListener:Va,_fnSortAttachListener:Ma,_fnSortingClasses:va,_fnSortData:Ib,_fnSaveState:wa,_fnLoadState:Kb,_fnSettingsFromNode:xa,_fnLog:L,_fnMap:E,_fnBindAction:Wa,_fnCallbackReg:z,
_fnCallbackFire:u,_fnLengthOverflow:Sa,_fnRenderer:Na,_fnDataSource:y,_fnRowAttributes:La,_fnCalculateEnd:function(){}});h.fn.dataTable=m;m.$=h;h.fn.dataTableSettings=m.settings;h.fn.dataTableExt=m.ext;h.fn.DataTable=function(a){return h(this).dataTable(a).api()};h.each(m,function(a,b){h.fn.DataTable[a]=b});return h.fn.dataTable});
/*!
 Responsive 2.0.2
 2014-2016 SpryMedia Ltd - datatables.net/license
*/
(function(c){"function"===typeof define&&define.amd?define(["jquery","datatables.net"],function(j){return c(j,window,document)}):"object"===typeof exports?module.exports=function(j,k){j||(j=window);if(!k||!k.fn.dataTable)k=require("datatables.net")(j,k).$;return c(k,j,j.document)}:c(jQuery,window,document)})(function(c,j,k,p){var n=c.fn.dataTable,l=function(a,b){if(!n.versionCheck||!n.versionCheck("1.10.3"))throw"DataTables Responsive requires DataTables 1.10.3 or newer";this.s={dt:new n.Api(a),columns:[],
current:[]};this.s.dt.settings()[0].responsive||(b&&"string"===typeof b.details?b.details={type:b.details}:b&&!1===b.details?b.details={type:!1}:b&&!0===b.details&&(b.details={type:"inline"}),this.c=c.extend(!0,{},l.defaults,n.defaults.responsive,b),a.responsive=this,this._constructor())};c.extend(l.prototype,{_constructor:function(){var a=this,b=this.s.dt,d=b.settings()[0],e=c(j).width();b.settings()[0]._responsive=this;c(j).on("resize.dtr orientationchange.dtr",n.util.throttle(function(){var b=
c(j).width();b!==e&&(a._resize(),e=b)}));d.oApi._fnCallbackReg(d,"aoRowCreatedCallback",function(e){-1!==c.inArray(!1,a.s.current)&&c("td, th",e).each(function(e){e=b.column.index("toData",e);!1===a.s.current[e]&&c(this).css("display","none")})});b.on("destroy.dtr",function(){b.off(".dtr");c(b.table().body()).off(".dtr");c(j).off("resize.dtr orientationchange.dtr");c.each(a.s.current,function(b,e){!1===e&&a._setColumnVis(b,!0)})});this.c.breakpoints.sort(function(a,b){return a.width<b.width?1:a.width>
b.width?-1:0});this._classLogic();this._resizeAuto();d=this.c.details;!1!==d.type&&(a._detailsInit(),b.on("column-visibility.dtr",function(){a._classLogic();a._resizeAuto();a._resize()}),b.on("draw.dtr",function(){a._redrawChildren()}),c(b.table().node()).addClass("dtr-"+d.type));b.on("column-reorder.dtr",function(){a._classLogic();a._resizeAuto();a._resize()});b.on("column-sizing.dtr",function(){a._resize()});b.on("init.dtr",function(){a._resizeAuto();a._resize();c.inArray(false,a.s.current)&&b.columns.adjust()});
this._resize()},_columnsVisiblity:function(a){var b=this.s.dt,d=this.s.columns,e,f,g=d.map(function(a,b){return{columnIdx:b,priority:a.priority}}).sort(function(a,b){return a.priority!==b.priority?a.priority-b.priority:a.columnIdx-b.columnIdx}),h=c.map(d,function(b){return b.auto&&null===b.minWidth?!1:!0===b.auto?"-":-1!==c.inArray(a,b.includeIn)}),m=0;e=0;for(f=h.length;e<f;e++)!0===h[e]&&(m+=d[e].minWidth);e=b.settings()[0].oScroll;e=e.sY||e.sX?e.iBarWidth:0;b=b.table().container().offsetWidth-
e-m;e=0;for(f=h.length;e<f;e++)d[e].control&&(b-=d[e].minWidth);m=!1;e=0;for(f=g.length;e<f;e++){var i=g[e].columnIdx;"-"===h[i]&&(!d[i].control&&d[i].minWidth)&&(m||0>b-d[i].minWidth?(m=!0,h[i]=!1):h[i]=!0,b-=d[i].minWidth)}g=!1;e=0;for(f=d.length;e<f;e++)if(!d[e].control&&!d[e].never&&!h[e]){g=!0;break}e=0;for(f=d.length;e<f;e++)d[e].control&&(h[e]=g);-1===c.inArray(!0,h)&&(h[0]=!0);return h},_classLogic:function(){var a=this,b=this.c.breakpoints,d=this.s.dt,e=d.columns().eq(0).map(function(b){var a=
this.column(b),e=a.header().className,b=d.settings()[0].aoColumns[b].responsivePriority;b===p&&(a=c(a.header()).data("priority"),b=a!==p?1*a:1E4);return{className:e,includeIn:[],auto:!1,control:!1,never:e.match(/\bnever\b/)?!0:!1,priority:b}}),f=function(b,a){var d=e[b].includeIn;-1===c.inArray(a,d)&&d.push(a)},g=function(c,d,i,g){if(i)if("max-"===i){g=a._find(d).width;d=0;for(i=b.length;d<i;d++)b[d].width<=g&&f(c,b[d].name)}else if("min-"===i){g=a._find(d).width;d=0;for(i=b.length;d<i;d++)b[d].width>=
g&&f(c,b[d].name)}else{if("not-"===i){d=0;for(i=b.length;d<i;d++)-1===b[d].name.indexOf(g)&&f(c,b[d].name)}}else e[c].includeIn.push(d)};e.each(function(a,e){for(var d=a.className.split(" "),f=!1,j=0,l=d.length;j<l;j++){var k=c.trim(d[j]);if("all"===k){f=!0;a.includeIn=c.map(b,function(a){return a.name});return}if("none"===k||a.never){f=!0;return}if("control"===k){f=!0;a.control=!0;return}c.each(b,function(a,b){var d=b.name.split("-"),c=k.match(RegExp("(min\\-|max\\-|not\\-)?("+d[0]+")(\\-[_a-zA-Z0-9])?"));
c&&(f=!0,c[2]===d[0]&&c[3]==="-"+d[1]?g(e,b.name,c[1],c[2]+c[3]):c[2]===d[0]&&!c[3]&&g(e,b.name,c[1],c[2]))})}f||(a.auto=!0)});this.s.columns=e},_detailsDisplay:function(a,b){var d=this,e=this.s.dt,f=this.c.details;if(f&&f.type){var g=f.display(a,b,function(){return f.renderer(e,a[0],d._detailsObj(a[0]))});(!0===g||!1===g)&&c(e.table().node()).triggerHandler("responsive-display.dt",[e,a,g,b])}},_detailsInit:function(){var a=this,b=this.s.dt,d=this.c.details;"inline"===d.type&&(d.target="td:first-child, th:first-child");
b.on("draw.dtr",function(){a._tabIndexes()});a._tabIndexes();c(b.table().body()).on("keyup.dtr","td, th",function(a){a.keyCode===13&&c(this).data("dtr-keyboard")&&c(this).click()});var e=d.target;c(b.table().body()).on("click.dtr mousedown.dtr mouseup.dtr","string"===typeof e?e:"td, th",function(d){if(c(b.table().node()).hasClass("collapsed")&&b.row(c(this).closest("tr")).length){if(typeof e==="number"){var g=e<0?b.columns().eq(0).length+e:e;if(b.cell(this).index().column!==g)return}g=b.row(c(this).closest("tr"));
d.type==="click"?a._detailsDisplay(g,false):d.type==="mousedown"?c(this).css("outline","none"):d.type==="mouseup"&&c(this).blur().css("outline","")}})},_detailsObj:function(a){var b=this,d=this.s.dt;return c.map(this.s.columns,function(e,c){if(!e.never)return{title:d.settings()[0].aoColumns[c].sTitle,data:d.cell(a,c).render(b.c.orthogonal),hidden:d.column(c).visible()&&!b.s.current[c],columnIndex:c,rowIndex:a}})},_find:function(a){for(var b=this.c.breakpoints,d=0,c=b.length;d<c;d++)if(b[d].name===
a)return b[d]},_redrawChildren:function(){var a=this,b=this.s.dt;b.rows({page:"current"}).iterator("row",function(d,c){b.row(c);a._detailsDisplay(b.row(c),!0)})},_resize:function(){var a=this,b=this.s.dt,d=c(j).width(),e=this.c.breakpoints,f=e[0].name,g=this.s.columns,h,m=this.s.current.slice();for(h=e.length-1;0<=h;h--)if(d<=e[h].width){f=e[h].name;break}var i=this._columnsVisiblity(f);this.s.current=i;e=!1;h=0;for(d=g.length;h<d;h++)if(!1===i[h]&&!g[h].never&&!g[h].control){e=!0;break}c(b.table().node()).toggleClass("collapsed",
e);var k=!1;b.columns().eq(0).each(function(b,c){i[c]!==m[c]&&(k=!0,a._setColumnVis(b,i[c]))});k&&(this._redrawChildren(),c(b.table().node()).trigger("responsive-resize.dt",[b,this.s.current]))},_resizeAuto:function(){var a=this.s.dt,b=this.s.columns;if(this.c.auto&&-1!==c.inArray(!0,c.map(b,function(a){return a.auto}))){a.table().node();var d=a.table().node().cloneNode(!1),e=c(a.table().header().cloneNode(!1)).appendTo(d),f=c(a.table().body()).clone(!1,!1).empty().appendTo(d),g=a.columns().header().filter(function(b){return a.column(b).visible()}).to$().clone(!1).css("display",
"table-cell");c(f).append(c(a.rows({page:"current"}).nodes()).clone(!1)).find("th, td").css("display","");if(f=a.table().footer()){var f=c(f.cloneNode(!1)).appendTo(d),h=a.columns().header().filter(function(b){return a.column(b).visible()}).to$().clone(!1).css("display","table-cell");c("<tr/>").append(h).appendTo(f)}c("<tr/>").append(g).appendTo(e);"inline"===this.c.details.type&&c(d).addClass("dtr-inline collapsed");d=c("<div/>").css({width:1,height:1,overflow:"hidden"}).append(d);d.insertBefore(a.table().node());
g.each(function(c){c=a.column.index("fromVisible",c);b[c].minWidth=this.offsetWidth||0});d.remove()}},_setColumnVis:function(a,b){var d=this.s.dt,e=b?"":"none";c(d.column(a).header()).css("display",e);c(d.column(a).footer()).css("display",e);d.column(a).nodes().to$().css("display",e)},_tabIndexes:function(){var a=this.s.dt,b=a.cells({page:"current"}).nodes().to$(),d=a.settings()[0],e=this.c.details.target;b.filter("[data-dtr-keyboard]").removeData("[data-dtr-keyboard]");c("number"===typeof e?":eq("+
e+")":e,a.rows({page:"current"}).nodes()).attr("tabIndex",d.iTabIndex).data("dtr-keyboard",1)}});l.breakpoints=[{name:"desktop",width:Infinity},{name:"tablet-l",width:1024},{name:"tablet-p",width:768},{name:"mobile-l",width:480},{name:"mobile-p",width:320}];l.display={childRow:function(a,b,d){if(b){if(c(a.node()).hasClass("parent"))return a.child(d(),"child").show(),!0}else{if(a.child.isShown())return a.child(!1),c(a.node()).removeClass("parent"),!1;a.child(d(),"child").show();c(a.node()).addClass("parent");
return!0}},childRowImmediate:function(a,b,d){if(!b&&a.child.isShown()||!a.responsive.hasHidden())return a.child(!1),c(a.node()).removeClass("parent"),!1;a.child(d(),"child").show();c(a.node()).addClass("parent");return!0},modal:function(a){return function(b,d,e){if(d)c("div.dtr-modal-content").empty().append(e());else{var f=function(){g.remove();c(k).off("keypress.dtr")},g=c('<div class="dtr-modal"/>').append(c('<div class="dtr-modal-display"/>').append(c('<div class="dtr-modal-content"/>').append(e())).append(c('<div class="dtr-modal-close">&times;</div>').click(function(){f()}))).append(c('<div class="dtr-modal-background"/>').click(function(){f()})).appendTo("body");
c(k).on("keyup.dtr",function(a){27===a.keyCode&&(a.stopPropagation(),f())})}a&&a.header&&c("div.dtr-modal-content").prepend("<h2>"+a.header(b)+"</h2>")}}};l.defaults={breakpoints:l.breakpoints,auto:!0,details:{display:l.display.childRow,renderer:function(a,b,d){return(a=c.map(d,function(a){return a.hidden?'<li data-dtr-index="'+a.columnIndex+'" data-dt-row="'+a.rowIndex+'" data-dt-column="'+a.columnIndex+'"><span class="dtr-title">'+a.title+'</span> <span class="dtr-data">'+a.data+"</span></li>":
""}).join(""))?c('<ul data-dtr-index="'+b+'"/>').append(a):!1},target:0,type:"inline"},orthogonal:"display"};var o=c.fn.dataTable.Api;o.register("responsive()",function(){return this});o.register("responsive.index()",function(a){a=c(a);return{column:a.data("dtr-index"),row:a.parent().data("dtr-index")}});o.register("responsive.rebuild()",function(){return this.iterator("table",function(a){a._responsive&&a._responsive._classLogic()})});o.register("responsive.recalc()",function(){return this.iterator("table",
function(a){a._responsive&&(a._responsive._resizeAuto(),a._responsive._resize())})});o.register("responsive.hasHidden()",function(){var a=this.context[0];return a._responsive?-1!==c.inArray(!1,a._responsive.s.current):!1});l.version="2.0.2";c.fn.dataTable.Responsive=l;c.fn.DataTable.Responsive=l;c(k).on("preInit.dt.dtr",function(a,b){if("dt"===a.namespace&&(c(b.nTable).hasClass("responsive")||c(b.nTable).hasClass("dt-responsive")||b.oInit.responsive||n.defaults.responsive)){var d=b.oInit.responsive;
!1!==d&&new l(b,c.isPlainObject(d)?d:{})}});return l});
/*!
 FixedColumns 3.2.2
 Â©2010-2016 SpryMedia Ltd - datatables.net/license
*/
(function(d){"function"===typeof define&&define.amd?define(["jquery","datatables.net"],function(q){return d(q,window,document)}):"object"===typeof exports?module.exports=function(q,r){q||(q=window);if(!r||!r.fn.dataTable)r=require("datatables.net")(q,r).$;return d(r,q,q.document)}:d(jQuery,window,document)})(function(d,q,r,t){var s=d.fn.dataTable,u,m=function(a,b){var c=this;if(this instanceof m){if(b===t||!0===b)b={};var e=d.fn.dataTable.camelToHungarian;e&&(e(m.defaults,m.defaults,!0),e(m.defaults,
b));e=(new d.fn.dataTable.Api(a)).settings()[0];this.s={dt:e,iTableColumns:e.aoColumns.length,aiOuterWidths:[],aiInnerWidths:[],rtl:"rtl"===d(e.nTable).css("direction")};this.dom={scroller:null,header:null,body:null,footer:null,grid:{wrapper:null,dt:null,left:{wrapper:null,head:null,body:null,foot:null},right:{wrapper:null,head:null,body:null,foot:null}},clone:{left:{header:null,body:null,footer:null},right:{header:null,body:null,footer:null}}};if(e._oFixedColumns)throw"FixedColumns already initialised on this table";
e._oFixedColumns=this;e._bInitComplete?this._fnConstruct(b):e.oApi._fnCallbackReg(e,"aoInitComplete",function(){c._fnConstruct(b)},"FixedColumns")}else alert("FixedColumns warning: FixedColumns must be initialised with the 'new' keyword.")};d.extend(m.prototype,{fnUpdate:function(){this._fnDraw(!0)},fnRedrawLayout:function(){this._fnColCalc();this._fnGridLayout();this.fnUpdate()},fnRecalculateHeight:function(a){delete a._DTTC_iHeight;a.style.height="auto"},fnSetRowHeight:function(a,b){a.style.height=
b+"px"},fnGetPosition:function(a){var b=this.s.dt.oInstance;if(d(a).parents(".DTFC_Cloned").length){if("tr"===a.nodeName.toLowerCase())return a=d(a).index(),b.fnGetPosition(d("tr",this.s.dt.nTBody)[a]);var c=d(a).index(),a=d(a.parentNode).index();return[b.fnGetPosition(d("tr",this.s.dt.nTBody)[a]),c,b.oApi._fnVisibleToColumnIndex(this.s.dt,c)]}return b.fnGetPosition(a)},_fnConstruct:function(a){var b=this;if("function"!=typeof this.s.dt.oInstance.fnVersionCheck||!0!==this.s.dt.oInstance.fnVersionCheck("1.8.0"))alert("FixedColumns "+
m.VERSION+" required DataTables 1.8.0 or later. Please upgrade your DataTables installation");else if(""===this.s.dt.oScroll.sX)this.s.dt.oInstance.oApi._fnLog(this.s.dt,1,"FixedColumns is not needed (no x-scrolling in DataTables enabled), so no action will be taken. Use 'FixedHeader' for column fixing when scrolling is not enabled");else{this.s=d.extend(!0,this.s,m.defaults,a);a=this.s.dt.oClasses;this.dom.grid.dt=d(this.s.dt.nTable).parents("div."+a.sScrollWrapper)[0];this.dom.scroller=d("div."+
a.sScrollBody,this.dom.grid.dt)[0];this._fnColCalc();this._fnGridSetup();var c,e=!1;d(this.s.dt.nTableWrapper).on("mousedown.DTFC",function(){e=!0;d(r).one("mouseup",function(){e=!1})});d(this.dom.scroller).on("mouseover.DTFC touchstart.DTFC",function(){e||(c="main")}).on("scroll.DTFC",function(a){!c&&a.originalEvent&&(c="main");if("main"===c&&(0<b.s.iLeftColumns&&(b.dom.grid.left.liner.scrollTop=b.dom.scroller.scrollTop),0<b.s.iRightColumns))b.dom.grid.right.liner.scrollTop=b.dom.scroller.scrollTop});
var f="onwheel"in r.createElement("div")?"wheel.DTFC":"mousewheel.DTFC";if(0<b.s.iLeftColumns)d(b.dom.grid.left.liner).on("mouseover.DTFC touchstart.DTFC",function(){e||(c="left")}).on("scroll.DTFC",function(a){!c&&a.originalEvent&&(c="left");"left"===c&&(b.dom.scroller.scrollTop=b.dom.grid.left.liner.scrollTop,0<b.s.iRightColumns&&(b.dom.grid.right.liner.scrollTop=b.dom.grid.left.liner.scrollTop))}).on(f,function(a){b.dom.scroller.scrollLeft-="wheel"===a.type?-a.originalEvent.deltaX:a.originalEvent.wheelDeltaX});
if(0<b.s.iRightColumns)d(b.dom.grid.right.liner).on("mouseover.DTFC touchstart.DTFC",function(){e||(c="right")}).on("scroll.DTFC",function(a){!c&&a.originalEvent&&(c="right");"right"===c&&(b.dom.scroller.scrollTop=b.dom.grid.right.liner.scrollTop,0<b.s.iLeftColumns&&(b.dom.grid.left.liner.scrollTop=b.dom.grid.right.liner.scrollTop))}).on(f,function(a){b.dom.scroller.scrollLeft-="wheel"===a.type?-a.originalEvent.deltaX:a.originalEvent.wheelDeltaX});d(q).on("resize.DTFC",function(){b._fnGridLayout.call(b)});
var g=!0,h=d(this.s.dt.nTable);h.on("draw.dt.DTFC",function(){b._fnColCalc();b._fnDraw.call(b,g);g=!1}).on("column-sizing.dt.DTFC",function(){b._fnColCalc();b._fnGridLayout(b)}).on("column-visibility.dt.DTFC",function(a,c,d,e,f){if(f===t||f)b._fnColCalc(),b._fnGridLayout(b),b._fnDraw(!0)}).on("select.dt.DTFC deselect.dt.DTFC",function(a){"dt"===a.namespace&&b._fnDraw(!1)}).on("destroy.dt.DTFC",function(){h.off(".DTFC");d(b.dom.scroller).off(".DTFC");d(q).off(".DTFC");d(b.s.dt.nTableWrapper).off(".DTFC");
d(b.dom.grid.left.liner).off(".DTFC "+f);d(b.dom.grid.left.wrapper).remove();d(b.dom.grid.right.liner).off(".DTFC "+f);d(b.dom.grid.right.wrapper).remove()});this._fnGridLayout();this.s.dt.oInstance.fnDraw(!1)}},_fnColCalc:function(){var a=this,b=0,c=0;this.s.aiInnerWidths=[];this.s.aiOuterWidths=[];d.each(this.s.dt.aoColumns,function(e,f){var g=d(f.nTh),h;if(g.filter(":visible").length){var i=g.outerWidth();0===a.s.aiOuterWidths.length&&(h=d(a.s.dt.nTable).css("border-left-width"),i+="string"===
typeof h?1:parseInt(h,10));a.s.aiOuterWidths.length===a.s.dt.aoColumns.length-1&&(h=d(a.s.dt.nTable).css("border-right-width"),i+="string"===typeof h?1:parseInt(h,10));a.s.aiOuterWidths.push(i);a.s.aiInnerWidths.push(g.width());e<a.s.iLeftColumns&&(b+=i);a.s.iTableColumns-a.s.iRightColumns<=e&&(c+=i)}else a.s.aiInnerWidths.push(0),a.s.aiOuterWidths.push(0)});this.s.iLeftWidth=b;this.s.iRightWidth=c},_fnGridSetup:function(){var a=this._fnDTOverflow(),b;this.dom.body=this.s.dt.nTable;this.dom.header=
this.s.dt.nTHead.parentNode;this.dom.header.parentNode.parentNode.style.position="relative";var c=d('<div class="DTFC_ScrollWrapper" style="position:relative; clear:both;"><div class="DTFC_LeftWrapper" style="position:absolute; top:0; left:0;"><div class="DTFC_LeftHeadWrapper" style="position:relative; top:0; left:0; overflow:hidden;"></div><div class="DTFC_LeftBodyWrapper" style="position:relative; top:0; left:0; overflow:hidden;"><div class="DTFC_LeftBodyLiner" style="position:relative; top:0; left:0; overflow-y:scroll;"></div></div><div class="DTFC_LeftFootWrapper" style="position:relative; top:0; left:0; overflow:hidden;"></div></div><div class="DTFC_RightWrapper" style="position:absolute; top:0; right:0;"><div class="DTFC_RightHeadWrapper" style="position:relative; top:0; left:0;"><div class="DTFC_RightHeadBlocker DTFC_Blocker" style="position:absolute; top:0; bottom:0;"></div></div><div class="DTFC_RightBodyWrapper" style="position:relative; top:0; left:0; overflow:hidden;"><div class="DTFC_RightBodyLiner" style="position:relative; top:0; left:0; overflow-y:scroll;"></div></div><div class="DTFC_RightFootWrapper" style="position:relative; top:0; left:0;"><div class="DTFC_RightFootBlocker DTFC_Blocker" style="position:absolute; top:0; bottom:0;"></div></div></div></div>')[0],
e=c.childNodes[0],f=c.childNodes[1];this.dom.grid.dt.parentNode.insertBefore(c,this.dom.grid.dt);c.appendChild(this.dom.grid.dt);this.dom.grid.wrapper=c;0<this.s.iLeftColumns&&(this.dom.grid.left.wrapper=e,this.dom.grid.left.head=e.childNodes[0],this.dom.grid.left.body=e.childNodes[1],this.dom.grid.left.liner=d("div.DTFC_LeftBodyLiner",c)[0],c.appendChild(e));0<this.s.iRightColumns&&(this.dom.grid.right.wrapper=f,this.dom.grid.right.head=f.childNodes[0],this.dom.grid.right.body=f.childNodes[1],this.dom.grid.right.liner=
d("div.DTFC_RightBodyLiner",c)[0],f.style.right=a.bar+"px",b=d("div.DTFC_RightHeadBlocker",c)[0],b.style.width=a.bar+"px",b.style.right=-a.bar+"px",this.dom.grid.right.headBlock=b,b=d("div.DTFC_RightFootBlocker",c)[0],b.style.width=a.bar+"px",b.style.right=-a.bar+"px",this.dom.grid.right.footBlock=b,c.appendChild(f));if(this.s.dt.nTFoot&&(this.dom.footer=this.s.dt.nTFoot.parentNode,0<this.s.iLeftColumns&&(this.dom.grid.left.foot=e.childNodes[2]),0<this.s.iRightColumns))this.dom.grid.right.foot=f.childNodes[2];
this.s.rtl&&d("div.DTFC_RightHeadBlocker",c).css({left:-a.bar+"px",right:""})},_fnGridLayout:function(){var a=this,b=this.dom.grid;d(b.wrapper).width();var c=d(this.s.dt.nTable.parentNode).outerHeight(),e=d(this.s.dt.nTable.parentNode.parentNode).outerHeight(),f=this._fnDTOverflow(),g=this.s.iLeftWidth,h=this.s.iRightWidth,i="rtl"===d(this.dom.body).css("direction"),j=function(b,c){f.bar?a._firefoxScrollError()?34<d(b).height()&&(b.style.width=c+f.bar+"px"):b.style.width=c+f.bar+"px":(b.style.width=
c+20+"px",b.style.paddingRight="20px",b.style.boxSizing="border-box")};f.x&&(c-=f.bar);b.wrapper.style.height=e+"px";0<this.s.iLeftColumns&&(e=b.left.wrapper,e.style.width=g+"px",e.style.height="1px",i?(e.style.left="",e.style.right=0):(e.style.left=0,e.style.right=""),b.left.body.style.height=c+"px",b.left.foot&&(b.left.foot.style.top=(f.x?f.bar:0)+"px"),j(b.left.liner,g),b.left.liner.style.height=c+"px");0<this.s.iRightColumns&&(e=b.right.wrapper,e.style.width=h+"px",e.style.height="1px",this.s.rtl?
(e.style.left=f.y?f.bar+"px":0,e.style.right=""):(e.style.left="",e.style.right=f.y?f.bar+"px":0),b.right.body.style.height=c+"px",b.right.foot&&(b.right.foot.style.top=(f.x?f.bar:0)+"px"),j(b.right.liner,h),b.right.liner.style.height=c+"px",b.right.headBlock.style.display=f.y?"block":"none",b.right.footBlock.style.display=f.y?"block":"none")},_fnDTOverflow:function(){var a=this.s.dt.nTable,b=a.parentNode,c={x:!1,y:!1,bar:this.s.dt.oScroll.iBarWidth};a.offsetWidth>b.clientWidth&&(c.x=!0);a.offsetHeight>
b.clientHeight&&(c.y=!0);return c},_fnDraw:function(a){this._fnGridLayout();this._fnCloneLeft(a);this._fnCloneRight(a);null!==this.s.fnDrawCallback&&this.s.fnDrawCallback.call(this,this.dom.clone.left,this.dom.clone.right);d(this).trigger("draw.dtfc",{leftClone:this.dom.clone.left,rightClone:this.dom.clone.right})},_fnCloneRight:function(a){if(!(0>=this.s.iRightColumns)){var b,c=[];for(b=this.s.iTableColumns-this.s.iRightColumns;b<this.s.iTableColumns;b++)this.s.dt.aoColumns[b].bVisible&&c.push(b);
this._fnClone(this.dom.clone.right,this.dom.grid.right,c,a)}},_fnCloneLeft:function(a){if(!(0>=this.s.iLeftColumns)){var b,c=[];for(b=0;b<this.s.iLeftColumns;b++)this.s.dt.aoColumns[b].bVisible&&c.push(b);this._fnClone(this.dom.clone.left,this.dom.grid.left,c,a)}},_fnCopyLayout:function(a,b,c){for(var e=[],f=[],g=[],h=0,i=a.length;h<i;h++){var j=[];j.nTr=d(a[h].nTr).clone(c,!1)[0];for(var l=0,o=this.s.iTableColumns;l<o;l++)if(-1!==d.inArray(l,b)){var p=d.inArray(a[h][l].cell,g);-1===p?(p=d(a[h][l].cell).clone(c,
!1)[0],f.push(p),g.push(a[h][l].cell),j.push({cell:p,unique:a[h][l].unique})):j.push({cell:f[p],unique:a[h][l].unique})}e.push(j)}return e},_fnClone:function(a,b,c,e){var f=this,g,h,i,j,l,o,p,n,m,k=this.s.dt;if(e){d(a.header).remove();a.header=d(this.dom.header).clone(!0,!1)[0];a.header.className+=" DTFC_Cloned";a.header.style.width="100%";b.head.appendChild(a.header);n=this._fnCopyLayout(k.aoHeader,c,!0);j=d(">thead",a.header);j.empty();g=0;for(h=n.length;g<h;g++)j[0].appendChild(n[g].nTr);k.oApi._fnDrawHead(k,
n,!0)}else{n=this._fnCopyLayout(k.aoHeader,c,!1);m=[];k.oApi._fnDetectHeader(m,d(">thead",a.header)[0]);g=0;for(h=n.length;g<h;g++){i=0;for(j=n[g].length;i<j;i++)m[g][i].cell.className=n[g][i].cell.className,d("span.DataTables_sort_icon",m[g][i].cell).each(function(){this.className=d("span.DataTables_sort_icon",n[g][i].cell)[0].className})}}this._fnEqualiseHeights("thead",this.dom.header,a.header);"auto"==this.s.sHeightMatch&&d(">tbody>tr",f.dom.body).css("height","auto");null!==a.body&&(d(a.body).remove(),
a.body=null);a.body=d(this.dom.body).clone(!0)[0];a.body.className+=" DTFC_Cloned";a.body.style.paddingBottom=k.oScroll.iBarWidth+"px";a.body.style.marginBottom=2*k.oScroll.iBarWidth+"px";null!==a.body.getAttribute("id")&&a.body.removeAttribute("id");d(">thead>tr",a.body).empty();d(">tfoot",a.body).remove();var q=d("tbody",a.body)[0];d(q).empty();if(0<k.aiDisplay.length){h=d(">thead>tr",a.body)[0];for(p=0;p<c.length;p++)l=c[p],o=d(k.aoColumns[l].nTh).clone(!0)[0],o.innerHTML="",j=o.style,j.paddingTop=
"0",j.paddingBottom="0",j.borderTopWidth="0",j.borderBottomWidth="0",j.height=0,j.width=f.s.aiInnerWidths[l]+"px",h.appendChild(o);d(">tbody>tr",f.dom.body).each(function(a){var a=f.s.dt.oFeatures.bServerSide===false?f.s.dt.aiDisplay[f.s.dt._iDisplayStart+a]:a,b=f.s.dt.aoData[a].anCells||d(this).children("td, th"),e=this.cloneNode(false);e.removeAttribute("id");e.setAttribute("data-dt-row",a);for(p=0;p<c.length;p++){l=c[p];if(b.length>0){o=d(b[l]).clone(true,true)[0];o.setAttribute("data-dt-row",
a);o.setAttribute("data-dt-column",p);e.appendChild(o)}}q.appendChild(e)})}else d(">tbody>tr",f.dom.body).each(function(){o=this.cloneNode(true);o.className=o.className+" DTFC_NoData";d("td",o).html("");q.appendChild(o)});a.body.style.width="100%";a.body.style.margin="0";a.body.style.padding="0";k.oScroller!==t&&(h=k.oScroller.dom.force,b.forcer?b.forcer.style.height=h.style.height:(b.forcer=h.cloneNode(!0),b.liner.appendChild(b.forcer)));b.liner.appendChild(a.body);this._fnEqualiseHeights("tbody",
f.dom.body,a.body);if(null!==k.nTFoot){if(e){null!==a.footer&&a.footer.parentNode.removeChild(a.footer);a.footer=d(this.dom.footer).clone(!0,!0)[0];a.footer.className+=" DTFC_Cloned";a.footer.style.width="100%";b.foot.appendChild(a.footer);n=this._fnCopyLayout(k.aoFooter,c,!0);b=d(">tfoot",a.footer);b.empty();g=0;for(h=n.length;g<h;g++)b[0].appendChild(n[g].nTr);k.oApi._fnDrawHead(k,n,!0)}else{n=this._fnCopyLayout(k.aoFooter,c,!1);b=[];k.oApi._fnDetectHeader(b,d(">tfoot",a.footer)[0]);g=0;for(h=n.length;g<
h;g++){i=0;for(j=n[g].length;i<j;i++)b[g][i].cell.className=n[g][i].cell.className}}this._fnEqualiseHeights("tfoot",this.dom.footer,a.footer)}b=k.oApi._fnGetUniqueThs(k,d(">thead",a.header)[0]);d(b).each(function(a){l=c[a];this.style.width=f.s.aiInnerWidths[l]+"px"});null!==f.s.dt.nTFoot&&(b=k.oApi._fnGetUniqueThs(k,d(">tfoot",a.footer)[0]),d(b).each(function(a){l=c[a];this.style.width=f.s.aiInnerWidths[l]+"px"}))},_fnGetTrNodes:function(a){for(var b=[],c=0,d=a.childNodes.length;c<d;c++)"TR"==a.childNodes[c].nodeName.toUpperCase()&&
b.push(a.childNodes[c]);return b},_fnEqualiseHeights:function(a,b,c){if(!("none"==this.s.sHeightMatch&&"thead"!==a&&"tfoot"!==a)){var e,f,g=b.getElementsByTagName(a)[0],c=c.getElementsByTagName(a)[0],a=d(">"+a+">tr:eq(0)",b).children(":first");a.outerHeight();a.height();for(var g=this._fnGetTrNodes(g),b=this._fnGetTrNodes(c),h=[],c=0,a=b.length;c<a;c++)e=g[c].offsetHeight,f=b[c].offsetHeight,e=f>e?f:e,"semiauto"==this.s.sHeightMatch&&(g[c]._DTTC_iHeight=e),h.push(e);c=0;for(a=b.length;c<a;c++)b[c].style.height=
h[c]+"px",g[c].style.height=h[c]+"px"}},_firefoxScrollError:function(){if(u===t){var a=d("<div/>").css({position:"absolute",top:0,left:0,height:10,width:50,overflow:"scroll"}).appendTo("body");u=a[0].clientWidth===a[0].offsetWidth&&0!==this._fnDTOverflow().bar;a.remove()}return u}});m.defaults={iLeftColumns:1,iRightColumns:0,fnDrawCallback:null,sHeightMatch:"semiauto"};m.version="3.2.2";s.Api.register("fixedColumns()",function(){return this});s.Api.register("fixedColumns().update()",function(){return this.iterator("table",
function(a){a._oFixedColumns&&a._oFixedColumns.fnUpdate()})});s.Api.register("fixedColumns().relayout()",function(){return this.iterator("table",function(a){a._oFixedColumns&&a._oFixedColumns.fnRedrawLayout()})});s.Api.register("rows().recalcHeight()",function(){return this.iterator("row",function(a,b){a._oFixedColumns&&a._oFixedColumns.fnRecalculateHeight(this.row(b).node())})});s.Api.register("fixedColumns().rowIndex()",function(a){a=d(a);return a.parents(".DTFC_Cloned").length?this.rows({page:"current"}).indexes()[a.index()]:
this.row(a).index()});s.Api.register("fixedColumns().cellIndex()",function(a){a=d(a);if(a.parents(".DTFC_Cloned").length){var b=a.parent().index(),b=this.rows({page:"current"}).indexes()[b],a=a.parents(".DTFC_LeftWrapper").length?a.index():this.columns().flatten().length-this.context[0]._oFixedColumns.s.iRightColumns+a.index();return{row:b,column:this.column.index("toData",a),columnVisible:a}}return this.cell(a).index()});d(r).on("init.dt.fixedColumns",function(a,b){if("dt"===a.namespace){var c=b.oInit.fixedColumns,
e=s.defaults.fixedColumns;if(c||e)e=d.extend({},c,e),!1!==c&&new m(b,e)}});d.fn.dataTable.FixedColumns=m;return d.fn.DataTable.FixedColumns=m});
/*!
 FixedHeader 3.1.2
 Â©2009-2016 SpryMedia Ltd - datatables.net/license
*/
(function(d){"function"===typeof define&&define.amd?define(["jquery","datatables.net"],function(g){return d(g,window,document)}):"object"===typeof exports?module.exports=function(g,h){g||(g=window);if(!h||!h.fn.dataTable)h=require("datatables.net")(g,h).$;return d(h,g,g.document)}:d(jQuery,window,document)})(function(d,g,h,k){var j=d.fn.dataTable,l=0,i=function(b,a){if(!(this instanceof i))throw"FixedHeader must be initialised with the 'new' keyword.";!0===a&&(a={});b=new j.Api(b);this.c=d.extend(!0,
{},i.defaults,a);this.s={dt:b,position:{theadTop:0,tbodyTop:0,tfootTop:0,tfootBottom:0,width:0,left:0,tfootHeight:0,theadHeight:0,windowHeight:d(g).height(),visible:!0},headerMode:null,footerMode:null,autoWidth:b.settings()[0].oFeatures.bAutoWidth,namespace:".dtfc"+l++,scrollLeft:{header:-1,footer:-1},enable:!0};this.dom={floatingHeader:null,thead:d(b.table().header()),tbody:d(b.table().body()),tfoot:d(b.table().footer()),header:{host:null,floating:null,placeholder:null},footer:{host:null,floating:null,
placeholder:null}};this.dom.header.host=this.dom.thead.parent();this.dom.footer.host=this.dom.tfoot.parent();var e=b.settings()[0];if(e._fixedHeader)throw"FixedHeader already initialised on table "+e.nTable.id;e._fixedHeader=this;this._constructor()};d.extend(i.prototype,{enable:function(b){this.s.enable=b;this.c.header&&this._modeChange("in-place","header",!0);this.c.footer&&this.dom.tfoot.length&&this._modeChange("in-place","footer",!0);this.update()},headerOffset:function(b){b!==k&&(this.c.headerOffset=
b,this.update());return this.c.headerOffset},footerOffset:function(b){b!==k&&(this.c.footerOffset=b,this.update());return this.c.footerOffset},update:function(){this._positions();this._scroll(!0)},_constructor:function(){var b=this,a=this.s.dt;d(g).on("scroll"+this.s.namespace,function(){b._scroll()}).on("resize"+this.s.namespace,function(){b.s.position.windowHeight=d(g).height();b.update()});var e=d(".fh-fixedHeader");!this.c.headerOffset&&e.length&&(this.c.headerOffset=e.outerHeight());e=d(".fh-fixedFooter");
!this.c.footerOffset&&e.length&&(this.c.footerOffset=e.outerHeight());a.on("column-reorder.dt.dtfc column-visibility.dt.dtfc draw.dt.dtfc column-sizing.dt.dtfc",function(){b.update()});a.on("destroy.dtfc",function(){a.off(".dtfc");d(g).off(b.s.namespace)});this._positions();this._scroll()},_clone:function(b,a){var e=this.s.dt,c=this.dom[b],f="header"===b?this.dom.thead:this.dom.tfoot;!a&&c.floating?c.floating.removeClass("fixedHeader-floating fixedHeader-locked"):(c.floating&&(c.placeholder.remove(),
this._unsize(b),c.floating.children().detach(),c.floating.remove()),c.floating=d(e.table().node().cloneNode(!1)).css("table-layout","fixed").removeAttr("id").append(f).appendTo("body"),c.placeholder=f.clone(!1),c.host.prepend(c.placeholder),this._matchWidths(c.placeholder,c.floating))},_matchWidths:function(b,a){var e=function(a){return d(a,b).map(function(){return d(this).width()}).toArray()},c=function(b,c){d(b,a).each(function(a){d(this).css({width:c[a],minWidth:c[a]})})},f=e("th"),e=e("td");c("th",
f);c("td",e)},_unsize:function(b){var a=this.dom[b].floating;a&&("footer"===b||"header"===b&&!this.s.autoWidth)?d("th, td",a).css({width:"",minWidth:""}):a&&"header"===b&&d("th, td",a).css("min-width","")},_horizontal:function(b,a){var e=this.dom[b],c=this.s.position,d=this.s.scrollLeft;e.floating&&d[b]!==a&&(e.floating.css("left",c.left-a),d[b]=a)},_modeChange:function(b,a,e){var c=this.dom[a],f=this.s.position,g=d.contains(this.dom["footer"===a?"tfoot":"thead"][0],h.activeElement)?h.activeElement:
null;if("in-place"===b){if(c.placeholder&&(c.placeholder.remove(),c.placeholder=null),this._unsize(a),"header"===a?c.host.prepend(this.dom.thead):c.host.append(this.dom.tfoot),c.floating)c.floating.remove(),c.floating=null}else"in"===b?(this._clone(a,e),c.floating.addClass("fixedHeader-floating").css("header"===a?"top":"bottom",this.c[a+"Offset"]).css("left",f.left+"px").css("width",f.width+"px"),"footer"===a&&c.floating.css("top","")):"below"===b?(this._clone(a,e),c.floating.addClass("fixedHeader-locked").css("top",
f.tfootTop-f.theadHeight).css("left",f.left+"px").css("width",f.width+"px")):"above"===b&&(this._clone(a,e),c.floating.addClass("fixedHeader-locked").css("top",f.tbodyTop).css("left",f.left+"px").css("width",f.width+"px"));g&&g!==h.activeElement&&g.focus();this.s.scrollLeft.header=-1;this.s.scrollLeft.footer=-1;this.s[a+"Mode"]=b},_positions:function(){var b=this.s.dt.table(),a=this.s.position,e=this.dom,b=d(b.node()),c=b.children("thead"),f=b.children("tfoot"),e=e.tbody;a.visible=b.is(":visible");
a.width=b.outerWidth();a.left=b.offset().left;a.theadTop=c.offset().top;a.tbodyTop=e.offset().top;a.theadHeight=a.tbodyTop-a.theadTop;f.length?(a.tfootTop=f.offset().top,a.tfootBottom=a.tfootTop+f.outerHeight(),a.tfootHeight=a.tfootBottom-a.tfootTop):(a.tfootTop=a.tbodyTop+e.outerHeight(),a.tfootBottom=a.tfootTop,a.tfootHeight=a.tfootTop)},_scroll:function(b){var a=d(h).scrollTop(),e=d(h).scrollLeft(),c=this.s.position,f;if(this.s.enable&&(this.c.header&&(f=!c.visible||a<=c.theadTop-this.c.headerOffset?
"in-place":a<=c.tfootTop-c.theadHeight-this.c.headerOffset?"in":"below",(b||f!==this.s.headerMode)&&this._modeChange(f,"header",b),this._horizontal("header",e)),this.c.footer&&this.dom.tfoot.length))a=!c.visible||a+c.windowHeight>=c.tfootBottom+this.c.footerOffset?"in-place":c.windowHeight+a>c.tbodyTop+c.tfootHeight+this.c.footerOffset?"in":"above",(b||a!==this.s.footerMode)&&this._modeChange(a,"footer",b),this._horizontal("footer",e)}});i.version="3.1.2";i.defaults={header:!0,footer:!1,headerOffset:0,
footerOffset:0};d.fn.dataTable.FixedHeader=i;d.fn.DataTable.FixedHeader=i;d(h).on("init.dt.dtfh",function(b,a){if("dt"===b.namespace){var e=a.oInit.fixedHeader,c=j.defaults.fixedHeader;if((e||c)&&!a._fixedHeader)c=d.extend({},c,e),!1!==e&&new i(a,c)}});j.Api.register("fixedHeader()",function(){});j.Api.register("fixedHeader.adjust()",function(){return this.iterator("table",function(b){(b=b._fixedHeader)&&b.update()})});j.Api.register("fixedHeader.enable()",function(b){return this.iterator("table",
function(a){(a=a._fixedHeader)&&a.enable(b!==k?b:!0)})});j.Api.register("fixedHeader.disable()",function(){return this.iterator("table",function(b){(b=b._fixedHeader)&&b.enable(!1)})});d.each(["header","footer"],function(b,a){j.Api.register("fixedHeader."+a+"Offset()",function(b){var c=this.context;return b===k?c.length&&c[0]._fixedHeader?c[0]._fixedHeader[a+"Offset"]():k:this.iterator("table",function(c){if(c=c._fixedHeader)c[a+"Offset"](b)})})});return i});
!function($,app){function setCellAttributes(cells){for(var colspan,rowspan,i=0;i<cells.length;i++)cells[i].getAttribute("data-hide")&&(cells[i].style.display="none"),(colspan=cells[i].getAttribute("data-colspan"))&&colspan>1&&cells[i].setAttribute("colspan",colspan),(rowspan=cells[i].getAttribute("data-rowspan"))&&rowspan>1&&cells[i].setAttribute("rowspan",rowspan)}function naturalSort(a,b,html){var re=/(^-?[0-9]+(\.?[0-9]*)[df]?e?[0-9]?%?$|^0x[0-9a-f]+$|[0-9]+)/gi,sre=/(^[ ]*|[ ]*$)/g,dre=/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,hre=/^0x[0-9a-f]+$/i,ore=/^0/,htmre=/(<([^>]+)>)/gi,x=a.toString().replace(sre,"")||"",y=b.toString().replace(sre,"")||"";html||(x=x.replace(htmre,""),y=y.replace(htmre,""));var xN=x.replace(re,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),yN=y.replace(re,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),xD=parseInt(x.match(hre),10)||1!==xN.length&&x.match(dre)&&Date.parse(x),yD=parseInt(y.match(hre),10)||xD&&y.match(dre)&&Date.parse(y)||null;if(yD){if(xD<yD)return-1;if(xD>yD)return 1}for(var cLoc=0,numS=Math.max(xN.length,yN.length);cLoc<numS;cLoc++){var oFxNcL=parseFloat(xN[cLoc],10)||xN[cLoc]||0,oFyNcL=parseFloat(yN[cLoc],10)||yN[cLoc]||0;if(isNaN(oFxNcL)!==isNaN(oFyNcL))return isNaN(oFxNcL)?1:-1;if(typeof oFxNcL!=typeof oFyNcL&&(oFxNcL+="",oFyNcL+=""),oFxNcL<oFyNcL)return-1;if(oFxNcL>oFyNcL)return 1}return 0}$.fn.dataTableExt.oApi.fnFakeRowspan=function(oSettings){var cells;oSettings&&($.each(oSettings.aoData,function(index,rowData){setCellAttributes(rowData.anCells)}),oSettings.aoHeader.length&&(cells=[],$.each(oSettings.aoHeader,function(index,rowData){$.each(rowData,function(index,cellData){cells.push(cellData.cell)})}),setCellAttributes(cells)),oSettings.aoFooter.length&&(cells=[],$.each(oSettings.aoFooter,function(index,rowData){$.each(rowData,function(index,cellData){cells.push(cellData.cell)})}),setCellAttributes(cells)));return this},$.extend($.fn.dataTableExt.oSort,{"natural-asc":function(a,b){return naturalSort(a,b,!0)},"natural-desc":function(a,b){return-1*naturalSort(a,b,!0)},"natural-nohtml-asc":function(a,b){return naturalSort(a,b,!1)},"natural-nohtml-desc":function(a,b){return-1*naturalSort(a,b,!1)},"natural-ci-asc":function(a,b){return naturalSort(a=a.toString().toLowerCase(),b=b.toString().toLowerCase(),!0)},"natural-ci-desc":function(a,b){return-1*naturalSort(a=a.toString().toLowerCase(),b=b.toString().toLowerCase(),!0)},"natural-nohtml-ci-asc":function(a,b){return naturalSort(a=a.toString().toLowerCase(),b=b.toString().toLowerCase(),!1)},"natural-nohtml-ci-desc":function(a,b){return-1*naturalSort(a=a.toString().toLowerCase(),b=b.toString().toLowerCase(),!1)}})}(window.jQuery,window.supsystic.Tables);
(function(){var numeral,VERSION="1.5.3",languages={},currentLanguage="en",zeroFormat=null,defaultFormat="0,0",hasModule="undefined"!=typeof module&&module.exports;function Numeral(number){this._value=number}function toFixed(value,precision,roundingFunction,optionals){var power=Math.pow(10,precision),optionalsRegExp,output;return output=(roundingFunction(value*power)/power).toFixed(precision),optionals&&(optionalsRegExp=new RegExp("0{1,"+optionals+"}$"),output=output.replace(optionalsRegExp,"")),output}function formatNumeral(n,format,roundingFunction,currencySymbol){var output;return output=format.indexOf("$")>-1?formatCurrency(n,format,roundingFunction,currencySymbol):format.indexOf("%")>-1?formatPercentage(n,format,roundingFunction):format.indexOf(":")>-1?formatTime(n,format):formatNumber(n._value,format,roundingFunction)}function unformatNumeral(n,string){var stringOriginal=string,thousandRegExp,millionRegExp,billionRegExp,trillionRegExp,suffixes=["KB","MB","GB","TB","PB","EB","ZB","YB"],bytesMultiplier=!1,power;if(string.indexOf(":")>-1)n._value=unformatTime(string);else if(string===zeroFormat)n._value=0;else{for("."!==languages[currentLanguage].delimiters.decimal&&(string=string.replace(/\./g,"").replace(languages[currentLanguage].delimiters.decimal,".")),thousandRegExp=new RegExp("[^a-zA-Z]"+languages[currentLanguage].abbreviations.thousand+"(?:\\)|(\\"+languages[currentLanguage].currency.symbol+")?(?:\\))?)?$"),millionRegExp=new RegExp("[^a-zA-Z]"+languages[currentLanguage].abbreviations.million+"(?:\\)|(\\"+languages[currentLanguage].currency.symbol+")?(?:\\))?)?$"),billionRegExp=new RegExp("[^a-zA-Z]"+languages[currentLanguage].abbreviations.billion+"(?:\\)|(\\"+languages[currentLanguage].currency.symbol+")?(?:\\))?)?$"),trillionRegExp=new RegExp("[^a-zA-Z]"+languages[currentLanguage].abbreviations.trillion+"(?:\\)|(\\"+languages[currentLanguage].currency.symbol+")?(?:\\))?)?$"),power=0;power<=suffixes.length&&!(bytesMultiplier=string.indexOf(suffixes[power])>-1&&Math.pow(1024,power+1));power++);n._value=(bytesMultiplier||1)*(stringOriginal.match(thousandRegExp)?Math.pow(10,3):1)*(stringOriginal.match(millionRegExp)?Math.pow(10,6):1)*(stringOriginal.match(billionRegExp)?Math.pow(10,9):1)*(stringOriginal.match(trillionRegExp)?Math.pow(10,12):1)*(string.indexOf("%")>-1?.01:1)*((string.split("-").length+Math.min(string.split("(").length-1,string.split(")").length-1))%2?1:-1)*Number(string.replace(/[^0-9\.]+/g,"")),n._value=bytesMultiplier?Math.ceil(n._value):n._value}return n._value}function formatCurrency(n,format,roundingFunction,currencySymbol){var symbolIndex=format.indexOf("$"),openParenIndex=format.indexOf("("),minusSignIndex=format.indexOf("-"),space="",spliceIndex,output,symbol=currencySymbol||languages[currentLanguage].currency.symbol;return format.indexOf(" $")>-1?(space=" ",format=format.replace(" $","")):format.indexOf("$ ")>-1?(space=" ",format=format.replace("$ ","")):format=format.replace("$",""),output=formatNumber(n._value,format,roundingFunction),symbolIndex<=1?output.indexOf("(")>-1||output.indexOf("-")>-1?(spliceIndex=1,(symbolIndex<openParenIndex||symbolIndex<minusSignIndex)&&(spliceIndex=0),(output=output.split("")).splice(spliceIndex,0,symbol+space),output=output.join("")):output=symbol+space+output:output.indexOf(")")>-1?((output=output.split("")).splice(-1,0,space+symbol),output=output.join("")):output=output+space+symbol,output}function formatPercentage(n,format,roundingFunction){var space="",output,value=100*n._value;return format.indexOf(" %")>-1?(space=" ",format=format.replace(" %","")):format=format.replace("%",""),(output=formatNumber(value,format,roundingFunction)).indexOf(")")>-1?((output=output.split("")).splice(-1,0,space+"%"),output=output.join("")):output=output+space+"%",output}function formatTime(n){var hours=Math.floor(n._value/60/60),minutes=Math.floor((n._value-60*hours*60)/60),seconds=Math.round(n._value-60*hours*60-60*minutes);return hours+":"+(minutes<10?"0"+minutes:minutes)+":"+(seconds<10?"0"+seconds:seconds)}function unformatTime(string){var timeArray=string.split(":"),seconds=0;return 3===timeArray.length?(seconds+=60*Number(timeArray[0])*60,seconds+=60*Number(timeArray[1]),seconds+=Number(timeArray[2])):2===timeArray.length&&(seconds+=60*Number(timeArray[0]),seconds+=Number(timeArray[1])),Number(seconds)}function formatNumber(value,format,roundingFunction){var negP=!1,signed=!1,optDec=!1,abbr="",abbrK=!1,abbrM=!1,abbrB=!1,abbrT=!1,abbrForce=!1,bytes="",ord="",abs=Math.abs(value),suffixes=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],min,max,power,w,precision,thousands,d="",neg=!1;if(0===value&&null!==zeroFormat)return zeroFormat;if(format.indexOf("(")>-1?(negP=!0,format=format.slice(1,-1)):format.indexOf("+")>-1&&(signed=!0,format=format.replace(/\+/g,"")),format.indexOf("a")>-1&&(abbrK=format.indexOf("aK")>=0,abbrM=format.indexOf("aM")>=0,abbrB=format.indexOf("aB")>=0,abbrT=format.indexOf("aT")>=0,abbrForce=abbrK||abbrM||abbrB||abbrT,format.indexOf(" a")>-1?(abbr=" ",format=format.replace(" a","")):format=format.replace("a",""),abs>=Math.pow(10,12)&&!abbrForce||abbrT?(abbr+=languages[currentLanguage].abbreviations.trillion,value/=Math.pow(10,12)):abs<Math.pow(10,12)&&abs>=Math.pow(10,9)&&!abbrForce||abbrB?(abbr+=languages[currentLanguage].abbreviations.billion,value/=Math.pow(10,9)):abs<Math.pow(10,9)&&abs>=Math.pow(10,6)&&!abbrForce||abbrM?(abbr+=languages[currentLanguage].abbreviations.million,value/=Math.pow(10,6)):(abs<Math.pow(10,6)&&abs>=Math.pow(10,3)&&!abbrForce||abbrK)&&(abbr+=languages[currentLanguage].abbreviations.thousand,value/=Math.pow(10,3))),format.indexOf("b")>-1)for(format.indexOf(" b")>-1?(bytes=" ",format=format.replace(" b","")):format=format.replace("b",""),power=0;power<=suffixes.length;power++)if(min=Math.pow(1024,power),max=Math.pow(1024,power+1),value>=min&&value<max){bytes+=suffixes[power],min>0&&(value/=min);break}return format.indexOf("o")>-1&&(format.indexOf(" o")>-1?(ord=" ",format=format.replace(" o","")):format=format.replace("o",""),ord+=languages[currentLanguage].ordinal(value)),format.indexOf("[.]")>-1&&(optDec=!0,format=format.replace("[.]",".")),w=value.toString().split(".")[0],precision=format.split(".")[1],thousands=format.indexOf(","),precision?(w=(d=precision.indexOf("[")>-1?toFixed(value,(precision=(precision=precision.replace("]","")).split("["))[0].length+precision[1].length,roundingFunction,precision[1].length):toFixed(value,precision.length,roundingFunction)).split(".")[0],d=d.split(".")[1].length?languages[currentLanguage].delimiters.decimal+d.split(".")[1]:"",optDec&&0===Number(d.slice(1))&&(d="")):w=toFixed(value,null,roundingFunction),w.indexOf("-")>-1&&(w=w.slice(1),neg=!0),thousands>-1&&(w=w.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+languages[currentLanguage].delimiters.thousands)),0===format.indexOf(".")&&(w=""),(negP&&neg?"(":"")+(!negP&&neg?"-":"")+(!neg&&signed?"+":"")+w+d+(ord||"")+(abbr||"")+(bytes||"")+(negP&&neg?")":"")}function loadLanguage(key,values){languages[key]=values}function multiplier(x){var parts=x.toString().split(".");return parts.length<2?1:Math.pow(10,parts[1].length)}function correctionFactor(){var args;return Array.prototype.slice.call(arguments).reduce(function(prev,next){var mp=multiplier(prev),mn=multiplier(next);return mp>mn?mp:mn},-1/0)}(numeral=function(input){return numeral.isNumeral(input)?input=input.value():0===input||void 0===input?input=0:Number(input)||(input=numeral.fn.unformat(input)),new Numeral(Number(input))}).version="1.5.3",numeral.isNumeral=function(obj){return obj instanceof Numeral},numeral.language=function(key,values){if(!key)return currentLanguage;if(key&&!values){if(!languages[key])throw new Error("Unknown language : "+key);currentLanguage=key}return!values&&languages[key]||loadLanguage(key,values),numeral},numeral.languageData=function(key){if(!key)return languages[currentLanguage];if(!languages[key])throw new Error("Unknown language : "+key);return languages[key]},numeral.language("en",{delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(number){var b=number%10;return 1==~~(number%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th"},currency:{symbol:"$"}}),numeral.zeroFormat=function(format){zeroFormat="string"==typeof format?format:null},numeral.defaultFormat=function(format){defaultFormat="string"==typeof format?format:"0.0"},"function"!=typeof Array.prototype.reduce&&(Array.prototype.reduce=function(callback,opt_initialValue){"use strict";if(null==this)throw new TypeError("Array.prototype.reduce called on null or undefined");if("function"!=typeof callback)throw new TypeError(callback+" is not a function");var index,value,length=this.length>>>0,isValueSet=!1;for(1<arguments.length&&(value=opt_initialValue,isValueSet=!0),index=0;length>index;++index)this.hasOwnProperty(index)&&(isValueSet?value=callback(value,this[index],index,this):(value=this[index],isValueSet=!0));if(!isValueSet)throw new TypeError("Reduce of empty array with no initial value");return value}),numeral.fn=Numeral.prototype={clone:function(){return numeral(this)},format:function(inputString,roundingFunction,currencySymbol){return formatNumeral(this,inputString||defaultFormat,void 0!==roundingFunction?roundingFunction:Math.round,currencySymbol||null)},unformat:function(inputString){return"[object Number]"===Object.prototype.toString.call(inputString)?inputString:unformatNumeral(this,inputString||defaultFormat)},value:function(){return this._value},valueOf:function(){return this._value},set:function(value){return this._value=Number(value),this},add:function(value){var corrFactor=correctionFactor.call(null,this._value,value);function cback(accum,curr,currI,O){return accum+corrFactor*curr}return this._value=[this._value,value].reduce(cback,0)/corrFactor,this},subtract:function(value){var corrFactor=correctionFactor.call(null,this._value,value);function cback(accum,curr,currI,O){return accum-corrFactor*curr}return this._value=[value].reduce(cback,this._value*corrFactor)/corrFactor,this},multiply:function(value){function cback(accum,curr,currI,O){var corrFactor=correctionFactor(accum,curr);return accum*corrFactor*(curr*corrFactor)/(corrFactor*corrFactor)}return this._value=[this._value,value].reduce(cback,1),this},divide:function(value){function cback(accum,curr,currI,O){var corrFactor=correctionFactor(accum,curr);return accum*corrFactor/(curr*corrFactor)}return this._value=[this._value,value].reduce(cback),this},difference:function(value){return Math.abs(numeral(this._value).subtract(value).value())}},hasModule&&(module.exports=numeral),"undefined"==typeof ender&&(this.numeral=numeral),"function"==typeof define&&define.amd&&define([],function(){return numeral})}).call(this);
(function($,app){$(document).ready(function(){var firstTableId='',firstTableViewId='',firstTable='',firstTableWrapper='',firstTableFirstRow='';$('.supsystic-table').each(function(){app.initializeTable(this,app.showTable,function(table){if(table.is(':visible')){calculateImages(table)}else{table.data('isVisible',setInterval(function(){if(table.is(':visible')){clearInterval(table.data('isVisible'));calculateImages(table)}
if($('.size-item').length>0){$('.size-item').slick('setPosition')}},250))}
if(table.data('align-by-first-table')){firstTableId=firstTableId||$('.supsystic-table:first').data('id');firstTable=firstTable||$('#supsystic-table-'+firstTableId);firstTableViewId=firstTable.data('view-id');firstTableWrapper=firstTableWrapper||firstTable.parents('#supsystic-table-'+firstTableViewId);firstTableFirstRow=firstTable.data('head')?firstTable.find('thead tr:first-child th'):firstTable.find('tbody tr:first-child td');if(firstTableViewId!=table.data('view-id')){var currentTableWrapper=table.parents('#supsystic-table-'+table.data('view-id'));currentTableWrapper.css({width:firstTableWrapper.get(0).style.width});table.css({width:firstTable.get(0).style.width});currentTableWrapper.find('.supsystic-table').each(function(){var curTable=$(this),curTableFirstRow=curTable.data('head')?curTable.find('thead tr:first-child th'):curTable.find('tbody tr:first-child td');$.each(curTableFirstRow,function(index,element){if(firstTableFirstRow[index]){$(this).width($(firstTableFirstRow[index]).get(0).style.width)}})})}}
$('.m-table-generic').each(function(){$(this).height(60)});$('.margin-table-generic-bottom').prev().addClass('last-m-table-generic').css({'margin-bottom':'30px','border-bottom':'1px solid #e6e7e8'})})})});function getOriginalImageSizes(img){var tempImage=new Image(),width,height;if('naturalWidth' in tempImage&&'naturalHeight' in tempImage){width=img.naturalWidth;height=img.naturalHeight}else{tempImage.src=img.src;width=tempImage.width;height=tempImage.height}
return{width:width,height:height}}
function calculateImages($table){var $images=$table.find('img');if($images.length>0&&/firefox|trident|msie/i.test(navigator.userAgent)){$images.hide();$.each($images,function(index,el){var $img=$(this),originalSizes=getOriginalImageSizes(this);if($img.closest('td, th').width()<originalSizes.width){$img.css('width','100%')}});$images.show()}}}(window.jQuery,window.supsystic.Tables));jQuery(document).ready(function($){if($('.size-item').length>0){$('.size-item').each(function(){var $this=$(this);var prev=$('#m-table-head').data('prev');var next=$('#m-table-head').data('next');$this.slick({nextArrow:'<button type="button" class="slick-next"><img src="'+next+'" /></button>',prevArrow:'<button type="button" class="slick-prev"><img src="'+prev+'" /></button>',});$this.on('afterChange',function(event,slick,currentSlide){var currentColum=currentSlide+2;$this.siblings().find('td').not('.col-0, .col-1').addClass('hide');$this.siblings().find('.col-'+currentColum).removeClass('hide')})})}});
/*!
 * jQuery UI Widget 1.11.4
 * https://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * https://jquery.org/license
 *
 * https://api.jqueryui.com/jQuery.widget/
 */
!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):a(jQuery)}(function(a){var b=0,c=Array.prototype.slice;return a.cleanData=function(b){return function(c){var d,e,f;for(f=0;null!=(e=c[f]);f++)try{d=a._data(e,"events"),d&&d.remove&&a(e).triggerHandler("remove")}catch(g){}b(c)}}(a.cleanData),a.widget=function(b,c,d){var e,f,g,h,i={},j=b.split(".")[0];return b=b.split(".")[1],e=j+"-"+b,d||(d=c,c=a.Widget),a.expr[":"][e.toLowerCase()]=function(b){return!!a.data(b,e)},a[j]=a[j]||{},f=a[j][b],g=a[j][b]=function(a,b){return this._createWidget?void(arguments.length&&this._createWidget(a,b)):new g(a,b)},a.extend(g,f,{version:d.version,_proto:a.extend({},d),_childConstructors:[]}),h=new c,h.options=a.widget.extend({},h.options),a.each(d,function(b,d){return a.isFunction(d)?void(i[b]=function(){var a=function(){return c.prototype[b].apply(this,arguments)},e=function(a){return c.prototype[b].apply(this,a)};return function(){var b,c=this._super,f=this._superApply;return this._super=a,this._superApply=e,b=d.apply(this,arguments),this._super=c,this._superApply=f,b}}()):void(i[b]=d)}),g.prototype=a.widget.extend(h,{widgetEventPrefix:f?h.widgetEventPrefix||b:b},i,{constructor:g,namespace:j,widgetName:b,widgetFullName:e}),f?(a.each(f._childConstructors,function(b,c){var d=c.prototype;a.widget(d.namespace+"."+d.widgetName,g,c._proto)}),delete f._childConstructors):c._childConstructors.push(g),a.widget.bridge(b,g),g},a.widget.extend=function(b){for(var d,e,f=c.call(arguments,1),g=0,h=f.length;g<h;g++)for(d in f[g])e=f[g][d],f[g].hasOwnProperty(d)&&void 0!==e&&(a.isPlainObject(e)?b[d]=a.isPlainObject(b[d])?a.widget.extend({},b[d],e):a.widget.extend({},e):b[d]=e);return b},a.widget.bridge=function(b,d){var e=d.prototype.widgetFullName||b;a.fn[b]=function(f){var g="string"==typeof f,h=c.call(arguments,1),i=this;return g?this.each(function(){var c,d=a.data(this,e);return"instance"===f?(i=d,!1):d?a.isFunction(d[f])&&"_"!==f.charAt(0)?(c=d[f].apply(d,h),c!==d&&void 0!==c?(i=c&&c.jquery?i.pushStack(c.get()):c,!1):void 0):a.error("no such method '"+f+"' for "+b+" widget instance"):a.error("cannot call methods on "+b+" prior to initialization; attempted to call method '"+f+"'")}):(h.length&&(f=a.widget.extend.apply(null,[f].concat(h))),this.each(function(){var b=a.data(this,e);b?(b.option(f||{}),b._init&&b._init()):a.data(this,e,new d(f,this))})),i}},a.Widget=function(){},a.Widget._childConstructors=[],a.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(c,d){d=a(d||this.defaultElement||this)[0],this.element=a(d),this.uuid=b++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=a(),this.hoverable=a(),this.focusable=a(),d!==this&&(a.data(d,this.widgetFullName,this),this._on(!0,this.element,{remove:function(a){a.target===d&&this.destroy()}}),this.document=a(d.style?d.ownerDocument:d.document||d),this.window=a(this.document[0].defaultView||this.document[0].parentWindow)),this.options=a.widget.extend({},this.options,this._getCreateOptions(),c),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:a.noop,_getCreateEventData:a.noop,_create:a.noop,_init:a.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(a.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:a.noop,widget:function(){return this.element},option:function(b,c){var d,e,f,g=b;if(0===arguments.length)return a.widget.extend({},this.options);if("string"==typeof b)if(g={},d=b.split("."),b=d.shift(),d.length){for(e=g[b]=a.widget.extend({},this.options[b]),f=0;f<d.length-1;f++)e[d[f]]=e[d[f]]||{},e=e[d[f]];if(b=d.pop(),1===arguments.length)return void 0===e[b]?null:e[b];e[b]=c}else{if(1===arguments.length)return void 0===this.options[b]?null:this.options[b];g[b]=c}return this._setOptions(g),this},_setOptions:function(a){var b;for(b in a)this._setOption(b,a[b]);return this},_setOption:function(a,b){return this.options[a]=b,"disabled"===a&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!b),b&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(b,c,d){var e,f=this;"boolean"!=typeof b&&(d=c,c=b,b=!1),d?(c=e=a(c),this.bindings=this.bindings.add(c)):(d=c,c=this.element,e=this.widget()),a.each(d,function(d,g){function h(){if(b||f.options.disabled!==!0&&!a(this).hasClass("ui-state-disabled"))return("string"==typeof g?f[g]:g).apply(f,arguments)}"string"!=typeof g&&(h.guid=g.guid=g.guid||h.guid||a.guid++);var i=d.match(/^([\w:-]*)\s*(.*)$/),j=i[1]+f.eventNamespace,k=i[2];k?e.delegate(k,j,h):c.bind(j,h)})},_off:function(b,c){c=(c||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,b.unbind(c).undelegate(c),this.bindings=a(this.bindings.not(b).get()),this.focusable=a(this.focusable.not(b).get()),this.hoverable=a(this.hoverable.not(b).get())},_delay:function(a,b){function c(){return("string"==typeof a?d[a]:a).apply(d,arguments)}var d=this;return setTimeout(c,b||0)},_hoverable:function(b){this.hoverable=this.hoverable.add(b),this._on(b,{mouseenter:function(b){a(b.currentTarget).addClass("ui-state-hover")},mouseleave:function(b){a(b.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(b){this.focusable=this.focusable.add(b),this._on(b,{focusin:function(b){a(b.currentTarget).addClass("ui-state-focus")},focusout:function(b){a(b.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(b,c,d){var e,f,g=this.options[b];if(d=d||{},c=a.Event(c),c.type=(b===this.widgetEventPrefix?b:this.widgetEventPrefix+b).toLowerCase(),c.target=this.element[0],f=c.originalEvent)for(e in f)e in c||(c[e]=f[e]);return this.element.trigger(c,d),!(a.isFunction(g)&&g.apply(this.element[0],[c].concat(d))===!1||c.isDefaultPrevented())}},a.each({show:"fadeIn",hide:"fadeOut"},function(b,c){a.Widget.prototype["_"+b]=function(d,e,f){"string"==typeof e&&(e={effect:e});var g,h=e?e===!0||"number"==typeof e?c:e.effect||c:b;e=e||{},"number"==typeof e&&(e={duration:e}),g=!a.isEmptyObject(e),e.complete=f,e.delay&&d.delay(e.delay),g&&a.effects&&a.effects.effect[h]?d[b](e):h!==b&&d[h]?d[h](e.duration,e.easing,f):d.queue(function(c){a(this)[b](),f&&f.call(d[0]),c()})}}),a.widget});
/*!
 * jQuery UI Effects 1.11.4
 * https://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * https://jquery.org/license
 *
 * https://api.jqueryui.com/category/effects-core/
 */
!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):a(jQuery)}(function(a){var b="ui-effects-",c=a;/*!
 * jQuery Color Animations v2.1.2
 * https://github.com/jquery/jquery-color
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * https://jquery.org/license
 *
 * Date: Wed Jan 16 08:47:09 2013 -0600
 */
return a.effects={effect:{}},function(a,b){function c(a,b,c){var d=l[b.type]||{};return null==a?c||!b.def?null:b.def:(a=d.floor?~~a:parseFloat(a),isNaN(a)?b.def:d.mod?(a+d.mod)%d.mod:0>a?0:d.max<a?d.max:a)}function d(b){var c=j(),d=c._rgba=[];return b=b.toLowerCase(),o(i,function(a,e){var f,g=e.re.exec(b),h=g&&e.parse(g),i=e.space||"rgba";if(h)return f=c[i](h),c[k[i].cache]=f[k[i].cache],d=c._rgba=f._rgba,!1}),d.length?("0,0,0,0"===d.join()&&a.extend(d,f.transparent),c):f[b]}function e(a,b,c){return c=(c+1)%1,6*c<1?a+(b-a)*c*6:2*c<1?b:3*c<2?a+(b-a)*(2/3-c)*6:a}var f,g="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",h=/^([\-+])=\s*(\d+\.?\d*)/,i=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(a){return[a[1],a[2],a[3],a[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(a){return[2.55*a[1],2.55*a[2],2.55*a[3],a[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(a){return[a[1],a[2]/100,a[3]/100,a[4]]}}],j=a.Color=function(b,c,d,e){return new a.Color.fn.parse(b,c,d,e)},k={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},l={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},m=j.support={},n=a("<p>")[0],o=a.each;n.style.cssText="background-color:rgba(1,1,1,.5)",m.rgba=n.style.backgroundColor.indexOf("rgba")>-1,o(k,function(a,b){b.cache="_"+a,b.props.alpha={idx:3,type:"percent",def:1}}),j.fn=a.extend(j.prototype,{parse:function(e,g,h,i){if(e===b)return this._rgba=[null,null,null,null],this;(e.jquery||e.nodeType)&&(e=a(e).css(g),g=b);var l=this,m=a.type(e),n=this._rgba=[];return g!==b&&(e=[e,g,h,i],m="array"),"string"===m?this.parse(d(e)||f._default):"array"===m?(o(k.rgba.props,function(a,b){n[b.idx]=c(e[b.idx],b)}),this):"object"===m?(e instanceof j?o(k,function(a,b){e[b.cache]&&(l[b.cache]=e[b.cache].slice())}):o(k,function(b,d){var f=d.cache;o(d.props,function(a,b){if(!l[f]&&d.to){if("alpha"===a||null==e[a])return;l[f]=d.to(l._rgba)}l[f][b.idx]=c(e[a],b,!0)}),l[f]&&a.inArray(null,l[f].slice(0,3))<0&&(l[f][3]=1,d.from&&(l._rgba=d.from(l[f])))}),this):void 0},is:function(a){var b=j(a),c=!0,d=this;return o(k,function(a,e){var f,g=b[e.cache];return g&&(f=d[e.cache]||e.to&&e.to(d._rgba)||[],o(e.props,function(a,b){if(null!=g[b.idx])return c=g[b.idx]===f[b.idx]})),c}),c},_space:function(){var a=[],b=this;return o(k,function(c,d){b[d.cache]&&a.push(c)}),a.pop()},transition:function(a,b){var d=j(a),e=d._space(),f=k[e],g=0===this.alpha()?j("transparent"):this,h=g[f.cache]||f.to(g._rgba),i=h.slice();return d=d[f.cache],o(f.props,function(a,e){var f=e.idx,g=h[f],j=d[f],k=l[e.type]||{};null!==j&&(null===g?i[f]=j:(k.mod&&(j-g>k.mod/2?g+=k.mod:g-j>k.mod/2&&(g-=k.mod)),i[f]=c((j-g)*b+g,e)))}),this[e](i)},blend:function(b){if(1===this._rgba[3])return this;var c=this._rgba.slice(),d=c.pop(),e=j(b)._rgba;return j(a.map(c,function(a,b){return(1-d)*e[b]+d*a}))},toRgbaString:function(){var b="rgba(",c=a.map(this._rgba,function(a,b){return null==a?b>2?1:0:a});return 1===c[3]&&(c.pop(),b="rgb("),b+c.join()+")"},toHslaString:function(){var b="hsla(",c=a.map(this.hsla(),function(a,b){return null==a&&(a=b>2?1:0),b&&b<3&&(a=Math.round(100*a)+"%"),a});return 1===c[3]&&(c.pop(),b="hsl("),b+c.join()+")"},toHexString:function(b){var c=this._rgba.slice(),d=c.pop();return b&&c.push(~~(255*d)),"#"+a.map(c,function(a){return a=(a||0).toString(16),1===a.length?"0"+a:a}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),j.fn.parse.prototype=j.fn,k.hsla.to=function(a){if(null==a[0]||null==a[1]||null==a[2])return[null,null,null,a[3]];var b,c,d=a[0]/255,e=a[1]/255,f=a[2]/255,g=a[3],h=Math.max(d,e,f),i=Math.min(d,e,f),j=h-i,k=h+i,l=.5*k;return b=i===h?0:d===h?60*(e-f)/j+360:e===h?60*(f-d)/j+120:60*(d-e)/j+240,c=0===j?0:l<=.5?j/k:j/(2-k),[Math.round(b)%360,c,l,null==g?1:g]},k.hsla.from=function(a){if(null==a[0]||null==a[1]||null==a[2])return[null,null,null,a[3]];var b=a[0]/360,c=a[1],d=a[2],f=a[3],g=d<=.5?d*(1+c):d+c-d*c,h=2*d-g;return[Math.round(255*e(h,g,b+1/3)),Math.round(255*e(h,g,b)),Math.round(255*e(h,g,b-1/3)),f]},o(k,function(d,e){var f=e.props,g=e.cache,i=e.to,k=e.from;j.fn[d]=function(d){if(i&&!this[g]&&(this[g]=i(this._rgba)),d===b)return this[g].slice();var e,h=a.type(d),l="array"===h||"object"===h?d:arguments,m=this[g].slice();return o(f,function(a,b){var d=l["object"===h?a:b.idx];null==d&&(d=m[b.idx]),m[b.idx]=c(d,b)}),k?(e=j(k(m)),e[g]=m,e):j(m)},o(f,function(b,c){j.fn[b]||(j.fn[b]=function(e){var f,g=a.type(e),i="alpha"===b?this._hsla?"hsla":"rgba":d,j=this[i](),k=j[c.idx];return"undefined"===g?k:("function"===g&&(e=e.call(this,k),g=a.type(e)),null==e&&c.empty?this:("string"===g&&(f=h.exec(e),f&&(e=k+parseFloat(f[2])*("+"===f[1]?1:-1))),j[c.idx]=e,this[i](j)))})})}),j.hook=function(b){var c=b.split(" ");o(c,function(b,c){a.cssHooks[c]={set:function(b,e){var f,g,h="";if("transparent"!==e&&("string"!==a.type(e)||(f=d(e)))){if(e=j(f||e),!m.rgba&&1!==e._rgba[3]){for(g="backgroundColor"===c?b.parentNode:b;(""===h||"transparent"===h)&&g&&g.style;)try{h=a.css(g,"backgroundColor"),g=g.parentNode}catch(i){}e=e.blend(h&&"transparent"!==h?h:"_default")}e=e.toRgbaString()}try{b.style[c]=e}catch(i){}}},a.fx.step[c]=function(b){b.colorInit||(b.start=j(b.elem,c),b.end=j(b.end),b.colorInit=!0),a.cssHooks[c].set(b.elem,b.start.transition(b.end,b.pos))}})},j.hook(g),a.cssHooks.borderColor={expand:function(a){var b={};return o(["Top","Right","Bottom","Left"],function(c,d){b["border"+d+"Color"]=a}),b}},f=a.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(c),function(){function b(b){var c,d,e=b.ownerDocument.defaultView?b.ownerDocument.defaultView.getComputedStyle(b,null):b.currentStyle,f={};if(e&&e.length&&e[0]&&e[e[0]])for(d=e.length;d--;)c=e[d],"string"==typeof e[c]&&(f[a.camelCase(c)]=e[c]);else for(c in e)"string"==typeof e[c]&&(f[c]=e[c]);return f}function d(b,c){var d,e,g={};for(d in c)e=c[d],b[d]!==e&&(f[d]||!a.fx.step[d]&&isNaN(parseFloat(e))||(g[d]=e));return g}var e=["add","remove","toggle"],f={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};a.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(b,d){a.fx.step[d]=function(a){("none"!==a.end&&!a.setAttr||1===a.pos&&!a.setAttr)&&(c.style(a.elem,d,a.end),a.setAttr=!0)}}),a.fn.addBack||(a.fn.addBack=function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}),a.effects.animateClass=function(c,f,g,h){var i=a.speed(f,g,h);return this.queue(function(){var f,g=a(this),h=g.attr("class")||"",j=i.children?g.find("*").addBack():g;j=j.map(function(){var c=a(this);return{el:c,start:b(this)}}),f=function(){a.each(e,function(a,b){c[b]&&g[b+"Class"](c[b])})},f(),j=j.map(function(){return this.end=b(this.el[0]),this.diff=d(this.start,this.end),this}),g.attr("class",h),j=j.map(function(){var b=this,c=a.Deferred(),d=a.extend({},i,{queue:!1,complete:function(){c.resolve(b)}});return this.el.animate(this.diff,d),c.promise()}),a.when.apply(a,j.get()).done(function(){f(),a.each(arguments,function(){var b=this.el;a.each(this.diff,function(a){b.css(a,"")})}),i.complete.call(g[0])})})},a.fn.extend({addClass:function(b){return function(c,d,e,f){return d?a.effects.animateClass.call(this,{add:c},d,e,f):b.apply(this,arguments)}}(a.fn.addClass),removeClass:function(b){return function(c,d,e,f){return arguments.length>1?a.effects.animateClass.call(this,{remove:c},d,e,f):b.apply(this,arguments)}}(a.fn.removeClass),toggleClass:function(b){return function(c,d,e,f,g){return"boolean"==typeof d||void 0===d?e?a.effects.animateClass.call(this,d?{add:c}:{remove:c},e,f,g):b.apply(this,arguments):a.effects.animateClass.call(this,{toggle:c},d,e,f)}}(a.fn.toggleClass),switchClass:function(b,c,d,e,f){return a.effects.animateClass.call(this,{add:c,remove:b},d,e,f)}})}(),function(){function c(b,c,d,e){return a.isPlainObject(b)&&(c=b,b=b.effect),b={effect:b},null==c&&(c={}),a.isFunction(c)&&(e=c,d=null,c={}),("number"==typeof c||a.fx.speeds[c])&&(e=d,d=c,c={}),a.isFunction(d)&&(e=d,d=null),c&&a.extend(b,c),d=d||c.duration,b.duration=a.fx.off?0:"number"==typeof d?d:d in a.fx.speeds?a.fx.speeds[d]:a.fx.speeds._default,b.complete=e||c.complete,b}function d(b){return!(b&&"number"!=typeof b&&!a.fx.speeds[b])||("string"==typeof b&&!a.effects.effect[b]||(!!a.isFunction(b)||"object"==typeof b&&!b.effect))}a.extend(a.effects,{version:"1.11.4",save:function(a,c){for(var d=0;d<c.length;d++)null!==c[d]&&a.data(b+c[d],a[0].style[c[d]])},restore:function(a,c){var d,e;for(e=0;e<c.length;e++)null!==c[e]&&(d=a.data(b+c[e]),void 0===d&&(d=""),a.css(c[e],d))},setMode:function(a,b){return"toggle"===b&&(b=a.is(":hidden")?"show":"hide"),b},getBaseline:function(a,b){var c,d;switch(a[0]){case"top":c=0;break;case"middle":c=.5;break;case"bottom":c=1;break;default:c=a[0]/b.height}switch(a[1]){case"left":d=0;break;case"center":d=.5;break;case"right":d=1;break;default:d=a[1]/b.width}return{x:d,y:c}},createWrapper:function(b){if(b.parent().is(".ui-effects-wrapper"))return b.parent();var c={width:b.outerWidth(!0),height:b.outerHeight(!0),"float":b.css("float")},d=a("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),e={width:b.width(),height:b.height()},f=document.activeElement;try{f.id}catch(g){f=document.body}return b.wrap(d),(b[0]===f||a.contains(b[0],f))&&a(f).focus(),d=b.parent(),"static"===b.css("position")?(d.css({position:"relative"}),b.css({position:"relative"})):(a.extend(c,{position:b.css("position"),zIndex:b.css("z-index")}),a.each(["top","left","bottom","right"],function(a,d){c[d]=b.css(d),isNaN(parseInt(c[d],10))&&(c[d]="auto")}),b.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),b.css(e),d.css(c).show()},removeWrapper:function(b){var c=document.activeElement;return b.parent().is(".ui-effects-wrapper")&&(b.parent().replaceWith(b),(b[0]===c||a.contains(b[0],c))&&a(c).focus()),b},setTransition:function(b,c,d,e){return e=e||{},a.each(c,function(a,c){var f=b.cssUnit(c);f[0]>0&&(e[c]=f[0]*d+f[1])}),e}}),a.fn.extend({effect:function(){function b(b){function c(){a.isFunction(f)&&f.call(e[0]),a.isFunction(b)&&b()}var e=a(this),f=d.complete,h=d.mode;(e.is(":hidden")?"hide"===h:"show"===h)?(e[h](),c()):g.call(e[0],d,c)}var d=c.apply(this,arguments),e=d.mode,f=d.queue,g=a.effects.effect[d.effect];return a.fx.off||!g?e?this[e](d.duration,d.complete):this.each(function(){d.complete&&d.complete.call(this)}):f===!1?this.each(b):this.queue(f||"fx",b)},show:function(a){return function(b){if(d(b))return a.apply(this,arguments);var e=c.apply(this,arguments);return e.mode="show",this.effect.call(this,e)}}(a.fn.show),hide:function(a){return function(b){if(d(b))return a.apply(this,arguments);var e=c.apply(this,arguments);return e.mode="hide",this.effect.call(this,e)}}(a.fn.hide),toggle:function(a){return function(b){if(d(b)||"boolean"==typeof b)return a.apply(this,arguments);var e=c.apply(this,arguments);return e.mode="toggle",this.effect.call(this,e)}}(a.fn.toggle),cssUnit:function(b){var c=this.css(b),d=[];return a.each(["em","px","%","pt"],function(a,b){c.indexOf(b)>0&&(d=[parseFloat(c),b])}),d}})}(),function(){var b={};a.each(["Quad","Cubic","Quart","Quint","Expo"],function(a,c){b[c]=function(b){return Math.pow(b,a+2)}}),a.extend(b,{Sine:function(a){return 1-Math.cos(a*Math.PI/2)},Circ:function(a){return 1-Math.sqrt(1-a*a)},Elastic:function(a){return 0===a||1===a?a:-Math.pow(2,8*(a-1))*Math.sin((80*(a-1)-7.5)*Math.PI/15)},Back:function(a){return a*a*(3*a-2)},Bounce:function(a){for(var b,c=4;a<((b=Math.pow(2,--c))-1)/11;);return 1/Math.pow(4,3-c)-7.5625*Math.pow((3*b-2)/22-a,2)}}),a.each(b,function(b,c){a.easing["easeIn"+b]=c,a.easing["easeOut"+b]=function(a){return 1-c(1-a)},a.easing["easeInOut"+b]=function(a){return a<.5?c(2*a)/2:1-c(a*-2+2)/2}})}(),a.effects});
/*!
 * jQuery UI Effects Shake 1.11.4
 * https://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * https://jquery.org/license
 *
 * https://api.jqueryui.com/shake-effect/
 */
!function(a){"function"==typeof define&&define.amd?define(["jquery","./effect"],a):a(jQuery)}(function(a){return a.effects.effect.shake=function(b,c){var d,e=a(this),f=["position","top","bottom","left","right","height","width"],g=a.effects.setMode(e,b.mode||"effect"),h=b.direction||"left",i=b.distance||20,j=b.times||3,k=2*j+1,l=Math.round(b.duration/k),m="up"===h||"down"===h?"top":"left",n="up"===h||"left"===h,o={},p={},q={},r=e.queue(),s=r.length;for(a.effects.save(e,f),e.show(),a.effects.createWrapper(e),o[m]=(n?"-=":"+=")+i,p[m]=(n?"+=":"-=")+2*i,q[m]=(n?"-=":"+=")+2*i,e.animate(o,l,b.easing),d=1;d<j;d++)e.animate(p,l,b.easing).animate(q,l,b.easing);e.animate(p,l,b.easing).animate(o,l/2,b.easing).queue(function(){"hide"===g&&e.hide(),a.effects.restore(e,f),a.effects.removeWrapper(e),c()}),s>1&&r.splice.apply(r,[1,0].concat(r.splice(s,k+1))),e.dequeue()}});
var c,a=new Array,rated=!1;function set_total_value(form_id){var FormCurrency=eval("FormCurrency_"+form_id);if(0!=jQuery(".paypal_total"+form_id).length){var div_paypal_show=jQuery(".paypal_total"+form_id),div_paypal_products=jQuery(".paypal_products"+form_id),div_paypal_tax=jQuery(".paypal_tax"+form_id),input_paypal_total=jQuery(".input_paypal_total"+form_id),total=0,total_shipping=0;div_paypal_products.html(""),div_paypal_tax.html(""),n=parseInt(jQuery("#counter"+form_id).val()),jQuery("#form"+form_id+" div[type='type_paypal_checkbox'], #form"+form_id+" div[type='type_paypal_radio']").each(function(){id=jQuery(this).parent().attr("wdid"),jQuery(this).find("input:checked").each(function(){label=jQuery("label[for='"+jQuery(this).attr("id")+"']").html(),span_value=FormCurrency+jQuery(this).val()+(0!=jQuery("#wdform_"+id+"_element_quantity"+form_id).length?" x"+jQuery("#wdform_"+id+"_element_quantity"+form_id).val():""),total+=jQuery(this).val()*parseInt(0!=jQuery("#wdform_"+id+"_element_quantity"+form_id).length?jQuery("#wdform_"+id+"_element_quantity"+form_id).val():1),div_paypal_products.html(div_paypal_products.html()+"<div>"+label+" - "+span_value+"</div>")})}),jQuery("#form"+form_id+" div[type='type_paypal_shipping']").each(function(){id=jQuery(this).parent().attr("wdid"),jQuery(this).find("input:checked").each(function(){label=jQuery("label[for='"+jQuery(this).attr("id")+"']").html(),span_value=FormCurrency+jQuery(this).val()+(0!=jQuery("#wdform_"+id+"_element_quantity"+form_id).length?" x"+jQuery("#wdform_"+id+"_element_quantity"+form_id).val():""),total_shipping+=jQuery(this).val()*parseInt(0!=jQuery("#wdform_"+id+"_element_quantity"+form_id).length?jQuery("#wdform_"+id+"_element_quantity"+form_id).val():1),div_paypal_products.html(div_paypal_products.html()+"<div>"+label+" - "+span_value+"</div>")})}),jQuery("#form"+form_id+" div[type='type_paypal_select']").each(function(){id=jQuery(this).parent().attr("wdid"),""!=jQuery(this).find("select").val()&&(label=jQuery(this).find("select option:selected").html(),span_value=FormCurrency+jQuery(this).find("select").val()+(0!=jQuery("#wdform_"+id+"_element_quantity"+form_id).length?" x"+jQuery("#wdform_"+id+"_element_quantity"+form_id).val():""),total+=jQuery(this).find("select").val()*parseInt(0!=jQuery("#wdform_"+id+"_element_quantity"+form_id).length?jQuery("#wdform_"+id+"_element_quantity"+form_id).val():1),div_paypal_products.html(div_paypal_products.html()+"<div>"+label+" - "+span_value+"</div>"))}),jQuery("#form"+form_id+" div[type='type_paypal_price']").each(function(){id=jQuery(this).parent().attr("wdid"),label=jQuery(this).find(".wdform-label").html(),cents="00",dollars="0",""!=jQuery("#wdform_"+id+"_element_dollars"+form_id).val()&&(dollars=jQuery("#wdform_"+id+"_element_dollars"+form_id).val()),""!=jQuery("#wdform_"+id+"_element_cents"+form_id).val()&&(1==jQuery("#wdform_"+id+"_element_cents"+form_id).val().length?cents="0"+jQuery("#wdform_"+id+"_element_cents"+form_id).val():cents=jQuery("#wdform_"+id+"_element_cents"+form_id).val(),span_value=FormCurrency+dollars+"."+cents,total+=parseFloat(dollars+"."+cents),div_paypal_products.html(div_paypal_products.html()+"<div>"+label+" - "+span_value+"</div>"))}),jQuery("#form"+form_id+" div[type='type_paypal_price_new']").each(function(){id=jQuery(this).parent().attr("wdid"),label=jQuery(this).find(".wdform-label").html(),dollars="0",""!=jQuery("#wdform_"+id+"_element"+form_id).val()&&(dollars=jQuery("#wdform_"+id+"_element"+form_id).val()),span_value=FormCurrency+dollars,total+=parseFloat(dollars),div_paypal_products.html(div_paypal_products.html()+"<div>"+label+" - "+span_value+"</div>")});var FormPaypalTax=eval("FormPaypalTax_"+form_id);0!=FormPaypalTax&&div_paypal_tax.html("Tax: "+FormCurrency+(total*FormPaypalTax/100).toFixed(2)),jQuery(".div_total"+form_id).html(FormCurrency+(parseFloat((total*(1+FormPaypalTax/100)).toFixed(2))+total_shipping).toFixed(2)),input_paypal_total.val(FormCurrency+(parseFloat((total*(1+FormPaypalTax/100)).toFixed(2))+total_shipping).toFixed(2))}}function check_isnum_or_minus(e){var chCode1=e.which||e.keyCode;return 39!=chCode1&&!(chCode1>31&&(chCode1<48||chCode1>57)&&46!=chCode1&&45!=chCode1&&(chCode1<35||chCode1>40))}function sum_grading_values(num,form_id){for(var sum=0,k=0;k<100;k++)document.getElementById(num+"_element"+form_id+"_"+k)&&document.getElementById(num+"_element"+form_id+"_"+k).value&&(sum+=parseInt(document.getElementById(num+"_element"+form_id+"_"+k).value)),document.getElementById(num+"_total_element"+form_id)&&(sum>document.getElementById(num+"_total_element"+form_id).innerHTML?document.getElementById(num+"_text_element"+form_id).innerHTML=" "+fm_objectL10n.fm_grading_text+" "+document.getElementById(num+"_total_element"+form_id).innerHTML:document.getElementById(num+"_text_element"+form_id).innerHTML="");document.getElementById(num+"_sum_element"+form_id)&&(document.getElementById(num+"_sum_element"+form_id).innerHTML=sum)}function change_src(id,el_id,form_id,color){if(0==rated)for(var j=0;j<=id;j++)document.getElementById(el_id+"_star_"+j+"_"+form_id).src=fm_objectL10n.plugin_url+"/images/star_"+color+".png"}function reset_src(id,el_id,form_id){if(0==rated)for(var j=0;j<=id;j++)document.getElementById(el_id+"_star_"+j+"_"+form_id).src=fm_objectL10n.plugin_url+"/images/star.png"}function select_star_rating(id,el_id,form_id,color,star_amount){rated=!0;for(var j=0;j<=id;j++)document.getElementById(el_id+"_star_"+j+"_"+form_id).src=fm_objectL10n.plugin_url+"/images/star_"+color+".png";for(var k=id+1;k<=star_amount-1;k++)document.getElementById(el_id+"_star_"+k+"_"+form_id).src=fm_objectL10n.plugin_url+"/images/star.png";document.getElementById(el_id+"_selected_star_amount"+form_id).value=id+1}function show_other_input(num,form_id){var element_other,parent_=jQuery(".form"+form_id+" [id^="+num+"_element"+form_id+'][other="1"]').parent().parent().parent(),elem_id=num.split("_")[1];if(jQuery("#"+num+"_other_input_div"+form_id).length<=0){var el_new_row=document.createElement("div");el_new_row.setAttribute("class","wd-flex wd-flex-row"),el_new_row.setAttribute("id",num+"_other_input_div"+form_id);var el_other_div=document.createElement("div");el_other_div.setAttribute("class","wd-other-input-field input-box"),el_other_div.setAttribute("style","margin-top: 5px;");var el_other=document.createElement("input");el_other.setAttribute("id",num+"_other_input"+form_id),el_other.setAttribute("name",num+"_other_input"+form_id),el_other.setAttribute("type","text"),el_other.setAttribute("class","wd-width-100 text-box"),el_other.setAttribute("onchange","other_input_change(this, '"+form_id+"', '"+elem_id+"')"),el_other.setAttribute("style","line-height: 15px"),el_other_div.appendChild(el_other),el_new_row.appendChild(el_other_div),parent_.append(el_new_row)}}function other_input_change(elem,form_id,wdid){""==jQuery(elem).val()?wd_is_filled(form_id,wdid):(jQuery("#form"+form_id+" #wd_required_"+wdid).remove(),jQuery("#form"+form_id+" div[wdid='"+wdid+"'] .wdform-label-section:first .error_label").removeClass("error_label"),jQuery("#form"+form_id+" div[wdid='"+wdid+"'] .wdform-element-section:first span.placeholder").removeClass("validation-error"),jQuery("#form"+form_id+" div[wdid='"+wdid+"'] .wdform-element-section:first div.input-box").removeClass("validation-failed"))}function removeOtherInput(id,form_id){jQuery("#wdform_"+id+"_other_input_div"+form_id).length>0?jQuery("#wdform_"+id+"_other_input_div"+form_id).remove():(jQuery("#form"+form_id+" div[wdid='"+id+"'] .wdform-label-section:first .error_label").removeClass("error_label"),jQuery("#form"+form_id+" div[wdid='"+id+"'] .wdform-element-section:first span.placeholder").removeClass("validation-error"),jQuery("#form"+form_id+" div[wdid='"+id+"'] .wdform-element-section:first div.input-box").removeClass("validation-failed"))}function check_isnum(e){var chCode1=e.which||e.keyCode;return-1!=jQuery.inArray(chCode1,[46,8,9,27,13,190])||!0===e.ctrlKey||chCode1>=35&&chCode1<39||45==chCode1||!(chCode1>31&&(chCode1<48||chCode1>57))}function captcha_refresh(id,genid){srcArr=document.getElementById(id+genid).src.split("&r="),document.getElementById(id+genid).src=srcArr[0]+"&r="+Math.floor(100*Math.random()),document.getElementById(id+"_input"+genid).value="",document.getElementById(id+genid).style.display="inline-block"}function set_checked(id,j,form_id){return jQuery("#"+id+"_element"+form_id+j).is(":checked")?jQuery("#"+id+"_element"+form_id+j).prop("checked",!1):jQuery("#"+id+"_element"+form_id+j).prop("checked",!0),checking=jQuery("#"+id+"_element"+form_id+j),!(checking.attr("other")&&1==checking.attr("other")&&!checking.is(":checked"))||(jQuery("#"+id+"_other_input_div"+form_id).length>0&&jQuery("#"+id+"_other_input_div"+form_id).remove(),!1)}function set_default(id,j,form_id){document.getElementById(id+"_other_input"+form_id)&&(document.getElementById(id+"_other_input"+form_id).parentNode.removeChild(document.getElementById(id+"_other_br"+form_id)),document.getElementById(id+"_other_input"+form_id).parentNode.removeChild(document.getElementById(id+"_other_input"+form_id)))}function add_0(that){1==jQuery(that).val().length&&jQuery(that).val("0"+jQuery(that).val())}function wd_validate(that,ids){if(!jQuery(that).is("input"))return!0;var error_message,reg_exp,value=jQuery(that).val(),id=jQuery(that).attr("id"),type=jQuery(that).data("valid-type"),form_id=jQuery(that).data("form-id"),wdid=jQuery(that).data("wdid");if(void 0===ids)var ids=jQuery(that).data("addiotional-fields");var cont_id="#form"+form_id+" div[wdid='"+wdid+"']",label_cont=jQuery(cont_id+" .wdform-label-section:first .wdform-label"),section_cont=jQuery(cont_id+" .wdform-element-section");switch(type){case"hour24":error_message=fm_objectL10n.time_validation,reg_exp=/^(0?[0-1]?[0-9]|2[0-3])?$/;break;case"hour12":error_message=fm_objectL10n.time_validation,reg_exp=/^(0?[0-9]|1[0-2])?$/;break;case"minute":case"second":error_message=fm_objectL10n.time_validation,reg_exp=/^([0-5]?[0-9])?$/;break;case"number":case"spinner":error_message=fm_objectL10n.number_validation,reg_exp=/^\-{0,1}\d+(.\d+){0,1}$/;break;case"day":error_message=fm_objectL10n.date_validation,reg_exp=/^(0?[0-2]?[0-9]|3[0-1])?$/;break;case"month":error_message=fm_objectL10n.date_validation,reg_exp=/^(0?[0-9]|1[0-2])?$/;break;case"year":error_message=fm_objectL10n.date_validation,reg_exp=/^([1-2]?[0-9]?[0-9]?[0-9])?$/}if(isValid=reg_exp.test(value),""==value&&(isValid=!0),isValid)for(var i in ids)if(isValid=wd_validate("#"+ids[i],""),!isValid)break;return jQuery("#check_email_"+wdid+"_"+form_id).remove(),isValid?(label_cont.removeClass("wd-error-label"),delete window["check_before_submit"+form_id][wdid+"_"+form_id]):(label_cont.addClass("wd-error-label"),window["check_before_submit"+form_id][wdid+"_"+form_id]=!1),isValid}function check_isnum_interval(e,x,from,to){var chCode1=e.which||e.keyCode;return-1!=jQuery.inArray(chCode1,[46,8,9,27,13,190])||!0===e.ctrlKey||chCode1>=35&&chCode1<39||!(chCode1>31&&(chCode1<48||chCode1>57))&&(val1=""+jQuery(x).val()+String.fromCharCode(chCode1),!(val1.length>2)&&("00"!=val1&&!(val1<from||val1>to)))}function wd_year_validation(that){var value=parseInt(jQuery(that).val()),form_id=jQuery(that).data("form-id"),wdid=jQuery(that).data("wdid"),start_year=parseInt(jQuery(that).attr("from")),end_year=parseInt(jQuery(that).attr("to")),cont_id="#form"+form_id+" div[wdid='"+wdid+"']",label_cont=jQuery(cont_id+" .wdform-label-section:first .wdform-label"),section_cont=jQuery(cont_id+" .wdform-element-section");if(value<start_year||value>end_year){var error_message=fm_objectL10n.year_validation.replace("%%start%%",start_year).replace("%%end%%",end_year);jQuery("#check_email_"+wdid+"_"+form_id).remove(),label_cont.addClass("wd-error-label"),window["check_before_submit"+form_id][wdid+"_"+form_id]=!1}}function destroyChildren(node){for(;node.firstChild;)node.removeChild(node.firstChild)}function generate_page_nav(id,form_id,form_view_count,form_view_max){setTimeout(function(){var td,td,td;if(form_view=id,page_nav=document.getElementById(form_id+"page_nav"+id),destroyChildren(page_nav),form_view_elemet=document.getElementById(form_id+"form_view"+id),remove_whitespace(form_view_elemet.parentNode.parentNode),display_none_form_views_all(form_id),generate_page_bar(id,form_id,form_view_count,form_view_max),form_view_elemet.parentNode.style.display="",(td=document.createElement("div")).setAttribute("valign","middle"),td.setAttribute("align","left"),td.style.display="table-cell",td.style.width="40%",page_nav.appendChild(td),form_view_elemet.parentNode.previousSibling&&form_view_elemet.parentNode.previousSibling.previousSibling&&("DIV"==form_view_elemet.parentNode.previousSibling.tagName?table=form_view_elemet.parentNode.previousSibling:"DIV"==form_view_elemet.parentNode.previousSibling.previousSibling.tagName?table=form_view_elemet.parentNode.previousSibling.previousSibling:table="none","none"!=table&&(table.firstChild.tagName||table.removeChild(table.firstChild),previous_title=form_view_elemet.getAttribute("previous_title"),previous_type=form_view_elemet.getAttribute("previous_type"),"text"==previous_type&&td.setAttribute("class","previous-page"),previous_class=form_view_elemet.getAttribute("previous_class"),previous_checkable=form_view_elemet.getAttribute("previous_checkable"),next_or_previous="previous",previous=make_pagebreak_button(next_or_previous,previous_title,previous_type,previous_class,previous_checkable,id,form_id,form_view_count,form_view_max),td.appendChild(previous))),(td=document.createElement("div")).setAttribute("id",form_id+"page_numbers"+form_view),td.setAttribute("valign","middle"),td.setAttribute("class","page-numbers"),td.setAttribute("align","center"),td.style.display="table-cell","true"==document.getElementById("fm-pages"+form_id).getAttribute("show_numbers")){for(k=0,j=1;j<=form_view_max;j++)document.getElementById(form_id+"form_view"+j)&&(k++,j==form_view&&(page_number=k));var cur=document.createElement("span");cur.setAttribute("class","page_numbers"),cur.innerHTML=page_number+"/"+k,td.appendChild(cur)}page_nav.appendChild(td),(td=document.createElement("div")).setAttribute("valign","middle"),td.setAttribute("align","right"),td.style.cssText="display:table-cell; width:40%; text-align:right;",page_nav.appendChild(td),not_next=!1,form_view_elemet.parentNode.nextSibling?("DIV"==form_view_elemet.parentNode.nextSibling.tagName&&"wdform-page-and-images"==form_view_elemet.parentNode.nextSibling.className?table=form_view_elemet.parentNode.nextSibling:form_view_elemet.parentNode.nextSibling.nextSibling&&"DIV"==form_view_elemet.parentNode.nextSibling.nextSibling.tagName?table=form_view_elemet.parentNode.nextSibling.nextSibling:table="none","none"!=table?(next_title=form_view_elemet.getAttribute("next_title"),next_type=form_view_elemet.getAttribute("next_type"),"text"==next_type&&td.setAttribute("class","next-page"),next_class=form_view_elemet.getAttribute("next_class"),next_checkable=form_view_elemet.getAttribute("next_checkable"),next_or_previous="next",next=make_pagebreak_button(next_or_previous,next_title,next_type,next_class,next_checkable,id,form_id,form_view_count,form_view_max),td.appendChild(next)):not_next=!0):not_next=!0,fm_initilize_form(form_id)},200)}function fm_initilize_form(form_id){jQuery("#form"+form_id+" div[type='type_map']").each(function(){for(id=jQuery(this).parent().attr("wdid"),if_gmap_init("wdform_"+id,form_id),q=0;q<20;q++)jQuery("#wdform_"+id+"_element"+form_id)[0].getAttribute("long"+q)&&(w_long=parseFloat(document.getElementById("wdform_"+id+"_element"+form_id).getAttribute("long"+q)),w_lat=parseFloat(document.getElementById("wdform_"+id+"_element"+form_id).getAttribute("lat"+q)),w_info=parseFloat(document.getElementById("wdform_"+id+"_element"+form_id).getAttribute("info"+q)),add_marker_on_map("wdform_"+id,q,w_long,w_lat,w_info,form_id,!1))}),jQuery("#form"+form_id+" div[type='type_mark_map']").each(function(){id=jQuery(this).parent().attr("wdid"),if_gmap_init("wdform_"+id,form_id),q=0,jQuery("#wdform_"+id+"_element"+form_id)[0].getAttribute("long"+q)&&(w_long=parseFloat(document.getElementById("wdform_"+id+"_element"+form_id).getAttribute("long"+q)),w_lat=parseFloat(document.getElementById("wdform_"+id+"_element"+form_id).getAttribute("lat"+q)),w_info=parseFloat(document.getElementById("wdform_"+id+"_element"+form_id).getAttribute("info"+q)),add_marker_on_map("wdform_"+id,q,w_long,w_lat,w_info,form_id,!0))}),jQuery(".wdform-element-section").each(function(){if("type_stripe"==jQuery(this).parent().parent().attr("type"))return!0;jQuery(this).parent()[0].style.width||0==parseInt(jQuery(this).width())||0==jQuery(this).parent().find(jQuery(".wdform-label-section")).length||"table-cell"==jQuery(this).css("display")&&("type_captcha"!=jQuery(this).parent().attr("type")?jQuery(this).parent().css("width",parseInt(jQuery(this).width())+parseInt(jQuery(this).parent().find(jQuery(".wdform-label-section"))[0].style.width)+15):jQuery(this).parent().css("width",2*parseInt(jQuery(this).parent().find(jQuery(".captcha_input"))[0].style.width)+50+parseInt(jQuery(this).parent().find(jQuery(".wdform-label-section"))[0].style.width)+15))})}function display_none_form_views_all(form_id){jQuery("#form"+form_id+" .wdform-page-and-images").css("display","none")}function generate_page_bar(form_view,form_id,form_view_count,form_view_max){if("steps"==document.getElementById("fm-pages"+form_id).getAttribute("type")?make_page_steps_front(form_view,form_id,form_view_count,form_view_max):"percentage"==document.getElementById("fm-pages"+form_id).getAttribute("type")?make_page_percentage_front(form_view,form_id,form_view_count,form_view_max):make_page_none_front(form_id),"show_numbers"==document.getElementById("fm-pages"+form_id).getAttribute("type")){if(td=document.getElementById(form_id+"page_numbers"+form_view),td){for(destroyChildren(td),k=0,j=1;j<=form_view_max;j++)document.getElementById(form_id+"form_view"+j)&&(k++,j==form_view&&(page_number=k));var cur=document.createElement("span");cur.setAttribute("class","page_numbers"),cur.innerHTML=page_number+"/"+k,td.appendChild(cur)}}else td=document.getElementById(form_id+"page_numbers"+form_view),td&&destroyChildren(document.getElementById(form_id+"page_numbers"+form_view))}function make_page_steps_front(form_view,form_id,form_view_count,form_view_max){for(destroyChildren(document.getElementById("fm-pages"+form_id)),show_title="true"==document.getElementById("fm-pages"+form_id).getAttribute("show_title"),next_checkable="true"==document.getElementById(form_id+"form_view"+form_view).getAttribute("next_checkable"),previous_checkable="true"==document.getElementById(form_id+"form_view"+form_view).getAttribute("previous_checkable"),k=0,j=1;j<=form_view_max;j++)document.getElementById(form_id+"form_view"+j)&&(document.getElementById(form_id+"form_view"+j).getAttribute("page_title")?w_pages=document.getElementById(form_id+"form_view"+j).getAttribute("page_title"):w_pages="",k++,page_number=document.createElement("span"),page_number.setAttribute("id","page_"+j),page_number.setAttribute("style","padding-left:20px;"),j<form_view&&(previous_checkable?page_number.setAttribute("onClick","if(fm_check("+form_view+", "+form_id+')) generate_page_nav("'+j+'", "'+form_id+'", "'+form_view_count+'", "'+form_view_max+'")'):page_number.setAttribute("onClick",'generate_page_nav("'+j+'", "'+form_id+'", "'+form_view_count+'", "'+form_view_max+'")')),j>form_view&&(next_checkable?page_number.setAttribute("onClick","if(fm_check("+form_view+", "+form_id+')) generate_page_nav("'+j+'", "'+form_id+'", "'+form_view_count+'", "'+form_view_max+'")'):page_number.setAttribute("onClick",'generate_page_nav("'+j+'", "'+form_id+'", "'+form_view_count+'", "'+form_view_max+'")')),j==form_view?page_number.setAttribute("class","page_active"):page_number.setAttribute("class","page_deactive"),show_title?page_number.innerHTML=w_pages:page_number.innerHTML=k,document.getElementById("fm-pages"+form_id).appendChild(page_number))}function make_page_percentage_front(form_view,form_id,form_view_count,form_view_max){destroyChildren(document.getElementById("fm-pages"+form_id)),show_title="true"==document.getElementById("fm-pages"+form_id).getAttribute("show_title");var div_parent=document.createElement("div");div_parent.setAttribute("class","page_percentage_deactive");var div=document.createElement("div");div.setAttribute("id","div_percentage"),div.setAttribute("class","page_percentage_active"),div.setAttribute("align","right");var div_arrow=document.createElement("div");div_arrow.setAttribute("class","wdform_percentage_arrow");var b=document.createElement("b");for(b.setAttribute("class","wdform_percentage_text"),div.appendChild(b),k=0,cur_page_title="",j=1;j<=form_view_max;j++)if(document.getElementById(form_id+"form_view"+j)&&(document.getElementById(form_id+"form_view"+j).getAttribute("page_title")?w_pages=document.getElementById(form_id+"form_view"+j).getAttribute("page_title"):w_pages="",k++,j==form_view)){if(show_title){var cur_page_title=document.createElement("div");cur_page_title.innerHTML=w_pages,cur_page_title.innerHTML=w_pages,cur_page_title.setAttribute("class","wdform_percentage_title")}page_number=k}b.innerHTML=Math.round((page_number-1)/k*100)+"%",div.style.width=(page_number-1)/k*100+"%",1==page_number&&(div_arrow.style.display="none"),div_parent.appendChild(div),div_parent.appendChild(div_arrow),cur_page_title&&div_parent.appendChild(cur_page_title),document.getElementById("fm-pages"+form_id).appendChild(div_parent)}function make_page_none_front(form_id){destroyChildren(document.getElementById("fm-pages"+form_id))}function make_pagebreak_button(next_or_previous,title,type,class_,checkable,id,form_id,form_view_count,form_view_max){switch(type){case"text":var element;return(element=document.createElement("div")).setAttribute("id","page_"+next_or_previous+"_"+id),element.setAttribute("class",class_),"true"==checkable?element.setAttribute("onClick","if(fm_check("+id+", "+form_id+")) page_"+next_or_previous+"("+id+","+form_id+","+form_view_count+","+form_view_max+")"):element.setAttribute("onClick","page_"+next_or_previous+"("+id+","+form_id+","+form_view_count+","+form_view_max+")"),element.innerHTML=title,element;case"img":var element;return(element=document.createElement("img")).setAttribute("id","page_"+next_or_previous+"_"+id),element.setAttribute("class",class_),"true"==checkable?element.setAttribute("onClick","if(fm_check("+id+", "+form_id+")) page_"+next_or_previous+"("+id+","+form_id+","+form_view_count+","+form_view_max+")"):element.setAttribute("onClick","page_"+next_or_previous+"("+id+","+form_id+","+form_view_count+","+form_view_max+")"),0==title.indexOf("http")?element.src=title:element.src=fm_objectL10n.plugin_url+"/"+title,element}}function form_maker_findPos(obj){var curtop=0;if(obj.offsetParent){do{curtop+=obj.offsetTop}while(obj=obj.offsetParent);return[curtop]}}function page_previous(id,form_id,form_view_count,form_view_max){form_view_elemet=document.getElementById(form_id+"form_view"+id),form_view_elemet.parentNode.previousSibling&&form_view_elemet.parentNode.previousSibling.previousSibling&&("DIV"==form_view_elemet.parentNode.previousSibling.tagName?table=form_view_elemet.parentNode.previousSibling:table=form_view_elemet.parentNode.previousSibling.previousSibling),table.firstChild.tagName||table.removeChild(table.firstChild),generate_page_nav(table.firstChild.id.replace(form_id+"form_view",""),form_id,form_view_count,form_view_max),form=jQuery("#form"+form_id),form.parent().hasClass("fm-scrollbox-form")||jQuery("html").animate({scrollTop:form.offset().top-150},500),jQuery(".step_item").html(id-1)}function page_next(id,form_id,form_view_count,form_view_max){if(form_view_elemet=document.getElementById(form_id+"form_view"+id),form_view_elemet.parentNode.nextSibling&&("DIV"==form_view_elemet.parentNode.nextSibling.tagName?table=form_view_elemet.parentNode.nextSibling:table=form_view_elemet.parentNode.nextSibling.nextSibling),!fm_check(0,form_id))return!1;table.firstChild.tagName||table.removeChild(table.firstChild),generate_page_nav(table.firstChild.id.replace(form_id+"form_view",""),form_id,form_view_count,form_view_max),form=jQuery("#form"+form_id),form.parent().hasClass("fm-scrollbox-form")||jQuery("html").animate({scrollTop:form.offset().top-150},500),jQuery(".step_item").html(id+1)}function getfileextension(filename,exten){if(0==filename.length)return!0;var dot=filename.lastIndexOf("."),extension=filename.substr(dot+1,filename.length);exten=exten.split(",");for(var j=0;j<exten.length;j++)if(exten[j]=exten[j].replace(/\./g,""),exten[j]=exten[j].replace(/ /g,""),extension.toLowerCase()==exten[j].toLowerCase())return!0;return!1}function reselect(select,addclass){addclass=void 0!==addclass?addclass:"",jQuery(select).wrap('<div class="sel-wrap '+addclass+'"/>');var sel_options="",selected_option=!1;jQuery(select).children("option").each(function(){jQuery(this).is(":selected")&&(selected_option=jQuery(this).index()),sel_options=sel_options+'<div class="sel-option" value="'+jQuery(this).val()+'">'+jQuery(this).html()+"</div>"}),w=jQuery(select)[0].style.width,"100%"==w?w="100%":w=jQuery(select).width()+32+"px";var sel_imul='<div class="sel-imul" style="width:'+w+'">                <div class="sel-selected">                    <div class="selected-text">'+jQuery(select).children("option").eq(selected_option).html()+'</div>                    <div class="sel-arraw"></div>                </div>                <div class="sel-options">'+sel_options+"</div>            </div>";jQuery(select).addClass("no-width"),jQuery(select).before(sel_imul)}jQuery(document).ready(function(){if(jQuery(".wd-datepicker").each(function(){jQuery(this).datepicker(),jQuery(this).datepicker("option","dateFormat",jQuery(this).data("format"))}),jQuery("#close_message").click(function(){jQuery("div.fm-message").remove()}),0!==jQuery(".fm-form").find(".fm-message").length&&jQuery(window).scrollTop(jQuery(".fm-message").offset().top-100),0!==jQuery(".fm-form").find(".message_captcha").length){var form_id=jQuery(".fm-form").attr("name").split("form")[1],element_offset=jQuery(jQuery("#form"+form_id+" .message_captcha")).offset().top;jQuery(".fm-form").find(".message_captcha").parents(".wdform-field").find(".wdform-label").addClass("error_label"),jQuery("html").animate({scrollTop:element_offset-150},500)}var $;jQuery(document).delegate("[wdid] .cascading-select-box","click",function(e){e.stopImmediatePropagation(),jQuery("[wdid] .cascading-select-box").not(this).each(function(index,element){jQuery(element).find(".cascading-option-wrap").is(":visible")&&(jQuery(element).find(".cascading-option-wrap").hide(),jQuery(element).find(".select-expand").removeClass("show"),jQuery(element).next("select").trigger("close-select-box"))}),jQuery(this).find(".cascading-option-wrap").is(":visible")?(jQuery(this).find(".cascading-option-wrap").hide(),jQuery(this).find(".select-expand").removeClass("show"),jQuery(this).next("select").trigger("close-select-box")):(jQuery(this).find(".cascading-option-wrap").show(),jQuery(this).find(".select-expand").addClass("show"),jQuery(this).next("select").trigger("open-select-box"))}),($=jQuery)("body").has(".cascading-option-wrap").delegate("*","click",function(e){var $target;$(e.target).closest(".cascading-select-box").length||$(".cascading-option-wrap").hide().next(".select-expand").removeClass("show")}),jQuery(document).delegate("[wdid] .cascading-option-wrap .select-option","click",function(){jQuery(this).parent().parent().addClass("selected"),jQuery(this).parent().prev(".placeholder").text(jQuery(this).text()),jQuery(this).parent().parent().next("select").val(jQuery(this).data("value")).trigger("change")}),$("[wdid] select, [wdid] input:not([type='checkbox'], [type='radio']), [wdid] textarea, [wdid] select-box, [wdid] input").each(function(i,el){$(el).data("default-value",$(el).val())}),$("[wdid] input[type='checkbox']").each(function(i,el){$(el).data("default-value",$(el).is(":checked"))}),$("[wdid] input[type='radio']").each(function(i,el){$(el).data("default-value",$(el).is(":checked"))}),$("body").delegate("div[type=type_radio] .input-box .input-clear, div[type=type_checkbox] .input-box .input-clear","click",function(e){var $this=$(this);$this.parent().find(".text-box").val(""),$this.parent().find(".input-clear").css("visibility","hidden")}),$("body").delegate("div[type=type_radio] .input-box .placeholder, div[type=type_checkbox] .input-box .placeholder","click",function(e){e.stopImmediatePropagation(),$(this).prev(".text-box").trigger("focus")}),$("body").delegate("div[type=type_radio] .input-box .text-box[name*=_other_input], div[type=type_checkbox] .input-box .text-box[name*=_other_input]","focus change",function(){var $this=$(this);$this.parent().hasClass("readonly")||($this.parent().addClass("focus"),$this.next(".placeholder").addClass("focus").addClass("small-text"))}),$("body").delegate("div[type=type_radio] .input-box .text-box[name*=_other_input], div[type=type_checkbox] .input-box .text-box[name*=_other_input]","keypress",function(){var $this=$(this);jQuery("body").hasClass("internet-explorer")||0!=$this.parent().find(".input-clear").length||($this.parent().append('<span class="input-clear dashicons dashicons-no-alt"></span>'),$this.on("blur",function(){var $this=$(this);""==$this.val()&&$this.parent().find(".input-clear").css("visibility","hidden")}),$this.parent().find(".input-clear").on("click",function(){var $this=$(this);$this.parent().find(".text-box").val(""),$this.parent().find(".input-clear").css("visibility","hidden")})),$this.parent().find(".input-clear").css("visibility","visible")}),$("body").delegate("div[type=type_radio] .input-box .text-box[name*=_other_input], div[type=type_checkbox] .input-box .text-box[name*=_other_input]","blur",function(){""==$(this).val()&&($(this).next(".placeholder").removeClass("focus").removeClass("small-text"),$(this).parent().removeClass("focus")),$(this).attr("placeholder","")})}),jQuery(document).on("change",".wdform-element-section select",function(){var tektext=jQuery(this).children("option:selected").text();jQuery(this).parent(".sel-wrap ").children(".sel-imul").children(".sel-selected").children(".selected-text").html(tektext),jQuery(this).parent(".sel-wrap ").children(".sel-imul").children(".sel-options").children(".sel-option").removeClass("sel-ed"),jQuery(this).addClass("sel-ed"),jQuery(this).parent(".sel-wrap ").children(".sel-imul").children(".sel-options").each(function(){jQuery(this).html()==tektext&&jQuery(this).addClass("sel-ed")})}),jQuery(document).on("click",".sel-imul",function(){jQuery(".sel-imul").removeClass("act"),jQuery(this).addClass("act"),jQuery(this).children(".sel-options").is(":visible")?jQuery(".sel-options").hide():(jQuery(".sel-options").hide(),jQuery(this).children(".sel-options").show(),jQuery(this).children(".sel-options").css("width",jQuery(this).width()))}),jQuery(document).on("click",".sel-option",function(){var tektext=jQuery(this).html();jQuery(this).parent(".sel-options").parent(".sel-imul").children(".sel-selected").children(".selected-text").html(tektext),jQuery(this).parent(".sel-options").children(".sel-option").removeClass("sel-ed"),jQuery(this).addClass("sel-ed");var tekval=jQuery(this).attr("value");tekval=void 0!==tekval?tekval:tektext,jQuery(this).parent(".sel-options").parent(".sel-imul").parent(".sel-wrap").children("select").children("option").removeAttr("selected").each(function(){jQuery(this).html()==tektext&&jQuery(this).attr("selected","select")}),jQuery(this).parent(".sel-options").parent(".sel-imul").parent(".sel-wrap").children("select").change()});var selenter=!1,_funcCheckboxCompare;function remove_whitespace(node){var ttt;for(ttt=0;ttt<node.childNodes.length;ttt++)node.childNodes[ttt]&&"3"==node.childNodes[ttt].nodeType&&!/\S/.test(node.childNodes[ttt].nodeValue)?(node.removeChild(node.childNodes[ttt]),ttt--):node.childNodes[ttt].childNodes.length&&remove_whitespace(node.childNodes[ttt])}function change_value_range(id,min_max,element_value,default_min_max,format){element_value?jQuery("#"+id).datepicker("option",min_max,element_value):"today"==default_min_max?jQuery("#"+id).datepicker("option",min_max,new Date):(-1==default_min_max.indexOf("d")&&-1==default_min_max.indexOf("m")&&-1==default_min_max.indexOf("y")&&-1==default_min_max.indexOf("w")&&""!=default_min_max&&(default_min_max=jQuery.datepicker.formatDate(format,new Date(default_min_max))),jQuery("#"+id).datepicker("option",min_max,default_min_max))}function wd_check_confirmation_email(wdid,form_id,message,type){message="The email addresses don't match",void 0!==window["OF_MSG_CONFIRM_EMAIL_"+form_id+"_"+wdid]&&(message=window["OF_MSG_CONFIRM_EMAIL_"+form_id+"_"+wdid]);var element=jQuery("#wdform_"+wdid+"_element"+form_id),element_confirm=jQuery("#wdform_"+wdid+"_1_element"+form_id),condition_confirm_email=!1;return element_confirm.val()==element.val()||element_confirm.val()==fm_objectL10n.fm_field_is_required||element.val()==fm_objectL10n.fm_field_is_required?(jQuery("#confirm_"+wdid+"_"+form_id).remove(),jQuery("#form"+form_id+" div[wdid='"+wdid+"'] div[type='type_submitter_mail'] .input-box").removeClass("validation-failed"),1==window["check_before_submit"+form_id][wdid+"_"+form_id]&&delete window["check_before_submit"+form_id][wdid+"_"+form_id],!0):(condition_confirm_email=!window["check_before_submit"+form_id][wdid+"_"+form_id]&&jQuery(element).val()!==jQuery(element_confirm).val()||jQuery(element).val()!=jQuery(element_confirm).val())?(jQuery("#confirm_"+wdid+"_"+form_id).remove(),jQuery("#form"+form_id+" div[wdid='"+wdid+"'] .wdform-label-section:eq( 1 ) .error_label_confirm").removeClass("error_label_confirm"),jQuery(element).val()!=jQuery(element_confirm).val()&&(jQuery(element_confirm).parent().parent().append("<div id='confirm_"+wdid+"_"+form_id+"' class='fm-not-filled'>"+message+"</div>"),jQuery("#form"+form_id+" div[wdid='"+wdid+"'] .wdform-label-section:eq( 1 ) .wdform-label").addClass("error_label_confirm"),jQuery("#form"+form_id+" div[wdid='"+wdid+"'] .wdform-element-section:last .input-box").addClass("validation-failed")),window["check_before_submit"+form_id][wdid+"_"+form_id]=!(wdid+"_"+form_id in window["check_before_submit"+form_id])||window["check_before_submit"+form_id][wdid+"_"+form_id],!1):(jQuery("#confirm_"+wdid+"_"+form_id).remove(),jQuery("#form"+form_id+" div[wdid='"+wdid+"'] div[type='type_submitter_mail'] .input-box").removeClass("validation-failed"),1==window["check_before_submit"+form_id][wdid+"_"+form_id]&&delete window["check_before_submit"+form_id][wdid+"_"+form_id],!0)}function checkValidateEmail(email){var emailPart=email.split("@");if(2!==emailPart.length)return!1;var regexCheckLocalPart,regexCheckDomainPart=/^((([a-zA-Z0-9]+)|([a-zA-Z0-9]+([a-zA-Z0-9\-])*[a-zA-Z0-9]+))\.)+(?=([a-zA-Z0-9]*[a-zA-Z]+[a-zA-Z0-9]*))[a-zA-Z0-9]{1,}$/;return!(!/^[a-z0-9A-Z!'#$%&*+\/=?^_`{|}~-]+(?:\.[a-z0-9A-Z!'#$%&*+\/=?^_`{|}~-]+)*$/.test(emailPart[0])||!regexCheckDomainPart.test(emailPart[1]))}function wd_check_email(wdid,form_id,message_check,message_unique){message_check=message_check||fm_objectL10n.email_invalid,message_unique=message_unique||fm_objectL10n.unique_validation.replace("%s","Email");var element=jQuery("#wdform_"+wdid+"_element"+form_id),element_confirm=jQuery("#wdform_"+wdid+"_1_element"+form_id);return void 0!==window["OF_MSG_CHECK_EMAIL_"+form_id+"_"+wdid]&&(message_check=window["OF_MSG_CHECK_EMAIL_"+form_id+"_"+wdid]),void 0!==window["OF_MSG_UNIQUE_EMAIL_"+form_id+"_"+wdid]&&(message_unique=window["OF_MSG_UNIQUE_EMAIL_"+form_id+"_"+wdid]),void 0!==window["OF_MSG_CONFIRM_EMAIL_"+form_id+"_"+wdid]&&(message_confirm=window["OF_MSG_CONFIRM_EMAIL_"+form_id+"_"+wdid]),element.val()!=element_confirm.val()&&""!=element_confirm.val()&&""!=element.val()||jQuery("#confirm_"+wdid+"_"+form_id).remove(),element.val()&&!checkValidateEmail(element.val())?(jQuery("#check_email_"+wdid+"_"+form_id).remove(),jQuery(element).parent().parent().append("<div id='check_email_"+wdid+"_"+form_id+"' class='fm-not-filled'>"+message_check+"</div>"),jQuery(element).closest(".input-box").addClass("validation-failed"),delete window["check_before_submit"+form_id][wdid+"_"+form_id],window["check_before_submit"+form_id][wdid+"_"+form_id]=!1,!1):(jQuery("#form"+form_id+" div[wdid='"+wdid+"'] .wdform-element-section .input-box").removeClass("validation-failed"),jQuery("#check_email_"+wdid+"_"+form_id).remove(),jQuery("#form"+form_id+" div[wdid='"+wdid+"'] .wdform-label-section:first .error_label_check_mail").removeClass("error_label_check_mail"),window["check_before_submit"+form_id][wdid+"_"+form_id]=!0,void 0===element_confirm.val()&&delete window["check_before_submit"+form_id][wdid+"_"+form_id],!0)}function wd_check_confirmation_pass(wdid,form_id,message){var element=jQuery("#wdform_"+wdid+"_element"+form_id),element_confirm=jQuery("#wdform_"+wdid+"_1_element"+form_id),condition_confirm_pass=!1;if(""==element_confirm.val())return jQuery("#confirm_"+wdid+"_"+form_id).remove(),jQuery("#form"+form_id+" div[wdid='"+wdid+"'] .wdform-label-section:eq( 1 ) .error_label_check_pass").removeClass("error_label_check_pass"),!1;(condition_confirm_pass=element.val()!==element_confirm.val())?(jQuery("#confirm_"+wdid+"_"+form_id).remove(),jQuery(element_confirm).parent().parent().parent().append("<div id='confirm_"+wdid+"_"+form_id+"'   class='fm-not-filled'>"+message+"</div>"),jQuery("#form"+form_id+" div[wdid='"+wdid+"'] .wdform-label-section:eq( 1 ) .wdform-label").addClass("error_label_check_pass"),jQuery("#form"+form_id+" div[wdid='"+wdid+"'] .wdform-element-section .input-box").addClass("validation-failed"),window["check_before_submit"+form_id][wdid+"_"+form_id]=!1):(jQuery("#confirm_"+wdid+"_"+form_id).remove(),jQuery("#form"+form_id+" div[wdid='"+wdid+"'] .wdform-label-section:eq( 1 ) .error_label_check_pass").removeClass("error_label_check_pass"),delete window["check_before_submit"+form_id][wdid+"_"+form_id])}function minimize_form(form_id){jQuery("#fm-scrollbox"+form_id).removeClass("fm-animated fadeInUp").addClass("fm-animated fadeOutDown fm-minimized"),jQuery("#fm-minimize-text"+form_id).removeClass("fm-animated fadeOutDown").addClass("fm-show fm-animated fadeInUp")}function fm_show_scrollbox(form_id){jQuery("#fm-minimize-text"+form_id).removeClass("fm-animated fadeInUp").addClass("fm-animated fadeOutDown"),jQuery("#fm-scrollbox"+form_id).removeClass("fm-animated fadeOutDown fm-minimized").addClass("fm-show fm-animated fadeInUp")}function fm_hide_form(form_id,hide_interval,close_callback){var hide_date=new Date;hide_date.setDate(hide_date.getDate()+hide_interval),hide_interval>0&&localStorage.setItem("hide-"+form_id,hide_date.getTime()),"function"==typeof close_callback&&close_callback()}function wd_check_regExp(form_id,regExpObj){var x=jQuery("#form"+form_id),find_wrong_exp=!1,check_regExp=regExpObj||window["check_regExp_all"+form_id];return jQuery.each(check_regExp,function(wdid,exp){var element="#wdform_"+wdid+"_element"+form_id,RegExpression="",rules=unescape(exp[0]);RegExpression=exp[1].length<=0?new RegExp(rules):new RegExp(rules,exp[1]),0!=x.find(jQuery("div[wdid='"+wdid+"']")).length&&"none"!=x.find(jQuery("div[wdid='"+wdid+"']")).css("display")&&jQuery(element).val().length>0&&jQuery(element).val()!=jQuery(element).attr("title")&&1!=RegExpression.test(jQuery(element).val())&&(jQuery("#form"+form_id+" #wd_exp_"+wdid).remove(),jQuery("#form"+form_id+" div[wdid='"+wdid+"'] .wdform-element-section:first div.input-box").addClass("validation-failed"),x.find(jQuery("div[wdid='"+wdid+"'] .wdform-element-section")).parent().parent().append("<div  id='wd_exp_"+wdid+"' class='fm-not-filled'>"+fm_objectL10n.regex_validation+"</div>"),jQuery("#form"+form_id+" div[wdid='"+wdid+"'] .wdform-label-section:first .wdform-label").addClass("error_label_exp"),jQuery(element).focus(function(){jQuery("#form"+form_id+" div[wdid='"+wdid+"'] .wdform-element-section:first div.input-box").removeClass("validation-failed")}),find_wrong_exp=!0,regExpObj||scroll_on_element(form_id))}),!1===find_wrong_exp}function scroll_on_element(form_id){if(0==jQuery("#form"+form_id+" .fm-not-filled").length)return!0;var parent_div=jQuery("#form"+form_id+" .fm-not-filled").closest(".wdform_row"),body_hight=document.body.clientHeight,element_offset=jQuery("#form"+form_id+" .fm-not-filled").offset().top,scrollChecker=function(){document.body.clientHeight!==body_hight&&(body_hight=document.body.clientHeight,element_offset=jQuery("#form"+form_id+" .fm-not-filled").offset().top,jQuery("html").stop(),animateBodyToError())};function animateBodyToError(){jQuery("html").animate({scrollTop:element_offset-150},500,function(){jQuery(window).off("scroll",scrollChecker)})}jQuery(window).on("scroll",scrollChecker),animateBodyToError()}function wd_file_upload_check(form_id,upload_check_field){var x=jQuery("#form"+form_id),find_wrong_type_upload=!1,upload_check=upload_check_field||window["file_upload_check"+form_id];return jQuery.each(upload_check,function(wdid,upload_types){var element="#wdform_"+wdid+"_element"+form_id;0!=x.find(jQuery("div[wdid='"+wdid+"']")).length&&"none"!=x.find(jQuery("div[wdid='"+wdid+"']")).css("display")&&(ext_available=getfileextension(jQuery(element).val(),upload_types),ext_available?(jQuery("#form"+form_id+" #wd_upload_type_"+wdid).remove(),jQuery("#form"+form_id+" div[wdid='"+wdid+"'] .wdform-label-section:first .error_label_upload").removeClass("error_label_upload")):(jQuery("#form"+form_id+" #wd_upload_type_"+wdid).remove(),x.find(jQuery("div[wdid='"+wdid+"'] .wdform-element-section")).parent().parent().append("<div id='wd_upload_type_"+wdid+"' class='fm-not-filled'>"+fm_objectL10n.fm_file_type_error+"</div>"),jQuery("#form"+form_id+" div[wdid='"+wdid+"'] .wdform-label-section:first .wdform-label").addClass("error_label_upload"),find_wrong_type_upload=!0))}),upload_check_field||!0!==find_wrong_type_upload||scroll_on_element(form_id),!1===find_wrong_type_upload}function check_unique_field(form_id){var x=jQuery("#form"+form_id),check=!0;return x.find(".wdform-page-and-images > .wdform_page:visible .wdform_row").find("input[data-unique], textarea[data-unique]").each(function(){var unique=jQuery(this).val(),wdid=jQuery(this).closest(".wdform_row").attr("wdid");jQuery.ajax({type:"POST",url:cnArgs.ajaxurl,async:!1,data:{action:"check_unique",unique:unique,form_id:form_id,label:wdid},success:function(data){var label=jQuery("#form"+form_id+" div[wdid='"+wdid+"'] .wdform-label-section:first label").text(),el=jQuery("#wdform_"+wdid+"_element"+form_id),msg=fm_objectL10n.unique_validation.replace("%s",label);void 0!==window["OF_MSG_UNIQUE_EMAIL_"+form_id+"_"+wdid]&&(msg=window["OF_MSG_UNIQUE_EMAIL_"+form_id+"_"+wdid]),"unique"==data.data?(el.data("check-unique","false"),check&=!1,jQuery("#form"+form_id+" div[wdid='"+wdid+"'] .wdform-element-section .input-box").addClass("validation-failed"),el.data("typing-value",el.val()),el.val(msg),el.focus(function(e){el.val()==msg&&(jQuery("#form"+form_id+" div[wdid='"+wdid+"'] .wdform-element-section .input-box").removeClass("validation-failed"),el.data("typing-value")?el.val(el.data("typing-value")):el.val(""))})):el.val()==msg&&(check&=!1)},error:function(error){console.log(error)}})}),!!check}function wd_is_filled(form_id,field_id){var x=jQuery("#form"+form_id),req_fields=field_id?field_id.split():window["required_fields"+form_id],not_filled={},current_page_id=jQuery(".wdform-page-and-images > .wdform_page:visible").attr("id"),current_page=void 0!==current_page_id&&current_page_id?current_page_id.replace(form_id+"form_view",""):1;return jQuery(req_fields).each(function(index,wdid){var is_child=!1,is_email_confirm=!1;if(wdid.indexOf("_child")>0&&(wdid=wdid.replace("_child",""),is_child=!0),wdid.indexOf("_confirm")>0&&(wdid=wdid.replace("_confirm",""),is_email_confirm=!0),!1!==x.find(jQuery("div[wdid='"+wdid+"']")).is(":visible")||is_child||(x.find(jQuery("div[wdid='"+wdid+"']")).find(".fm-not-filled").remove(),x.find(jQuery("div[wdid='"+wdid+"']")).css("background-color",""),x.find(jQuery("div[wdid='"+wdid+"'] label")).removeClass("error_label")),0!=x.find(jQuery("div[wdid='"+wdid+"']")).length&&!0===x.find(jQuery("div[wdid='"+wdid+"']")).is(":visible"))switch(window["labels_and_ids"+form_id][wdid]){case"type_text":var element="#wdform_"+wdid+"_element"+form_id;"none"!=x.find(jQuery("div[wdid='"+wdid+"']")).closest(".wdform-page-and-images").css("display")&&(""!=jQuery(element).val()&&jQuery(element).val()!=fm_objectL10n.fm_field_is_required||(not_filled[wdid]=element)),field_id||window["check_submit"+form_id]||jQuery(element).focus(function(){jQuery("#form"+form_id+" #wd_required_"+wdid).remove(),jQuery("#form"+form_id+" div[wdid='"+wdid+"'] .wdform-label-section:first .error_label").removeClass("error_label"),jQuery("#form"+form_id+" div[wdid='"+wdid+"'] .wdform-element-section:first div.placeholder").removeClass("validation-error"),jQuery("#form"+form_id+" div[wdid='"+wdid+"'] .wdform-element-section:first div.input-box").removeClass("validation-failed"),!0===jQuery("#form"+form_id+" div[wdid='"+wdid+"'] .wdform-element-section:first input").data("validation-failed")&&(jQuery("#form"+form_id+" div[wdid='"+wdid+"'] .wdform-element-section:first input").data("validation-failed",!1),jQuery("#form"+form_id+" div[wdid='"+wdid+"'] .wdform-element-section:first input").val(""))}).blur(function(){wd_is_filled(form_id,wdid)});break;case"type_paypal_price_new":case"type_number":case"type_phone_new":case"type_submitter_mail":var element="#wdform_"+wdid+"_element"+form_id,element_2="#wdform_"+wdid+"_1_element"+form_id;if(is_email_confirm){"none"!=x.find(jQuery("div[wdid='"+wdid+"']")).closest(".wdform-page-and-images").css("display")&&(""!=jQuery(element_2).val()&&jQuery(element_2).val()!=fm_objectL10n.fm_field_is_required||(not_filled[wdid+"_confirm"]=element_2)),field_id||window["check_submit"+form_id]||jQuery(element_2).focus(function(){jQuery("#form"+form_id+" #wd_required_"+wdid).remove(),jQuery("#form"+form_id+" div[wdid='"+wdid+"'] div[type='type_submitter_mail']:nth-of-type(2) .wdform-label-section:first .error_label").removeClass("error_label"),jQuery("#form"+form_id+" div[wdid='"+wdid+"'] div[type='type_submitter_mail']:nth-of-type(2) .wdform-element-section:first span.placeholder").removeClass("validation-error"),jQuery("#form"+form_id+" div[wdid='"+wdid+"'] div[type='type_submitter_mail']:nth-of-type(2) .wdform-element-section:first div.input-box").removeClass("validation-failed"),!0===jQuery("#form"+form_id+" div[wdid='"+wdid+"'] div[type='type_submitter_mail']:nth-of-type(2) .wdform-element-section:first input").data("validation-failed")&&(jQuery("#form"+form_id+" div[wdid='"+wdid+"'] div[type='type_submitter_mail']:nth-of-type(2) .wdform-element-section:first input").data("validation-failed",!1),jQuery("#form"+form_id+" div[wdid='"+wdid+"'] div[type='type_submitter_mail']:nth-of-type(2) .wdform-element-section:first input").val(""))}).blur(function(){wd_is_filled(form_id,wdid+"_confirm")});break}"none"!=x.find(jQuery("div[wdid='"+wdid+"']")).closest(".wdform-page-and-images").css("display")&&(""!=jQuery(element).val()&&jQuery(element).val()!=fm_objectL10n.fm_field_is_required||(not_filled[wdid]=element)),field_id||window["check_submit"+form_id]||jQuery(element).focus(function(){jQuery("#form"+form_id+" #wd_required_"+wdid).remove(),jQuery("#form"+form_id+" div[wdid='"+wdid+"'] .wdform-label-section:first .error_label").removeClass("error_label"),jQuery("#form"+form_id+" div[wdid='"+wdid+"'] .wdform-element-section:first span.placeholder").removeClass("validation-error"),jQuery("#form"+form_id+" div[wdid='"+wdid+"'] .wdform-element-section:first div.input-box").removeClass("validation-failed"),!0===jQuery("#form"+form_id+" div[wdid='"+wdid+"'] .wdform-element-section:first input").data("validation-failed")&&(jQuery("#form"+form_id+" div[wdid='"+wdid+"'] .wdform-element-section:first input").data("validation-failed",!1),jQuery("#form"+form_id+" div[wdid='"+wdid+"'] .wdform-element-section:first input").val(""))}).blur(function(){wd_is_filled(form_id,wdid)});break;case"type_textarea":var element="#wdform_"+wdid+"_element"+form_id;"none"!=x.find(jQuery("div[wdid='"+wdid+"']")).closest(".wdform-page-and-images").css("display")&&(""!=jQuery(element).val()&&jQuery(element).val()!=fm_objectL10n.fm_field_is_required||(not_filled[wdid]=element)),field_id||window["check_submit"+form_id]||jQuery(element).focus(function(){jQuery("#form"+form_id+" #wd_required_"+wdid).remove(),jQuery("#form"+form_id+" div[wdid='"+wdid+"'] .wdform-label-section:first .error_label").removeClass("error_label"),jQuery("#form"+form_id+" div[wdid='"+wdid+"'] .wdform-element-section:first div.placeholder").removeClass("validation-error"),jQuery("#form"+form_id+" div[wdid='"+wdid+"'] .wdform-element-section:first div.input-box").removeClass("validation-failed"),!0===jQuery("#form"+form_id+" div[wdid='"+wdid+"'] .wdform-element-section:first textarea").data("validation-failed")&&(jQuery("#form"+form_id+" div[wdid='"+wdid+"'] .wdform-element-section:first textarea").data("validation-failed",!1),jQuery("#form"+form_id+" div[wdid='"+wdid+"'] .wdform-element-section:first textarea").val(""))}).blur(function(){wd_is_filled(form_id,wdid)});break;case"type_spinner":var element="#wdform_"+wdid+"_element"+form_id;"none"!=x.find(jQuery("div[wdid='"+wdid+"']")).closest(".wdform-page-and-images").css("display")&&(jQuery(element).val()!=jQuery(element).attr("title")&&""!=jQuery(element).val()&&jQuery(element).val()!=fm_objectL10n.fm_field_is_required||(not_filled[wdid]=element)),field_id||window["check_submit"+form_id]||jQuery(element).focus(function(){jQuery("#form"+form_id+" #wd_required_"+wdid).remove(),jQuery("#form"+form_id+" div[wdid='"+wdid+"'] .wdform-label-section:first .error_label").removeClass("error_label"),jQuery("#form"+form_id+" div[wdid='"+wdid+"'] .wdform-element-section:first span.placeholder").removeClass("validation-error"),jQuery("#form"+form_id+" div[wdid='"+wdid+"'] .wdform-element-section:first span.input-box").removeClass("validation-failed"),!0===jQuery("#form"+form_id+" div[wdid='"+wdid+"'] .wdform-element-section:first input").data("validation-failed")&&(jQuery("#form"+form_id+" div[wdid='"+wdid+"'] .wdform-element-section:first input").data("validation-failed",!1),jQuery("#form"+form_id+" div[wdid='"+wdid+"'] .wdform-element-section:first input").val(""))}).blur(function(){wd_is_filled(form_id,wdid)});break;case"type_own_select":case"type_country":case"type_paypal_select":var element="#wdform_"+wdid+"_element"+form_id;"none"!=x.find(jQuery("div[wdid='"+wdid+"']")).closest(".wdform-page-and-images").css("display")&&(""!=jQuery(element).val()&&null!=jQuery(element).val()&&0!=jQuery(element).val()||(not_filled[wdid]=element)),field_id||window["check_submit"+form_id]||jQuery(element).focus(function(){jQuery("#form"+form_id+" #wd_required_"+wdid).remove(),jQuery("#form"+form_id+" div[wdid='"+wdid+"'] .wdform-label-section:first .error_label").removeClass("error_label"),jQuery("#form"+form_id+" div[wdid='"+wdid+"'] .wdform-element-section:first span.placeholder").removeClass("validation-error"),jQuery("#form"+form_id+" div[wdid='"+wdid+"'] .wdform-element-section:first div.input-box").removeClass("validation-failed")}).blur(function(){wd_is_filled(form_id,wdid)}).change(function(){jQuery("#form"+form_id+" div[wdid='"+wdid+"'] .wdform-label-section:first .error_label").removeClass("error_label"),jQuery("#form"+form_id+" div[wdid='"+wdid+"'] .wdform-element-section:first span.placeholder").removeClass("validation-error"),jQuery("#form"+form_id+" div[wdid='"+wdid+"'] .wdform-element-section:first div.input-box").removeClass("validation-failed"),wd_is_filled(form_id,wdid)});break;case"type_phone":var element=["#wdform_"+wdid+"_element_first"+form_id,"#wdform_"+wdid+"_element_last"+form_id];jQuery.each(element,function(i,elem){"none"!=x.find(jQuery("div[wdid='"+wdid+"']")).closest(".wdform-page-and-images").css("display")&&(""!=jQuery(elem).val()&&jQuery(elem).val()!=jQuery(elem).attr("title")||(not_filled[wdid]=elem)),field_id||window["check_submit"+form_id]||jQuery(elem).focus(function(){jQuery("#form"+form_id+" #wd_required_"+wdid).remove(),jQuery("#form"+form_id+" div[wdid='"+wdid+"'] .wdform-label-section:first .error_label").removeClass("error_label"),jQuery("#form"+form_id+" div[wdid='"+wdid+"'] .wdform-element-section:first span.placeholder").removeClass("validation-error"),jQuery("#form"+form_id+" div[wdid='"+wdid+"'] .wdform-element-section:first div.input-box").removeClass("validation-failed")}).blur(function(){wd_is_filled(form_id,wdid)})});break;case"type_name":var element=["#wdform_"+wdid+"_element_title"+form_id,"#wdform_"+wdid+"_element_first"+form_id,"#wdform_"+wdid+"_element_last"+form_id,"#wdform_"+wdid+"_element_middle"+form_id];jQuery.each(element,function(i,elem){"none"!=x.find(jQuery("div[wdid='"+wdid+"']")).closest(".wdform-page-and-images").css("display")&&(""!=jQuery(elem).val()&&jQuery(elem).val()!=jQuery(elem).attr("title")||void 0===jQuery(elem).val()||(not_filled[wdid]=elem)),field_id||window["check_submit"+form_id]||jQuery(elem).focus(function(){jQuery("#form"+form_id+" div[wdid='"+wdid+"'] .wdform-label-section:first .error_label").removeClass("error_label"),jQuery("#form"+form_id+" div[wdid='"+wdid+"'] .wdform-element-section:first span.placeholder").removeClass("validation-error"),jQuery("#form"+form_id+" div[wdid='"+wdid+"'] .wdform-element-section:first div.input-box").removeClass("validation-failed"),jQuery("#form"+form_id+" #wd_required_"+wdid).remove()}).blur(function(){wd_is_filled(form_id,wdid)})});break;case"type_address":var element=["#wdform_"+wdid+"_street1"+form_id,"#wdform_"+wdid+"_street2"+form_id,"#wdform_"+wdid+"_city"+form_id,"#wdform_"+wdid+"_state"+form_id,"#wdform_"+wdid+"_postal"+form_id,"#wdform_"+wdid+"_country"+form_id];jQuery.each(element,function(i,elem){"none"!=x.find(jQuery("div[wdid='"+wdid+"']")).closest(".wdform-page-and-images").css("display")&&""==jQuery(elem).val()&&void 0!==jQuery(elem).val()&&(not_filled[wdid]=elem),field_id||window["check_submit"+form_id]||jQuery(elem).focus(function(){jQuery("#form"+form_id+" div[wdid='"+wdid+"'] .wdform-label-section:first .error_label").removeClass("error_label"),jQuery("#form"+form_id+" div[wdid='"+wdid+"'] .wdform-element-section:first span.placeholder").removeClass("validation-error"),jQuery("#form"+form_id+" div[wdid='"+wdid+"'] .wdform-element-section:first div.input-box").removeClass("validation-failed"),jQuery("#form"+form_id+" #wd_required_"+wdid).remove()}).blur(function(){wd_is_filled(form_id,wdid)})});break;case"type_checkbox":case"type_radio":case"type_scale_rating":case"type_paypal_checkbox":case"type_paypal_radio":case"type_paypal_shipping":var element="#wdform_"+wdid+"_other_input"+form_id;"none"!=x.find(jQuery("div[wdid='"+wdid+"']")).closest(".wdform-page-and-images").css("display")&&(0!=x.find(jQuery("div[wdid='"+wdid+"'] input:checked")).length&&""!=jQuery("#wdform_"+wdid+"_other_input"+form_id).val()&&jQuery("#wdform_"+wdid+"_other_input"+form_id).val()!=fm_objectL10n.fm_field_is_required||(not_filled[wdid]=!0)),field_id||window["check_submit"+form_id]||jQuery.each(jQuery("#form"+form_id+" div[wdid='"+wdid+"'] input"),function(i,val){jQuery(this).change(function(){0==x.find(jQuery("div[wdid='"+wdid+"'] input:checked")).length||""==jQuery("#wdform_"+wdid+"_other_input"+form_id).val()?wd_is_filled(form_id,wdid):(jQuery("#form"+form_id+" #wd_required_"+wdid).remove(),jQuery("#form"+form_id+" div[wdid='"+wdid+"'] .wdform-label-section:first .error_label").removeClass("error_label"),jQuery("#form"+form_id+" div[wdid='"+wdid+"'] .wdform-element-section:first span.placeholder").removeClass("validation-error"),jQuery("#form"+form_id+" div[wdid='"+wdid+"'] .wdform-element-section:first div.input-box").removeClass("validation-failed"))})}),x.find(jQuery("div[wdid='"+wdid+'\'] input[other="1"]').is(":checked"))&&x.find(!0===jQuery("div[wdid='"+wdid+'\'] input[other="1"]').data("validate-other-input"))&&(x.find(jQuery("div[wdid='"+wdid+'\'] input[other="1"]')).data("validate-other-input",!0),jQuery(element).focus(function(){jQuery("#form"+form_id+" #wd_required_"+wdid).remove(),jQuery("#form"+form_id+" div[wdid='"+wdid+"'] .wdform-element-section:first span.placeholder").removeClass("validation-error"),jQuery("#form"+form_id+" div[wdid='"+wdid+"'] .wdform-element-section:first div.input-box").removeClass("validation-failed"),!0===jQuery("#form"+form_id+" div[wdid='"+wdid+"'] .wdform-element-section:first input[type='text']").data("validation-failed")&&(jQuery("#form"+form_id+" div[wdid='"+wdid+"'] .wdform-element-section:first input[type='text']").data("validation-failed",!1),jQuery("#form"+form_id+" div[wdid='"+wdid+"'] .wdform-element-section:first input[type='text']").val(""))}).blur(function(){wd_is_filled(form_id,wdid)}));break;case"type_star_rating":var element="#wdform_"+wdid+"_selected_star_amount"+form_id;"none"!=x.find(jQuery("div[wdid='"+wdid+"']")).closest(".wdform-page-and-images").css("display")&&""==jQuery(element).val()&&(not_filled[wdid]=!0),field_id||window["check_submit"+form_id]||jQuery("#wdform_"+wdid+"_element"+form_id).click(function(){""!=jQuery(element).val()&&(jQuery("#form"+form_id+" div[wdid='"+wdid+"'] .wdform-label-section:first .error_label").removeClass("error_label"),jQuery("#form"+form_id+" div[wdid='"+wdid+"'] .wdform-element-section:first span.placeholder").removeClass("validation-error"),jQuery("#form"+form_id+" div[wdid='"+wdid+"'] .wdform-element-section:first div.input-box").removeClass("validation-failed"),jQuery("#form"+form_id+" #wd_required_"+wdid).remove())});break;case"type_range":var element=["#wdform_"+wdid+"_element"+form_id+"0","#wdform_"+wdid+"_element"+form_id+"1"];jQuery.each(element,function(i,elem){"none"!=x.find(jQuery("div[wdid='"+wdid+"']")).closest(".wdform-page-and-images").css("display")&&""==jQuery(elem).val()&&(not_filled[wdid]=elem),field_id||window["check_submit"+form_id]||jQuery(elem).focus(function(){jQuery("#form"+form_id+" div[wdid='"+wdid+"'] .wdform-label-section:first .error_label").removeClass("error_label"),jQuery("#form"+form_id+" div[wdid='"+wdid+"'] .wdform-element-section:first span.placeholder").removeClass("validation-error"),jQuery("#form"+form_id+" div[wdid='"+wdid+"'] .wdform-element-section:first div.input-box").removeClass("validation-failed"),jQuery("#form"+form_id+" #wd_required_"+wdid).remove()}).blur(function(){wd_is_filled(form_id,wdid)})});break;case"type_grading":if("none"!=x.find(jQuery("div[wdid='"+wdid+"']")).closest(".wdform-page-and-images").css("display")){var count_grading=0;jQuery.each(jQuery("#wdform_"+wdid+"_element"+form_id+" input"),function(i,val){""!=jQuery(this).val()&&count_grading++}),0==count_grading&&(not_filled[wdid]=!0)}field_id||window["check_submit"+form_id]||jQuery.each(jQuery("#wdform_"+wdid+"_element"+form_id+" input"),function(i,val){jQuery(this).focus(function(){jQuery("#form"+form_id+" div[wdid='"+wdid+"'] .wdform-label-section:first .error_label").removeClass("error_label"),jQuery("#form"+form_id+" div[wdid='"+wdid+"'] .wdform-element-section:first span.placeholder").removeClass("validation-error"),jQuery("#form"+form_id+" div[wdid='"+wdid+"'] .wdform-element-section:first div.input-box").removeClass("validation-failed"),jQuery("#form"+form_id+" #wd_required_"+wdid).remove()}).blur(function(){wd_is_filled(form_id,wdid)})});break;case"type_slider":var slider_element="#wdform_"+wdid+"_element"+form_id,element="#wdform_"+wdid+"_slider_value"+form_id,min_value="#wdform_"+wdid+"_element_min"+form_id;"none"!=x.find(jQuery("div[wdid='"+wdid+"']")).closest(".wdform-page-and-images").css("display")&&jQuery(element).val()==jQuery(min_value).html()&&(not_filled[wdid]=!0),field_id||window["check_submit"+form_id]||jQuery(slider_element).slider({change:function(event,ui){jQuery("#form"+form_id+" div[wdid='"+wdid+"'] .wdform-label-section:first .error_label").removeClass("error_label"),jQuery("#form"+form_id+" div[wdid='"+wdid+"'] .wdform-element-section:first span.placeholder").removeClass("validation-error"),jQuery("#form"+form_id+" div[wdid='"+wdid+"'] .wdform-element-section:first div.input-box").removeClass("validation-failed"),jQuery("#form"+form_id+" #wd_required_"+wdid).remove(),wd_is_filled(form_id,wdid)}});break;case"type_date":case"type_date_new":var element="#wdform_"+wdid+"_element"+form_id;"none"!=x.find(jQuery("div[wdid='"+wdid+"']")).closest(".wdform-page-and-images").css("display")&&(""!=jQuery(element).val()&&jQuery(element).val()!=fm_objectL10n.fm_field_is_required||(not_filled[wdid]=element)),field_id||window["check_submit"+form_id]||jQuery(element).focus(function(){jQuery("#form"+form_id+" #wd_required_"+wdid).remove(),jQuery("#form"+form_id+" div[wdid='"+wdid+"'] .wdform-label-section:first .error_label").removeClass("error_label"),jQuery("#form"+form_id+" div[wdid='"+wdid+"'] .wdform-element-section:first span.placeholder").removeClass("validation-error"),jQuery("#form"+form_id+" div[wdid='"+wdid+"'] .wdform-element-section:first div.input-box").removeClass("validation-failed"),!0===jQuery("#form"+form_id+" div[wdid='"+wdid+"'] .wdform-element-section:first input").data("validation-failed")&&(jQuery("#form"+form_id+" div[wdid='"+wdid+"'] .wdform-element-section:first input").data("validation-failed",!1),jQuery("#form"+form_id+" div[wdid='"+wdid+"'] .wdform-element-section:first input").val(""))}).blur(function(){wd_is_filled(form_id,wdid)});break;case"type_date_range":var element=["#wdform_"+wdid+"_element"+form_id+"0","#wdform_"+wdid+"_element"+form_id+"1"];jQuery.each(element,function(i,elem){"none"!=x.find(jQuery("div[wdid='"+wdid+"']")).closest(".wdform-page-and-images").css("display")&&""==jQuery(elem).val()&&(not_filled[wdid]=elem),field_id||window["check_submit"+form_id]||jQuery(elem).focus(function(){jQuery("#form"+form_id+" div[wdid='"+wdid+"'] .wdform-label-section:first .error_label").removeClass("error_label"),jQuery("#form"+form_id+" div[wdid='"+wdid+"'] .wdform-element-section:first span.placeholder").removeClass("validation-error"),jQuery("#form"+form_id+" div[wdid='"+wdid+"'] .wdform-element-section:first div.input-box").removeClass("validation-failed"),jQuery("#form"+form_id+" #wd_required_"+wdid).remove()}).change(function(){wd_is_filled(form_id,wdid)})});break;case"type_date_fields":var element=["#wdform_"+wdid+"_day"+form_id,"#wdform_"+wdid+"_month"+form_id,"#wdform_"+wdid+"_year"+form_id];jQuery.each(element,function(i,elem){"none"!=x.find(jQuery("div[wdid='"+wdid+"']")).closest(".wdform-page-and-images").css("display")&&""==jQuery(elem).val()&&(not_filled[wdid]=elem),field_id||window["check_submit"+form_id]||jQuery(elem).focus(function(){jQuery("#form"+form_id+" div[wdid='"+wdid+"'] .wdform-label-section:first .error_label").removeClass("error_label"),jQuery("#form"+form_id+" div[wdid='"+wdid+"'] .wdform-element-section:first span.placeholder").removeClass("validation-error"),jQuery("#form"+form_id+" div[wdid='"+wdid+"'] .wdform-element-section:first div.input-box").removeClass("validation-failed"),jQuery("#form"+form_id+" #wd_required_"+wdid).remove()}).blur(function(){wd_is_filled(form_id,wdid)}).change(function(){wd_is_filled(form_id,wdid)})});break;case"type_time":var element="#wdform_"+wdid+"_element"+form_id;"none"!=x.find(jQuery("div[wdid='"+wdid+"']")).closest(".wdform-page-and-images").css("display")&&(""==jQuery(element).val()&&void 0!==jQuery(element).val()||jQuery(element).val()==fm_objectL10n.fm_field_is_required)&&(not_filled[wdid]=element),field_id||window["check_submit"+form_id]||jQuery(element).focus(function(){jQuery("#form"+form_id+" div[wdid='"+wdid+"'] .wdform-label-section:first .error_label").removeClass("error_label"),jQuery("#form"+form_id+" div[wdid='"+wdid+"'] .wdform-element-section:first span.placeholder").removeClass("validation-error"),jQuery("#form"+form_id+" div[wdid='"+wdid+"'] .wdform-element-section:first div.input-box").removeClass("validation-failed"),jQuery("#form"+form_id+" #wd_required_"+wdid).remove()}).blur(function(){wd_is_filled(form_id,wdid)});break;case"type_password":var element="#wdform_"+wdid+"_element"+form_id;"none"!=x.find(jQuery("div[wdid='"+wdid+"']")).closest(".wdform-page-and-images").css("display")&&""==jQuery(element).val()&&(not_filled[wdid]=element),field_id||window["check_submit"+form_id]||jQuery(element).focus(function(){jQuery("#form"+form_id+" #wd_required_"+wdid).remove(),jQuery("#form"+form_id+" div[wdid='"+wdid+"'] .wdform-label-section:first .error_label").removeClass("error_label"),jQuery("#form"+form_id+" div[wdid='"+wdid+"'] .wdform-element-section:first span.placeholder").removeClass("validation-error"),jQuery("#form"+form_id+" div[wdid='"+wdid+"'] .wdform-element-section:first div.input-box").removeClass("validation-failed")}).blur(function(){wd_is_filled(form_id,wdid)});break;case"type_file_upload":var element="#wdform_"+wdid+"_element"+form_id;"none"!=x.find(jQuery("div[wdid='"+wdid+"']")).closest(".wdform-page-and-images").css("display")&&(jQuery(element).val()!=jQuery(element).attr("title")&&""!=jQuery(element).val()||(not_filled[wdid]=element)),field_id||window["check_submit"+form_id]||jQuery(element).focus(function(){jQuery("#form"+form_id+" div[wdid='"+wdid+"'] .wdform-label-section:first .error_label").removeClass("error_label"),jQuery("#form"+form_id+" div[wdid='"+wdid+"'] .wdform-element-section:first span.placeholder").removeClass("validation-error"),jQuery("#form"+form_id+" div[wdid='"+wdid+"'] .wdform-element-section:first div.input-box").removeClass("validation-failed"),jQuery("#form"+form_id+" #wd_required_"+wdid).remove()}).change(function(){jQuery("#form"+form_id+" #wd_required_"+wdid).remove(),jQuery("#form"+form_id+" div[wdid='"+wdid+"'] .wdform-label-section:first .error_label").removeClass("error_label"),jQuery("#form"+form_id+" div[wdid='"+wdid+"'] .wdform-element-section:first span.placeholder").removeClass("validation-error"),jQuery("#form"+form_id+" div[wdid='"+wdid+"'] .wdform-element-section:first div.input-box").removeClass("validation-failed"),wd_is_filled(form_id,wdid)});break;case"type_matrix":if("radio"==jQuery("#form"+form_id+" div[wdid='"+wdid+"'] input").attr("type")||"checkbox"==jQuery("#form"+form_id+" div[wdid='"+wdid+"'] input").attr("type")){if("none"!=x.find(jQuery("div[wdid='"+wdid+"']")).closest(".wdform-page-and-images").css("display")){var count_not_checkbox=0;x.find(jQuery("div[wdid='"+wdid+"'] [class^='wdform-matrix-row']")).each(function(x,el){0==jQuery(this).find("input:checked").length&&count_not_checkbox++}),count_not_checkbox&&(not_filled[wdid]=!0)}field_id||window["check_submit"+form_id]||jQuery.each(jQuery("#form"+form_id+" div[wdid='"+wdid+"'] input"),function(i,val){jQuery(this).change(function(){var count_not_checkbox=0;x.find(jQuery("div[wdid='"+wdid+"'] [class^='wdform-matrix-row']")).each(function(){0==jQuery(this).find("input:checked").length&&count_not_checkbox++}),count_not_checkbox?wd_is_filled(form_id,wdid):(jQuery("#form"+form_id+" div[wdid='"+wdid+"'] .wdform-label-section:first .error_label").removeClass("error_label"),jQuery("#form"+form_id+" div[wdid='"+wdid+"'] .wdform-element-section").removeClass("validation-failed"),jQuery("#form"+form_id+" #wd_required_"+wdid).remove())})})}else if("text"==jQuery("#form"+form_id+" div[wdid='"+wdid+"'] input").attr("type")||"number"==jQuery("#form"+form_id+" div[wdid='"+wdid+"'] input").attr("type")){if("none"!=x.find(jQuery("div[wdid='"+wdid+"']")).closest(".wdform-page-and-images").css("display")){var count_input_matrix=0;jQuery.each(jQuery("#form"+form_id+" div[wdid='"+wdid+"'] input"),function(i,val){""==jQuery(this).val()&&count_input_matrix++}),count_input_matrix>0&&(not_filled[wdid]=!0)}field_id||window["check_submit"+form_id]||jQuery.each(jQuery("#form"+form_id+" div[wdid='"+wdid+"'] input"),function(i,val){jQuery(this).focus(function(){jQuery("#form"+form_id+" #wd_required_"+wdid).remove(),jQuery("#form"+form_id+" div[wdid='"+wdid+"'] .wdform-label-section:first .error_label").removeClass("error_label"),jQuery("#form"+form_id+" div[wdid='"+wdid+"'] .wdform-element-section").removeClass("validation-failed")}).blur(function(){wd_is_filled(form_id,wdid)})})}else{if("none"!=x.find(jQuery("div[wdid='"+wdid+"']")).closest(".wdform-page-and-images").css("display")){var count_select_matrix=0;jQuery.each(jQuery("#form"+form_id+" div[wdid='"+wdid+"'] select"),function(i,val){""==jQuery(this).val()&&count_select_matrix++}),count_select_matrix>0&&(not_filled[wdid]=!0)}field_id||window["check_submit"+form_id]||jQuery.each(jQuery("#form"+form_id+" div[wdid='"+wdid+"'] select"),function(i,val){jQuery(this).focus(function(){""==jQuery(this).val()&&(jQuery("#form"+form_id+" #wd_required_"+wdid).remove(),jQuery("#form"+form_id+" div[wdid='"+wdid+"'] .wdform-label-section:first .error_label").removeClass("error_label"),jQuery("#form"+form_id+" div[wdid='"+wdid+"'] .wdform-element-section").removeClass("validation-failed"))}).change(function(){wd_is_filled(form_id,wdid)}).blur(function(){wd_is_filled(form_id,wdid)})})}break;case"type_send_copy":"none"!=x.find(jQuery("div[wdid='"+wdid+"']")).closest(".wdform-page-and-images").css("display")&&0==jQuery("div[wdid='"+wdid+"'] input:checked").length&&(not_filled[wdid]=!0),field_id||window["check_submit"+form_id]||jQuery("#form"+form_id+" div[wdid='"+wdid+"'] input").change(function(){0==jQuery("div[wdid='"+wdid+"'] input:checked").length?wd_is_filled(form_id,wdid):(jQuery("#form"+form_id+" #wd_required_"+wdid).remove(),jQuery("#form"+form_id+" div[wdid='"+wdid+"'] .wdform-label-section:first .error_label").removeClass("error_label"),jQuery("#form"+form_id+" div[wdid='"+wdid+"'] .wdform-element-section:first span.placeholder").removeClass("validation-error"),jQuery("#form"+form_id+" div[wdid='"+wdid+"'] .wdform-element-section:first div.input-box").removeClass("validation-failed"))});break;case"type_captcha":case"type_arithmetic_captcha":var element="";element="type_captcha"==window["labels_and_ids"+form_id][wdid]?"#wd_captcha_input"+form_id:"#wd_arithmetic_captcha_input"+form_id,"none"!=x.find(jQuery("div[wdid='"+wdid+"']")).closest(".wdform-page-and-images").css("display")&&""==jQuery(element).val()&&(jQuery(".message_captcha").html(""),not_filled[wdid]=element),field_id||window["check_submit"+form_id]||jQuery(element).focus(function(){jQuery("#form"+form_id+" #wd_required_"+wdid).remove(),jQuery("#form"+form_id+" div[wdid='"+wdid+"'] .wdform-label-section:first .error_label").removeClass("error_label"),jQuery("#form"+form_id+" div[wdid='"+wdid+"'] .wdform-element-section:first span.placeholder").removeClass("validation-error"),jQuery("#form"+form_id+" div[wdid='"+wdid+"'] .wdform-element-section:first div.input-box").removeClass("validation-failed")}).blur(function(){wd_is_filled(form_id,wdid)});break;case"type_cascading_lookup":var element_parent="#wdform_"+wdid+"_element"+form_id,element_child="#wdform_"+wdid+"_child_element"+form_id;is_child?("none"!=x.find(jQuery("div[wdid='"+wdid+"']")).closest(".wdform-page-and-images").css("display")&&(""!=jQuery(element_child).val()&&jQuery(element_child).val()!=jQuery(element_child).attr("title")||void 0===jQuery(element_child).val()||(not_filled[wdid+"_child"]=element_child)),field_id||window["check_submit"+form_id]||jQuery(element_child).on("open-select-box",function(){jQuery(this).closest("div[type='type_cascading_lookup']").find(".wdform-label-section:first .error_label").removeClass("error_label"),jQuery(this).closest("div[type='type_cascading_lookup']").find(".wdform-element-section:first span.placeholder").removeClass("validation-error"),jQuery(this).closest("div[type='type_cascading_lookup']").find(".wdform-element-section:first div.input-box").removeClass("validation-failed"),jQuery("#form"+form_id+" #wd_required_"+wdid).remove()}).on("close-select-box",function(){wd_is_filled(form_id,wdid+"_child")})):("none"!=x.find(jQuery("div[wdid='"+wdid+"']")).closest(".wdform-page-and-images").css("display")&&(""!=jQuery(element_parent).val()&&jQuery(element_parent).val()!=jQuery(element_parent).attr("title")||void 0===jQuery(element_parent).val()||(not_filled[wdid]=element_parent)),field_id||window["check_submit"+form_id]||jQuery(element_parent).on("open-select-box",function(){jQuery(this).closest("div[type='type_cascading_lookup']").find(".wdform-label-section:first .error_label").removeClass("error_label"),jQuery(this).closest("div[type='type_cascading_lookup']").find(".wdform-element-section:first span.placeholder").removeClass("validation-error"),jQuery(this).closest("div[type='type_cascading_lookup']").find(".wdform-element-section:first div.input-box").removeClass("validation-failed"),jQuery("#form"+form_id+" #wd_required_"+wdid).remove()}).on("close-select-box",function(){wd_is_filled(form_id,wdid)}))}}),0===Object.keys(not_filled).length&&0===Object.keys(window["check_before_submit"+form_id]).length||(0!==Object.keys(not_filled).length&&jQuery.each(not_filled,function(wdid,elem){var is_child=!1,is_email_confirm=!1;wdid.indexOf("_child")>0&&(wdid=wdid.replace("_child",""),is_child=!0),wdid.indexOf("_confirm")>0&&(wdid=wdid.replace("_confirm",""),is_email_confirm=!0),jQuery("#form"+form_id+" #wd_required_"+wdid).remove();var type_input=jQuery("#form"+form_id+" div[wdid='"+wdid+"'] .wdform-field").attr("type");if("type_cascading_lookup"==type_input){var box_element=jQuery(elem).closest('div[type="type_cascading_lookup"]');box_element.find(".wdform-element-section:first span.placeholder").addClass("validation-error"),box_element.find(" .wdform-element-section:first div.input-box").addClass("validation-failed"),box_element.find(".wdform-element-section:first div.input-box span.placeholder").text(fm_objectL10n.fm_field_is_required),box_element.find(".wdform-label-section:first .wdform-label").addClass("error_label")}else"type_submitter_mail"==type_input?is_email_confirm?(jQuery(elem).closest('div[type="type_submitter_mail"]').find(".wdform-element-section:first div.placeholder").addClass("focus small-text"),jQuery(elem).closest('div[type="type_submitter_mail"]').find(".wdform-element-section:first div.input-box").addClass("validation-failed focus"),jQuery(elem).closest('div[type="type_submitter_mail"]').find(".wdform-element-section:first input").val(fm_objectL10n.fm_field_is_required).data("validation-failed",!0),jQuery(elem).closest('div[type="type_submitter_mail"]').find(".wdform-label-section:first .wdform-label").addClass("error_label")):(jQuery("#form"+form_id+" div[wdid='"+wdid+"'] .wdform-element-section:first div.placeholder").addClass("focus small-text"),jQuery("#form"+form_id+" div[wdid='"+wdid+"'] .wdform-element-section:first div.input-box").addClass("validation-failed focus"),jQuery("#form"+form_id+" div[wdid='"+wdid+"'] .wdform-element-section:first input").val(fm_objectL10n.fm_field_is_required),jQuery("#form"+form_id+" div[wdid='"+wdid+"'] .wdform-element-section:first input").data("validation-failed",!0),jQuery("#form"+form_id+" div[wdid='"+wdid+"'] .wdform-label-section:first .wdform-label").addClass("error_label")):"type_radio"==type_input?$("#form"+form_id+" div[wdid="+wdid+"] .wd-div-choices .radio-div .radio-box").addClass("validation-failed"):"type_checkbox"==type_input?$("#form"+form_id+" div[wdid="+wdid+"] .wdform-element-section .wd-div-choices .check-box").addClass("validation-failed"):"type_matrix"==type_input?(jQuery("#form"+form_id+" div[wdid='"+wdid+"'] .wdform-label-section:first .wdform-label").addClass("error_label"),jQuery("#form"+form_id+" div[wdid='"+wdid+"'] .wdform-element-section").addClass("validation-failed")):(1==jQuery("#form"+form_id+" div[wdid='"+wdid+"'] .wdform-element-section:first div.input-box").length?(jQuery("#form"+form_id+" div[wdid='"+wdid+"'] .wdform-element-section:first span.placeholder").addClass("validation-error"),jQuery("#form"+form_id+" div[wdid='"+wdid+"'] .wdform-element-section:first div.input-box").addClass("validation-failed"),"type_text"==type_input?(jQuery("#form"+form_id+" div[wdid='"+wdid+"'] .wdform-element-section:first div.placeholder").addClass("focus small-text"),jQuery("#form"+form_id+" div[wdid='"+wdid+"'] .wdform-element-section:first div.input-box").addClass("focus"),jQuery("#form"+form_id+" div[wdid='"+wdid+"'] .wdform-element-section:first input").val(fm_objectL10n.fm_field_is_required),jQuery("#form"+form_id+" div[wdid='"+wdid+"'] .wdform-element-section:first input").data("validation-failed",!0)):"type_textarea"==type_input?(jQuery("#form"+form_id+" div[wdid='"+wdid+"'] .wdform-element-section:first div.placeholder").addClass("focus small-text"),jQuery("#form"+form_id+" div[wdid='"+wdid+"'] .wdform-element-section:first div.input-box").addClass("focus"),jQuery("#form"+form_id+" div[wdid='"+wdid+"'] .wdform-element-section:first textarea").val(fm_objectL10n.fm_field_is_required),jQuery("#form"+form_id+" div[wdid='"+wdid+"'] .wdform-element-section:first textarea").data("validation-failed",!0)):"type_date_new"==type_input?(jQuery("#form"+form_id+" div[wdid='"+wdid+"'] .wdform-element-section:first div.placeholder").addClass("focus small-text"),jQuery("#form"+form_id+" div[wdid='"+wdid+"'] .wdform-element-section:first div.input-box").addClass("focus"),jQuery("#form"+form_id+" div[wdid='"+wdid+"'] .wdform-element-section:first input").val(fm_objectL10n.fm_field_is_required),jQuery("#form"+form_id+" div[wdid='"+wdid+"'] .wdform-element-section:first input").data("validation-failed",!0)):"type_time"==type_input?(jQuery("#form"+form_id+" div[wdid='"+wdid+"'] .wdform-element-section:first div.placeholder").addClass("focus small-text"),jQuery("#form"+form_id+" div[wdid='"+wdid+"'] .wdform-element-section:first div.input-box").addClass("focus"),jQuery("#form"+form_id+" div[wdid='"+wdid+"'] .wdform-element-section:first input").val(fm_objectL10n.fm_field_is_required),jQuery("#form"+form_id+" div[wdid='"+wdid+"'] .wdform-element-section:first input").data("validation-failed",!0)):"type_radio"==type_input?(jQuery("#form"+form_id+" div[wdid='"+wdid+"'] .wdform-element-section:first input[type='text']").val(fm_objectL10n.fm_field_is_required),jQuery("#form"+form_id+" div[wdid='"+wdid+"'] .wdform-element-section:first input[type='text']").data("validation-failed",!0)):"type_checkbox"==type_input&&(jQuery("#form"+form_id+" div[wdid='"+wdid+"'] .wdform-element-section:first input[type='text']").val(fm_objectL10n.fm_field_is_required),jQuery("#form"+form_id+" div[wdid='"+wdid+"'] .wdform-element-section:first input[type='text']").data("validation-failed",!0))):1==jQuery("#form"+form_id+" div[wdid='"+wdid+"'] .wdform-element-section.input-box:first").length?(jQuery("#form"+form_id+" div[wdid='"+wdid+"'] .wdform-element-section.input-box:first span.placeholder").addClass("validation-error"),jQuery("#form"+form_id+" div[wdid='"+wdid+"'] .wdform-element-section.input-box:first").addClass("validation-failed"),"type_file_upload"==type_input&&jQuery("#form"+form_id+" div[wdid='"+wdid+"'] .wdform-element-section input.text-box").val(fm_objectL10n.fm_field_is_required)):1==jQuery("#form"+form_id+" div[wdid='"+wdid+"'] .wdform-element-section:first span.input-box").length&&(jQuery("#form"+form_id+" div[wdid='"+wdid+"'] .wdform-element-section:first span.placeholder").addClass("validation-error"),jQuery("#form"+form_id+" div[wdid='"+wdid+"'] .wdform-element-section:first span.input-box").addClass("validation-failed"),jQuery("#form"+form_id+" div[wdid='"+wdid+"'] .wdform-element-section:first span.placeholder").addClass("focus small-text"),jQuery("#form"+form_id+" div[wdid='"+wdid+"'] .wdform-element-section:first span.input-box").addClass("focus"),jQuery("#form"+form_id+" div[wdid='"+wdid+"'] .wdform-element-section:first input").val(fm_objectL10n.fm_field_is_required),jQuery("#form"+form_id+" div[wdid='"+wdid+"'] .wdform-element-section:first input").data("validation-failed",!0)),jQuery("#form"+form_id+" div[wdid='"+wdid+"'] .wdform-label-section:first .wdform-label").addClass("error_label"))}),field_id||scroll_on_element(form_id),window["check_submit"+form_id]=1,jQuery("#"+form_id+"form_view"+current_page).data("check_submit",!0),jQuery(".wdform-page-and-images > .wdform_page").each(function(i,el){!0!==jQuery(el).data("check_submit")&&(window["check_submit"+form_id]=0)}),!1)}function wd_check_price_min_max(form_id,price_nim_max){var x=jQuery("#form"+form_id),check_price_min_max=price_nim_max||window["check_paypal_price_min_max"+form_id],find_wrong_price=!1;return jQuery.each(check_price_min_max,function(wdid,min_max_option){var element="#wdform_"+wdid+"_element"+form_id,range_min=min_max_option[3]?min_max_option[3]:0,range_max=min_max_option[4]?min_max_option[4]:-1;!min_max_option[2]&&jQuery(element).val()==min_max_option[1]||(-1!=range_max&&parseFloat(jQuery(element).val())>range_max||parseFloat(jQuery(element).val())<range_min)&&(jQuery("#form"+form_id+" #wd_price_"+wdid).remove(),x.find(jQuery("div[wdid='"+wdid+"'] .wdform-element-section")).parent().parent().append("<div  id='wd_price_"+wdid+"' class='fm-not-filled'>"+fm_objectL10n.fm_min_max_check_1+min_max_option[0]+fm_objectL10n.fm_min_max_check_2+(min_max_option[3]?min_max_option[3]:0)+"-"+(min_max_option[4]?min_max_option[4]:"any")+"</div>"),jQuery("#form"+form_id+" div[wdid='"+wdid+"'] .wdform-label-section:first .wdform-label").addClass("error_label_price"),find_wrong_price=!0,price_nim_max||scroll_on_element(form_id))}),!1===find_wrong_price}function wd_spinner_check(form_id,spinner_check_field){var x=jQuery("#form"+form_id),find_wrong_values=!1,spinner_check=spinner_check_field||window["spinner_check"+form_id];return jQuery.each(spinner_check,function(wdid,spinner_values){var element="#wdform_"+wdid+"_element"+form_id,input_field=x.find(jQuery("div[wdid='"+wdid+"'] .wdform-element-section input")),error_msg=jQuery.trim(fm_objectL10n.fm_spinner_check)+" "+(spinner_values[0]?spinner_values[0]:0)+"-"+(spinner_values[1]?spinner_values[1]:fm_objectL10n.fm_spinner_check_any);input_field.val()==error_msg&&(find_wrong_values=!0),0!=x.find(jQuery("div[wdid='"+wdid+"']")).length&&"none"!=x.find(jQuery("div[wdid='"+wdid+"']")).css("display")&&(parseInt(jQuery(element).val())<parseInt(spinner_values[0])||parseInt(jQuery(element).val())>parseInt(spinner_values[1]))&&(jQuery("#form"+form_id+" #wd_price_"+wdid).remove(),input_field.data("input-number",input_field.val()),input_field.val(error_msg),jQuery("#form"+form_id+" div[wdid='"+wdid+"'] .wdform-element-section:first span:first").addClass("validation-failed"),find_wrong_values=!0,input_field.focus(function(e){jQuery("#form"+form_id+" div[wdid='"+wdid+"'] .wdform-element-section:first span").removeClass("validation-failed"),jQuery(this).val(jQuery(this).data("input-number"))}))}),!1===find_wrong_values}function fmscrollHandler(form_id){var scrollPercent=100*jQuery(window).scrollTop()/(jQuery(document).height()-jQuery(window).height());!jQuery("#fm-scrollbox"+form_id).hasClass("fm-minimized")&&scrollPercent>=window["scrollbox_trigger_point"+form_id]?setTimeout(function(){jQuery("#fm-scrollbox"+form_id).removeClass("fm-animated fadeOutDown").addClass("fm-animated fadeInUp"),jQuery("#fm-scrollbox"+form_id).css("visibility",""),jQuery("#fm-scrollbox"+form_id+" .fm-header-img").addClass("fm-animated "+window["header_image_animation"+form_id])},1e3*window["scrollbox_loading_delay"+form_id]):window["scrollbox_auto_hide"+form_id]&&(jQuery("#fm-scrollbox"+form_id+" .fm-header-img").removeClass("fm-animated "+window["header_image_animation"+form_id]),jQuery("#fm-scrollbox"+form_id).removeClass("fm-animated fadeInUp").addClass("fm-animated fadeOutDown"))}function fm_submit_form(form_id,title_param_id,name_param_id){if("function"==typeof window["before_submit"+form_id]&&window["before_submit"+form_id]())return!1;if(!fm_check(0,form_id))return!1;var jq_mainForm;(jQuery("#form"+form_id+" button").each(function(){jQuery(this).attr("disabled","disabled")}),jQuery('<input type="hidden" name="save_or_submit'+form_id+'" value ="submit" />').appendTo("#form"+form_id),window["onsubmit_js"+form_id](),1==window["checkStripe"+form_id])?jQuery("form[id='form"+form_id+"']").find(".wdfm_stripe_elem").first().parent().parents(".wdform_row").is(":visible")?wdfm_call_stripe():jQuery("#form"+form_id).find(".g-recaptcha[data-size=invisible]").length>0?grecaptcha.execute():fm_submit(form_id,title_param_id,name_param_id):jQuery("#form"+form_id).find(".g-recaptcha[data-size=invisible]").length>0?grecaptcha.execute():fm_submit(form_id,title_param_id,name_param_id)}function setCookie(name,value,days){var expires="";if(days){var date=new Date;date.setTime(date.getTime()+24*days*60*60*1e3),expires="; expires="+date.toUTCString()}document.cookie=name+"="+(value||"")+expires+"; path=/"}function getOFCookie(name){for(var nameEQ=name+"=",ca=document.cookie.split(";"),i=0;i<ca.length;i++){for(var c=ca[i];" "===c.charAt(0);)c=c.substring(1,c.length);if(0===c.indexOf(nameEQ))return c.substring(nameEQ.length,c.length)}return null}function eraseOFCookie(name){var pathCurrent=" path=";document.cookie=name+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=;"}function fm_submit(form_id,title_param_id,name_param_id){var form=jQuery("#form"+form_id),$title_param=form.find('.wdform_row[wdid="'+title_param_id+'"]'),$title_param_type=$title_param.find(".wdform-field").attr("type");if("type_radio"===$title_param_type)var $title_param_value=$title_param.find(".wd-div-choices .radio-box.selected").siblings("input").val();else if("type_own_select"===$title_param_type)var $title_param_value=$title_param.find("select").val();else var $title_param_value=$title_param.find("input").val();var $name_param=form.find('.wdform_row[wdid="'+name_param_id+'"]');$name_param_value=$name_param.find("input").val(),setCookie("title_param_"+form_id,$title_param_value,7),setCookie("name_param_"+form_id,$name_param_value,7),getOFCookie("form_id_submitted")&&eraseOFCookie("form_id_submitted"),setCookie("form_id_submitted",form_id,7),form.submit()}function fm_reset_form(form_id){"function"==typeof window["before_reset"+form_id]&&window["before_reset"+form_id](),jQuery.each(window["labels_and_ids"+form_id],function(index,elem){switch(elem){case"type_text":case"type_textarea":var $el;($el=jQuery("#wdform_"+index+"_element"+form_id)).val($el.data("default-value"));break;case"type_own_select":var $el=jQuery("#wdform_"+index+"_element"+form_id);jQuery("#wdform_"+index+"_element"+form_id).val($el.data("default-value")).prev(".select-box").find(".placeholder ").text($el.data("default-value"));break;case"type_country":case"type_date":case"type_date_new":case"type_hidden":case"type_paypal_price_new":case"type_phone_new":case"type_number":case"type_spinner":var $el;($el=jQuery("#wdform_"+index+"_element"+form_id)).val($el.data("default-value"));break;case"type_submitter_mail":case"type_password":jQuery("#wdform_"+index+"_element"+form_id).val(""),jQuery("#wdform_"+index+"_1_element"+form_id)&&(jQuery("#wdform_"+index+"_1_element"+form_id).val(""),jQuery("#confirm_"+index+"_"+form_id)&&jQuery("#confirm_"+index+"_"+form_id).remove(),"type_submitter_mail"==elem&&jQuery("#check_email_"+index+"_"+form_id)&&jQuery("#check_email_"+index+"_"+form_id).remove());break;case"type_date_range":jQuery("#wdform_"+index+"_element"+form_id+"0").val(""),jQuery("#wdform_"+index+"_element"+form_id+"1").val("");break;case"type_send_copy":jQuery("#wdform_"+index+"_element"+form_id).prop("checked",!1);break;case"type_phone":jQuery("#wdform_"+index+"_element_first"+form_id+", #wdform_"+index+"_element_last"+form_id).val("");break;case"type_name":jQuery("#wdform_"+index+"_element_first"+form_id+", #wdform_"+index+"_element_last"+form_id+", #wdform_"+index+"_element_title"+form_id+", #wdform_"+index+"_element_middle"+form_id).val("");break;case"type_address":jQuery("#wdform_"+index+"_street1"+form_id+", #wdform_"+index+"_street2"+form_id+", #wdform_"+index+"_city"+form_id+", #wdform_"+index+"_state"+form_id+", #wdform_"+index+"_postal"+form_id+", #wdform_"+index+"_country"+form_id).val("");break;case"type_checkbox":var other_is_checked=!1;jQuery("#form"+form_id+" div[wdid='"+index+"'] .checkbox-div input").prop("checked",!1),jQuery("#form"+form_id+" div[wdid='"+index+"'] .checkbox-div .check-box").removeClass("selected").find("svg").addClass("d-none"),jQuery("#form"+form_id+" div[wdid='"+index+"'] .checkbox-div input").each(function(i,el){1==$(el).data("default-value")&&($(el).prop("checked",!0),$(el).parent().find(".check-box svg").removeClass("d-none"),1==$(el).attr("other")&&(other_is_checked=!0))}),jQuery("#form"+form_id+" div[wdid='"+index+"'] .checkbox-div input[value='"+jQuery("input[name='wdform_"+index+"_element"+form_id+"']").data("default-value")+"']").trigger("click"),jQuery("#form"+form_id+" div[wdid='"+index+"'] .checkbox-div input[value='"+jQuery("input[name='wdform_"+index+"_element"+form_id+"']").data("default-value")+"']").parent().find(".check-box-checked").addClass("d-none"),jQuery("#wdform_"+index+"_other_br"+form_id).remove(),jQuery("#wdform_"+index+"_other_input_div"+form_id).remove(),1==other_is_checked&&show_other_input("wdform_"+index,form_id);break;case"type_radio":var other_is_checked=!1;jQuery("#form"+form_id+" div[wdid='"+index+"'] .radio-div input").prop("checked",!1),jQuery("#form"+form_id+" div[wdid='"+index+"'] .radio-div .radio-box.selected").removeClass("selected"),jQuery("#form"+form_id+" div[wdid='"+index+"'] .radio-div input").each(function(i,el){1==$(el).data("default-value")&&($(el).prop("checked",!0),$(el).parent().find(".radio-box").addClass("selected"),1==$(el).attr("other")&&(other_is_checked=!0))}),jQuery("#wdform_"+index+"_other_br"+form_id).remove(),jQuery("#wdform_"+index+"_other_input_div"+form_id).remove(),1==other_is_checked&&show_other_input("wdform_"+index,form_id);break;case"type_time":var $el;($el=jQuery("#wdform_"+index+"_element"+form_id)).val($el.data("default-value"));break;case"type_date_fields":jQuery("#wdform_"+index+"_day"+form_id+", #wdform_"+index+"_month"+form_id+", #wdform_"+index+"_year"+form_id).val("");break;case"type_file_upload":var $el;($el=jQuery("#wdform_"+index+"_element"+form_id)).val($el.data("default-value")),($el=jQuery("#wdform_"+index+"_element"+form_id+"_value")).val($el.data("default-value"));break;case"type_paypal_price":jQuery("#wdform_"+index+"_element_dollars"+form_id+", #wdform_"+index+"_element_cents"+form_id).val("");break;case"type_paypal_select":jQuery("#wdform_"+index+"_element"+form_id+", #wdform_"+index+"_element_quantity"+form_id+", #form"+form_id+" div[wdid='"+index+"'] .paypal-property select").val("");break;case"type_paypal_radio":jQuery("#wdform_"+index+"_element_quantity"+form_id+",#form"+form_id+" div[wdid='"+index+"'] .paypal-property select").val(""),jQuery("#form"+form_id+" div[wdid='"+index+"'] .radio-div input").prop("checked",!1);break;case"type_paypal_shipping":jQuery("#form"+form_id+" div[wdid='"+index+"'] .radio-div input").prop("checked",!1);break;case"type_paypal_checkbox":jQuery("#wdform_"+index+"_element_quantity"+form_id+",#form"+form_id+" div[wdid='"+index+"'] .paypal-property select").val(""),jQuery("#form"+form_id+" div[wdid='"+index+"'] .checkbox-div input").prop("checked",!1);break;case"type_star_rating":jQuery("#wdform_"+index+"_selected_star_amount"+form_id).val(""),jQuery("#wdform_"+index+"_element"+form_id+" img").attr("src",fm_objectL10n.plugin_url+"/images/star.png");break;case"type_scale_rating":jQuery("#form"+form_id+" div[wdid='"+index+"'] .radio-div input").prop("checked",!1);break;case"type_slider":drag=new Dragdealer("dragdealer_silder_"+index+"_"+form_id,{steps:9999999,slide:!1,animationCallback:function(x,y){var control=$("#dragdealer_silder_"+index+"_"+form_id),controlMin=parseFloat(control.attr("min")),controlMax,range=parseFloat(control.attr("max"))-controlMin;$("#dragdealer_silder_"+index+"_"+form_id+" .value").text(Math.round(x*range+controlMin)),$("#wdform_"+index+"_slider_value"+form_id).val(Math.round(x*range+controlMin)),this.reflow()},x:(parseFloat($("#dragdealer_silder_"+index+"_"+form_id).attr("value"))-parseFloat($("#dragdealer_silder_"+index+"_"+form_id).attr("min")))/(parseFloat($("#dragdealer_silder_"+index+"_"+form_id).attr("max"))-parseFloat($("#dragdealer_silder_"+index+"_"+form_id).attr("min")))}),jQuery("#wdform_"+index+"_slider_value"+form_id).val("0");break;case"type_range":jQuery("#wdform_"+index+"_element"+form_id+"0, #wdform_"+index+"_element"+form_id+"1").val("");break;case"type_grading":jQuery("#wdform_"+index+"_element"+form_id+" input").val("");break;case"type_matrix":jQuery("#wdform_"+index+"_element"+form_id+" .radio-div input").prop("checked",!1),jQuery("#wdform_"+index+"_element"+form_id+" .checkbox-div input").prop("checked",!1),jQuery("#wdform_"+index+"_element"+form_id+" input[type='text']").val(""),jQuery("#wdform_"+index+"_element"+form_id+" input[type='number']").val(""),jQuery("#wdform_"+index+"_element"+form_id+" select").val("");break;case"type_paypal_total":jQuery("#wdform_"+index+"div_total"+form_id).html("$0"),jQuery("#wdform_"+index+"paypal_products"+form_id).empty();break;case"type_cascading_lookup":var default_value=jQuery("#wdform_"+index+"_element"+form_id).prev().find(".selectResetButtonJs").data("default");""==default_value?(jQuery("div[wdid="+index+"]").find(".cascading-select-box").each(function(){jQuery(this).children().first().text(default_value)}),jQuery("#wdform_"+index+"_element"+form_id).val("")):jQuery("#wdform_"+index+"_element"+form_id).prev().find(".selectResetButtonJs").children().each(function(){jQuery(this).data("value")==default_value&&(jQuery(this).click(),jQuery(this).parent().click())})}}),jQuery.each(window["labels_and_ids"+form_id],function(index,elem){switch(elem){case"type_text":case"type_textarea":case"type_spinner":var $el;($el=jQuery("#wdform_"+index+"_element"+form_id)).trigger("keyup");break;case"type_date_new":case"type_own_select":var $el;($el=jQuery("#wdform_"+index+"_element"+form_id)).trigger("change");break;case"type_checkbox":case"type_radio":jQuery("#form"+form_id).find("div[wdid="+index+"]").trigger("resetDataOF");break;case"type_submitter_mail":case"type_time":var $el;($el=jQuery("#wdform_"+index+"_element"+form_id)).trigger("keyup");break;case"type_slider":var $el;($el=jQuery("#wdform_"+index+"_slider_value"+form_id)).trigger("change");break;case"type_cascading_lookup":var $el;($el=jQuery("#wdform_"+index+"_element"+form_id)).trigger("change");break;case"type_file_upload":var $el;($el=jQuery("#wdform_"+index+"_element"+form_id+"_value")).trigger("change")}}),jQuery("#page_previous_2").trigger("click")}function fm_save_form(form_id){jQuery('<input type="hidden" name="save_or_submit'+form_id+'" value ="save" />').appendTo("#form"+form_id),window["onsubmit_js"+form_id](),jQuery("#form"+form_id+" button").each(function(){jQuery(this).attr("disabled","disabled")}),jQuery("#form"+form_id).submit()}function fm_clear_form(form_id){var clear_data;1==confirm(fm_objectL10n.fm_clear_data)&&(jQuery("#form"+form_id+" button").each(function(){jQuery(this).attr("disabled","disabled")}),jQuery.get(fm_objectL10n.form_maker_admin_ajax+"?action=FMClearProg&addon_task=clear_data&form_id="+form_id).done(function(){window.location=jQuery("#form"+form_id).attr("action")}))}function formOnload(form_id){-1!=navigator.userAgent.toLowerCase().indexOf("msie")&&8===parseInt(navigator.userAgent.toLowerCase().split("msie")[1])&&(jQuery("#form"+form_id).find(jQuery("input[type='radio']")).click(function(){jQuery("input[type='radio']+label").removeClass("if-ie-div-label"),jQuery("input[type='radio']:checked+label").addClass("if-ie-div-label")}),jQuery("#form"+form_id).find(jQuery("input[type='radio']:checked+label")).addClass("if-ie-div-label"),jQuery("#form"+form_id).find(jQuery("input[type='checkbox']")).click(function(){jQuery("input[type='checkbox']+label").removeClass("if-ie-div-label"),jQuery("input[type='checkbox']:checked+label").addClass("if-ie-div-label")}),jQuery("#form"+form_id).find(jQuery("input[type='checkbox']:checked+label")).addClass("if-ie-div-label")),jQuery.each(window["check_regExp_all"+form_id],function(wdid,exp){var exp_array={};exp_array[wdid]=exp,jQuery("div[wdid='"+wdid+"'] input").blur(function(){wd_check_regExp(form_id,exp_array)}).focus(function(){jQuery("#form"+form_id+" #wd_exp_"+wdid).remove(),jQuery("#form"+form_id+" div[wdid='"+wdid+"'] .wdform-label-section:first .error_label_exp").removeClass("error_label_exp")})}),jQuery.each(window["check_paypal_price_min_max"+form_id],function(wdid,price_min_max_option){var price_min_max_array={};price_min_max_array[wdid]=price_min_max_option,jQuery("div[wdid='"+wdid+"'] input").blur(function(){wd_check_price_min_max(form_id,price_min_max_array)}).focus(function(){jQuery("#form"+form_id+" #wd_price_"+wdid).remove(),jQuery("#form"+form_id+" div[wdid='"+wdid+"'] .wdform-label-section:first .error_label_price").removeClass("error_label_price")})}),jQuery.each(window["spinner_check"+form_id],function(wdid,spinner_min_max){var spinner_min_max_array;jQuery("div[wdid='"+wdid+"'] input").focus(function(){jQuery("#form"+form_id+" #wd_price_"+wdid).remove(),jQuery("#form"+form_id+" div[wdid='"+wdid+"'] .wdform-label-section:first .error_label_price").removeClass("error_label_price")})}),jQuery.each(window["file_upload_check"+form_id],function(wdid,upload_types){var upload_types_array={};upload_types_array[wdid]=upload_types,jQuery("div[wdid='"+wdid+"'] input").change(function(){wd_file_upload_check(form_id,upload_types_array)})}),jQuery("div[type='type_number'] input, div[type='type_phone'] input, div[type='type_spinner'] input, div[type='type_range'] input, .wdform-quantity, div[type='type_paypal_price_new'] input").keypress(function(evt){return check_isnum(evt)}),jQuery("div[type='type_grading'] input").keypress(function(evt){return check_isnum_or_minus(evt)}),jQuery("div[type='type_paypal_checkbox'] input[type='checkbox'], div[type='type_paypal_radio'] input[type='radio'], div[type='type_paypal_shipping'] input[type='radio']").click(function(){set_total_value(form_id)}),jQuery("div[type='type_paypal_select'] select, div[type='type_paypal_price'] input, div[type='type_paypal_price_new'] input").change(function(){set_total_value(form_id)}),jQuery(".wdform-quantity").change(function(){set_total_value(form_id)}),jQuery("div[type='type_address'] select").change(function(){set_total_value(form_id)}),jQuery("div[type='type_time'] input").blur(function(){add_0(this)}),jQuery(".wdform-element-section").each(function(){if("type_stripe"==jQuery(this).parent().parent().attr("type"))return!0;jQuery(this).parent()[0].style.width||0==parseInt(jQuery(this).width())||0==jQuery(this).parent().find(jQuery(".wdform-label-section")).length||"table-cell"==jQuery(this).css("display")&&("type_captcha"!=jQuery(this).parent().attr("type")?jQuery(this).parent().css("width",parseInt(jQuery(this).width())+parseInt(jQuery(this).parent().find(jQuery(".wdform-label-section"))[0].style.width)+15):jQuery(this).parent().css("width",2*parseInt(jQuery(this).parent().find(jQuery(".captcha_input"))[0].style.width)+50+parseInt(jQuery(this).parent().find(jQuery(".wdform-label-section"))[0].style.width)+15)),parseInt(jQuery(this)[0].style.width.replace("px",""))<parseInt(jQuery(this).css("min-width").replace("px",""))&&jQuery(this).css("min-width",parseInt(jQuery(this)[0].style.width.replace("px",""))-10)}),jQuery(".wdform-label").each(function(){parseInt(jQuery(this).height())>=2*parseInt(jQuery(this).css("line-height").replace("px",""))&&(jQuery(this).parent().css("max-width",jQuery(this).parent().width()),jQuery(this).parent().css("width",""))}),function(jQuery){jQuery.fn.shuffle=function(){var allElems=this.get(),getRandom=function(max){return Math.floor(Math.random()*max)},shuffled=jQuery.map(allElems,function(){var random=getRandom(allElems.length),randEl=jQuery(allElems[parseInt(random)]).clone(!0)[0];return allElems.splice(random,1),randEl});return this.each(function(i){jQuery(this).replaceWith(jQuery(shuffled[i]))}),jQuery(shuffled)}}(jQuery),window["onload_js"+form_id](),window["condition_js"+form_id](),"function"==typeof window["before_load"+form_id]&&window["before_load"+form_id]()}function fm_document_ready(form_id){var pagebreak_count=jQuery("#form"+form_id+" .wdform-page-and-images").length;window["form_view_count"+form_id]=pagebreak_count;var maxid=jQuery("#form"+form_id+" .wdform_page").last().attr("id");maxid=maxid.split("form_view"),window["form_view_max"+form_id]=maxid[1],window["form_view_count"+form_id]>1&&(firstid=jQuery("#form"+form_id+" .wdform_page").first().attr("id"),firstid=firstid.split("form_view"),window["first_form_view"+form_id]=firstid[1],generate_page_nav(window["first_form_view"+form_id],form_id,window["form_view_count"+form_id],window["form_view_max"+form_id])),fm_initilize_form(form_id)}function fm_check(id,form_id){if(!wd_is_filled(form_id))return!1;if(!check_unique_field(form_id))return!1;var checkEmailOfForm=!0,emails=jQuery(".wdform-page-and-images > .wdform_page:visible div[wdid] div[type=type_submitter_mail]:first");if(emails.length)for(i=0;i<emails.length;i++){var elementEmail=jQuery(emails[i]),wdid=elementEmail.closest("div[wdid]").attr("wdid");if(void 0!==wdid){if(!wd_check_email(wdid,form_id)){checkEmailOfForm=!1;break}if(elementEmail.next("div[type=type_submitter_mail]").length&&!wd_check_confirmation_email(wdid,form_id)){checkEmailOfForm=!1;break}}}return!!checkEmailOfForm&&(!!wd_check_regExp(form_id)&&(!!wd_check_price_min_max(form_id)&&(!!wd_spinner_check(form_id)&&(!!wd_file_upload_check(form_id)&&0!=window["check_js"+form_id](id,form_id)))))}function fmRecaptchaInit(){jQuery(".g-recaptcha").each(function(){type=jQuery(this).attr("data-size"),"invisible"==type?(form_id=jQuery(this).attr("data-form_id"),grecaptcha.render(jQuery(this).attr("id"),{sitekey:jQuery(this).attr("data-sitekey"),badge:jQuery(this).attr("data-badge"),callback:function(){fm_submit(form_id)}})):grecaptcha.render(jQuery(this).attr("id"),{sitekey:jQuery(this).attr("data-sitekey"),theme:"light"})})}function wd_change_state_input(id,form_id){if(document.getElementById(id+"_country"+form_id)&&document.getElementById(id+"_state"+form_id)){var flag=!1,state_input=document.getElementById(id+"_state"+form_id);if("United States"==document.getElementById(id+"_country"+form_id).value){var state=document.createElement("select"),states=fm_objectL10n.states;for(var r in states){var option_=document.createElement("option");option_.setAttribute("value",r),option_.innerHTML=states[r],state.appendChild(option_)}flag=!0}else if("SELECT"==document.getElementById(id+"_state"+form_id).tagName){var state=document.createElement("input");flag=!0}if(flag){state.setAttribute("type","text"),state.setAttribute("id",id+"_state"+form_id),state.setAttribute("name","wdform_"+(parseInt(id.replace("wdform_",""))+3)+"_state"+form_id),state.setAttribute("class","wd-width-100");var state_input_parent=state_input.parentNode;state_input_parent.removeChild(state_input),state_input_parent.insertBefore(state,state_input_parent.firstChild)}}}function getDateNewCMS(el){var format=el.siblings("input").attr("format"),date=el.val(),arrFormat=format.replace(/\./g,"-").replace(/\//g,"-").split("-"),day,month,year;if(date)var arrFullDate=date.split(", "),arrDate=arrFullDate[1].replace(/\./g,"-").replace(/\//g,"-").split("-");for(i=0;i<arrFormat.length;i++)switch(arrFormat[i]){case"dd":day=i;break;case"mm":month=i;break;case"yy":year=i}if(date)var dateResult=arrFullDate[0]+", "+arrDate[year]+"/"+arrDate[month]+"/"+arrDate[day];return dateResult}jQuery(document).on("mouseenter",".sel-imul",function(){selenter=!0}),jQuery(document).on("mouseleave",".sel-imul",function(){selenter=!1}),jQuery(document).click(function(){selenter||(jQuery(".sel-options").hide(),jQuery(".sel-imul").removeClass("act"))}),function($){var _funcArrayCompare=function(arr1,arr2){if(arr1 instanceof Array&&arr2 instanceof Array){if(arr1=arr1.sort(),arr2=arr2.sort(),arr1.length!=arr2.length)return!1;for(var i=0;i<arr1.length;i++)if(!_funcArrayCompare(arr1[i],arr2[i]))return!1;return!0}return arr1==arr2};window._funcCheckboxCompare=function(element,values,compare){var _comp;-1==["equal","nequal","like","nlike","empty","nempty"].indexOf(compare=compare||"equal")&&(compare="equal"),values=Array.isArray(values)?values:null==values||0==values?[]:[values];var _checked=[],_unchecked=[];if($(element).each(function(){$(this).is(":checked")?1==$(this).attr("other")?_checked.push($(this).siblings("span").text()):_checked.push($(this).val()):1==$(this).attr("other")?_unchecked.push($(this).siblings("span").text()):_unchecked.push($(this).val())}),values.length)switch(compare){case"equal":return!!_funcArrayCompare(_checked,values);case"empty":return!_checked.length;case"nequal":return!_funcArrayCompare(_checked,values);case"nempty":return!!_checked.length;case"like":var r=!0;return values.forEach(function(val){-1==_checked.indexOf(val)&&(r=!1)}),r;case"nlike":var r=!1;return values.forEach(function(val){-1==_checked.indexOf(val)&&(r=!0)}),r}else switch(compare){case"equal":case"empty":return!_checked.length;case"nequal":case"nempty":return!!_checked.length;case"like":return!1;case"nlike":return!0}}}(jQuery);
/*!
 * jQuery UI Core 1.11.4
 * https://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * https://jquery.org/license
 *
 * https://api.jqueryui.com/category/ui-core/
 */
!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):a(jQuery)}(function(a){function b(b,d){var e,f,g,h=b.nodeName.toLowerCase();return"area"===h?(e=b.parentNode,f=e.name,!(!b.href||!f||"map"!==e.nodeName.toLowerCase())&&(g=a("img[usemap='#"+f+"']")[0],!!g&&c(g))):(/^(input|select|textarea|button|object)$/.test(h)?!b.disabled:"a"===h?b.href||d:d)&&c(b)}function c(b){return a.expr.filters.visible(b)&&!a(b).parents().addBack().filter(function(){return"hidden"===a.css(this,"visibility")}).length}a.ui=a.ui||{},a.extend(a.ui,{version:"1.11.4",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),a.fn.extend({scrollParent:function(b){var c=this.css("position"),d="absolute"===c,e=b?/(auto|scroll|hidden)/:/(auto|scroll)/,f=this.parents().filter(function(){var b=a(this);return(!d||"static"!==b.css("position"))&&e.test(b.css("overflow")+b.css("overflow-y")+b.css("overflow-x"))}).eq(0);return"fixed"!==c&&f.length?f:a(this[0].ownerDocument||document)},uniqueId:function(){var a=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++a)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&a(this).removeAttr("id")})}}),a.extend(a.expr[":"],{data:a.expr.createPseudo?a.expr.createPseudo(function(b){return function(c){return!!a.data(c,b)}}):function(b,c,d){return!!a.data(b,d[3])},focusable:function(c){return b(c,!isNaN(a.attr(c,"tabindex")))},tabbable:function(c){var d=a.attr(c,"tabindex"),e=isNaN(d);return(e||d>=0)&&b(c,!e)}}),a("<a>").outerWidth(1).jquery||a.each(["Width","Height"],function(b,c){function d(b,c,d,f){return a.each(e,function(){c-=parseFloat(a.css(b,"padding"+this))||0,d&&(c-=parseFloat(a.css(b,"border"+this+"Width"))||0),f&&(c-=parseFloat(a.css(b,"margin"+this))||0)}),c}var e="Width"===c?["Left","Right"]:["Top","Bottom"],f=c.toLowerCase(),g={innerWidth:a.fn.innerWidth,innerHeight:a.fn.innerHeight,outerWidth:a.fn.outerWidth,outerHeight:a.fn.outerHeight};a.fn["inner"+c]=function(b){return void 0===b?g["inner"+c].call(this):this.each(function(){a(this).css(f,d(this,b)+"px")})},a.fn["outer"+c]=function(b,e){return"number"!=typeof b?g["outer"+c].call(this,b):this.each(function(){a(this).css(f,d(this,b,!0,e)+"px")})}}),a.fn.addBack||(a.fn.addBack=function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}),a("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(a.fn.removeData=function(b){return function(c){return arguments.length?b.call(this,a.camelCase(c)):b.call(this)}}(a.fn.removeData)),a.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),a.fn.extend({focus:function(b){return function(c,d){return"number"==typeof c?this.each(function(){var b=this;setTimeout(function(){a(b).focus(),d&&d.call(b)},c)}):b.apply(this,arguments)}}(a.fn.focus),disableSelection:function(){var a="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.bind(a+".ui-disableSelection",function(a){a.preventDefault()})}}(),enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(b){if(void 0!==b)return this.css("zIndex",b);if(this.length)for(var c,d,e=a(this[0]);e.length&&e[0]!==document;){if(c=e.css("position"),("absolute"===c||"relative"===c||"fixed"===c)&&(d=parseInt(e.css("zIndex"),10),!isNaN(d)&&0!==d))return d;e=e.parent()}return 0}}),a.ui.plugin={add:function(b,c,d){var e,f=a.ui[b].prototype;for(e in d)f.plugins[e]=f.plugins[e]||[],f.plugins[e].push([c,d[e]])},call:function(a,b,c,d){var e,f=a.plugins[b];if(f&&(d||a.element[0].parentNode&&11!==a.element[0].parentNode.nodeType))for(e=0;e<f.length;e++)a.options[f[e][0]]&&f[e][1].apply(a.element,c)}}});
/*!
 * jQuery UI Button 1.11.4
 * https://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * https://jquery.org/license
 *
 * https://api.jqueryui.com/button/
 */
!function(a){"function"==typeof define&&define.amd?define(["jquery","./core","./widget"],a):a(jQuery)}(function(a){var b,c="ui-button ui-widget ui-state-default ui-corner-all",d="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",e=function(){var b=a(this);setTimeout(function(){b.find(":ui-button").button("refresh")},1)},f=function(b){var c=b.name,d=b.form,e=a([]);return c&&(c=c.replace(/'/g,"\\'"),e=d?a(d).find("[name='"+c+"'][type=radio]"):a("[name='"+c+"'][type=radio]",b.ownerDocument).filter(function(){return!this.form})),e};return a.widget("ui.button",{version:"1.11.4",defaultElement:"<button>",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,e),"boolean"!=typeof this.options.disabled?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var d=this,g=this.options,h="checkbox"===this.type||"radio"===this.type,i=h?"":"ui-state-active";null===g.label&&(g.label="input"===this.type?this.buttonElement.val():this.buttonElement.html()),this._hoverable(this.buttonElement),this.buttonElement.addClass(c).attr("role","button").bind("mouseenter"+this.eventNamespace,function(){g.disabled||this===b&&a(this).addClass("ui-state-active")}).bind("mouseleave"+this.eventNamespace,function(){g.disabled||a(this).removeClass(i)}).bind("click"+this.eventNamespace,function(a){g.disabled&&(a.preventDefault(),a.stopImmediatePropagation())}),this._on({focus:function(){this.buttonElement.addClass("ui-state-focus")},blur:function(){this.buttonElement.removeClass("ui-state-focus")}}),h&&this.element.bind("change"+this.eventNamespace,function(){d.refresh()}),"checkbox"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(g.disabled)return!1}):"radio"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(g.disabled)return!1;a(this).addClass("ui-state-active"),d.buttonElement.attr("aria-pressed","true");var b=d.element[0];f(b).not(b).map(function(){return a(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown"+this.eventNamespace,function(){return!g.disabled&&(a(this).addClass("ui-state-active"),b=this,void d.document.one("mouseup",function(){b=null}))}).bind("mouseup"+this.eventNamespace,function(){return!g.disabled&&void a(this).removeClass("ui-state-active")}).bind("keydown"+this.eventNamespace,function(b){return!g.disabled&&void(b.keyCode!==a.ui.keyCode.SPACE&&b.keyCode!==a.ui.keyCode.ENTER||a(this).addClass("ui-state-active"))}).bind("keyup"+this.eventNamespace+" blur"+this.eventNamespace,function(){a(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(b){b.keyCode===a.ui.keyCode.SPACE&&a(this).click()})),this._setOption("disabled",g.disabled),this._resetButton()},_determineButtonType:function(){var a,b,c;this.element.is("[type=checkbox]")?this.type="checkbox":this.element.is("[type=radio]")?this.type="radio":this.element.is("input")?this.type="input":this.type="button","checkbox"===this.type||"radio"===this.type?(a=this.element.parents().last(),b="label[for='"+this.element.attr("id")+"']",this.buttonElement=a.find(b),this.buttonElement.length||(a=a.length?a.siblings():this.element.siblings(),this.buttonElement=a.filter(b),this.buttonElement.length||(this.buttonElement=a.find(b))),this.element.addClass("ui-helper-hidden-accessible"),c=this.element.is(":checked"),c&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",c)):this.buttonElement=this.element},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass(c+" ui-state-active "+d).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title")},_setOption:function(a,b){return this._super(a,b),"disabled"===a?(this.widget().toggleClass("ui-state-disabled",!!b),this.element.prop("disabled",!!b),void(b&&("checkbox"===this.type||"radio"===this.type?this.buttonElement.removeClass("ui-state-focus"):this.buttonElement.removeClass("ui-state-focus ui-state-active")))):void this._resetButton()},refresh:function(){var b=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");b!==this.options.disabled&&this._setOption("disabled",b),"radio"===this.type?f(this.element[0]).each(function(){a(this).is(":checked")?a(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):a(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):"checkbox"===this.type&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if("input"===this.type)return void(this.options.label&&this.element.val(this.options.label));var b=this.buttonElement.removeClass(d),c=a("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(b.empty()).text(),e=this.options.icons,f=e.primary&&e.secondary,g=[];e.primary||e.secondary?(this.options.text&&g.push("ui-button-text-icon"+(f?"s":e.primary?"-primary":"-secondary")),e.primary&&b.prepend("<span class='ui-button-icon-primary ui-icon "+e.primary+"'></span>"),e.secondary&&b.append("<span class='ui-button-icon-secondary ui-icon "+e.secondary+"'></span>"),this.options.text||(g.push(f?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||b.attr("title",a.trim(c)))):g.push("ui-button-text-only"),b.addClass(g.join(" "))}}),a.widget("ui.buttonset",{version:"1.11.4",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(a,b){"disabled"===a&&this.buttons.button("option",a,b),this._super(a,b)},refresh:function(){var b="rtl"===this.element.css("direction"),c=this.element.find(this.options.items),d=c.filter(":ui-button");c.not(":ui-button").button(),d.button("refresh"),this.buttons=c.map(function(){return a(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(b?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(b?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map(function(){return a(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}}),a.ui.button});
/*!
 * jQuery UI Spinner 1.11.4
 * https://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * https://jquery.org/license
 *
 * https://api.jqueryui.com/spinner/
 */
!function(a){"function"==typeof define&&define.amd?define(["jquery","./core","./widget","./button"],a):a(jQuery)}(function(a){function b(a){return function(){var b=this.element.val();a.apply(this,arguments),this._refresh(),b!==this.element.val()&&this._trigger("change")}}return a.widget("ui.spinner",{version:"1.11.4",defaultElement:"<input>",widgetEventPrefix:"spin",options:{culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),""!==this.value()&&this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var b={},c=this.element;return a.each(["min","max","step"],function(a,d){var e=c.attr(d);void 0!==e&&e.length&&(b[d]=e)}),b},_events:{keydown:function(a){this._start(a)&&this._keydown(a)&&a.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(a){return this.cancelBlur?void delete this.cancelBlur:(this._stop(),this._refresh(),void(this.previous!==this.element.val()&&this._trigger("change",a)))},mousewheel:function(a,b){if(b){if(!this.spinning&&!this._start(a))return!1;this._spin((b>0?1:-1)*this.options.step,a),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(a)},100),a.preventDefault()}},"mousedown .ui-spinner-button":function(b){function c(){var a=this.element[0]===this.document[0].activeElement;a||(this.element.focus(),this.previous=d,this._delay(function(){this.previous=d}))}var d;d=this.element[0]===this.document[0].activeElement?this.previous:this.element.val(),b.preventDefault(),c.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,c.call(this)}),this._start(b)!==!1&&this._repeat(null,a(b.currentTarget).hasClass("ui-spinner-up")?1:-1,b)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(b){if(a(b.currentTarget).hasClass("ui-state-active"))return this._start(b)!==!1&&void this._repeat(null,a(b.currentTarget).hasClass("ui-spinner-up")?1:-1,b)},"mouseleave .ui-spinner-button":"_stop"},_draw:function(){var a=this.uiSpinner=this.element.addClass("ui-spinner-input").attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());this.element.attr("role","spinbutton"),this.buttons=a.find(".ui-spinner-button").attr("tabIndex",-1).button().removeClass("ui-corner-all"),this.buttons.height()>Math.ceil(.5*a.height())&&a.height()>0&&a.height(a.height()),this.options.disabled&&this.disable()},_keydown:function(b){var c=this.options,d=a.ui.keyCode;switch(b.keyCode){case d.UP:return this._repeat(null,1,b),!0;case d.DOWN:return this._repeat(null,-1,b),!0;case d.PAGE_UP:return this._repeat(null,c.page,b),!0;case d.PAGE_DOWN:return this._repeat(null,-c.page,b),!0}return!1},_uiSpinnerHtml:function(){return"<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'></span>"},_buttonHtml:function(){return"<a class='ui-spinner-button ui-spinner-up ui-corner-tr'><span class='ui-icon "+this.options.icons.up+"'>&#9650;</span></a><a class='ui-spinner-button ui-spinner-down ui-corner-br'><span class='ui-icon "+this.options.icons.down+"'>&#9660;</span></a>"},_start:function(a){return!(!this.spinning&&this._trigger("start",a)===!1)&&(this.counter||(this.counter=1),this.spinning=!0,!0)},_repeat:function(a,b,c){a=a||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,b,c)},a),this._spin(b*this.options.step,c)},_spin:function(a,b){var c=this.value()||0;this.counter||(this.counter=1),c=this._adjustValue(c+a*this._increment(this.counter)),this.spinning&&this._trigger("spin",b,{value:c})===!1||(this._value(c),this.counter++)},_increment:function(b){var c=this.options.incremental;return c?a.isFunction(c)?c(b):Math.floor(b*b*b/5e4-b*b/500+17*b/200+1):1},_precision:function(){var a=this._precisionOf(this.options.step);return null!==this.options.min&&(a=Math.max(a,this._precisionOf(this.options.min))),a},_precisionOf:function(a){var b=a.toString(),c=b.indexOf(".");return c===-1?0:b.length-c-1},_adjustValue:function(a){var b,c,d=this.options;return b=null!==d.min?d.min:0,c=a-b,c=Math.round(c/d.step)*d.step,a=b+c,a=parseFloat(a.toFixed(this._precision())),null!==d.max&&a>d.max?d.max:null!==d.min&&a<d.min?d.min:a},_stop:function(a){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",a))},_setOption:function(a,b){if("culture"===a||"numberFormat"===a){var c=this._parse(this.element.val());return this.options[a]=b,void this.element.val(this._format(c))}"max"!==a&&"min"!==a&&"step"!==a||"string"==typeof b&&(b=this._parse(b)),"icons"===a&&(this.buttons.first().find(".ui-icon").removeClass(this.options.icons.up).addClass(b.up),this.buttons.last().find(".ui-icon").removeClass(this.options.icons.down).addClass(b.down)),this._super(a,b),"disabled"===a&&(this.widget().toggleClass("ui-state-disabled",!!b),this.element.prop("disabled",!!b),this.buttons.button(b?"disable":"enable"))},_setOptions:b(function(a){this._super(a)}),_parse:function(a){return"string"==typeof a&&""!==a&&(a=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(a,10,this.options.culture):+a),""===a||isNaN(a)?null:a},_format:function(a){return""===a?"":window.Globalize&&this.options.numberFormat?Globalize.format(a,this.options.numberFormat,this.options.culture):a},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},isValid:function(){var a=this.value();return null!==a&&a===this._adjustValue(a)},_value:function(a,b){var c;""!==a&&(c=this._parse(a),null!==c&&(b||(c=this._adjustValue(c)),a=this._format(c))),this.element.val(a),this._refresh()},_destroy:function(){this.element.removeClass("ui-spinner-input").prop("disabled",!1).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:b(function(a){this._stepUp(a)}),_stepUp:function(a){this._start()&&(this._spin((a||1)*this.options.step),this._stop())},stepDown:b(function(a){this._stepDown(a)}),_stepDown:function(a){this._start()&&(this._spin((a||1)*-this.options.step),this._stop())},pageUp:b(function(a){this._stepUp((a||1)*this.options.page)}),pageDown:b(function(a){this._stepDown((a||1)*this.options.page)}),value:function(a){return arguments.length?void b(this._value).call(this,a):this._parse(this.element.val())},widget:function(){return this.uiSpinner}})});
